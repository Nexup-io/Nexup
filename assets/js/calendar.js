!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=957)}([function(e,t,n){e.exports=n(354)()},function(e,t,n){"use strict";e.exports=n(420)},function(e,t,n){var r=n(5),a=n(42),o=n(24),i=n(23),s=n(35),u=function(e,t,n){var l,c,d,f,p=e&u.F,h=e&u.G,m=e&u.S,v=e&u.P,y=e&u.B,g=h?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,b=h?a:a[t]||(a[t]={}),_=b.prototype||(b.prototype={});for(l in h&&(n=t),n)d=((c=!p&&g&&void 0!==g[l])?g:n)[l],f=y&&c?s(d,r):v&&"function"==typeof d?s(Function.call,d):d,g&&i(g,l,d,e&u.U),b[l]!=d&&o(b,l,f),v&&_[l]!=d&&(_[l]=d)};r.core=a,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){var r=n(8);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){(function(e){e.exports=function(){"use strict";var t,r;function a(){return t.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){return void 0===e}function u(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function l(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function c(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){for(var n in t)d(t,n)&&(e[n]=t[n]);return d(t,"toString")&&(e.toString=t.toString),d(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Mt(e,t,n,r,!0).utc()}function h(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var t=h(e),n=r.call(t.parsedDateParts,function(e){return null!=e}),a=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(a=a&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return a;e._isValid=a}return e._isValid}function v(e){var t=p(NaN);return null!=e?f(h(t),e):h(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var y=a.momentProperties=[];function g(e,t){var n,r,a;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=h(t)),s(t._locale)||(e._locale=t._locale),y.length>0)for(n=0;n<y.length;n++)r=y[n],s(a=t[r])||(e[r]=a);return e}var b=!1;function _(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,a.updateOffset(this),b=!1)}function w(e){return e instanceof _||null!=e&&null!=e._isAMomentObject}function E(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function k(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=E(t)),n}function S(e,t,n){var r,a=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),i=0;for(r=0;r<a;r++)(n&&e[r]!==t[r]||!n&&k(e[r])!==k(t[r]))&&i++;return i+o}function O(e){!1===a.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function C(e,t){var n=!0;return f(function(){if(null!=a.deprecationHandler&&a.deprecationHandler(null,e),n){for(var r,o=[],i=0;i<arguments.length;i++){if(r="","object"==typeof arguments[i]){for(var s in r+="\n["+i+"] ",arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[i];o.push(r)}O(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}var D,T={};function M(e,t){null!=a.deprecationHandler&&a.deprecationHandler(e,t),T[e]||(O(t),T[e]=!0)}function P(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function x(e,t){var n,r=f({},e);for(n in t)d(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)d(e,n)&&!d(t,n)&&i(e[n])&&(r[n]=f({},r[n]));return r}function j(e){null!=e&&this.set(e)}a.suppressDeprecationWarnings=!1,a.deprecationHandler=null,D=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)d(e,t)&&n.push(t);return n};var N={};function A(e,t){var n=e.toLowerCase();N[n]=N[n+"s"]=N[t]=e}function R(e){return"string"==typeof e?N[e]||N[e.toLowerCase()]:void 0}function L(e){var t,n,r={};for(n in e)d(e,n)&&(t=R(n))&&(r[t]=e[n]);return r}var I={};function F(e,t){I[e]=t}function Y(e,t,n){var r=""+Math.abs(e),a=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+r}var U=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,V={},B={};function W(e,t,n,r){var a=r;"string"==typeof r&&(a=function(){return this[r]()}),e&&(B[e]=a),t&&(B[t[0]]=function(){return Y(a.apply(this,arguments),t[1],t[2])}),n&&(B[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function z(e,t){return e.isValid()?(t=G(t,e.localeData()),V[t]=V[t]||function(e){var t,n,r,a=e.match(U);for(t=0,n=a.length;t<n;t++)B[a[t]]?a[t]=B[a[t]]:a[t]=(r=a[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,o="";for(r=0;r<n;r++)o+=P(a[r])?a[r].call(t,e):a[r];return o}}(t),V[t](e)):e.localeData().invalidDate()}function G(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(H.lastIndex=0;n>=0&&H.test(e);)e=e.replace(H,r),H.lastIndex=0,n-=1;return e}var q=/\d/,K=/\d\d/,$=/\d{3}/,J=/\d{4}/,Q=/[+-]?\d{6}/,X=/\d\d?/,Z=/\d\d\d\d?/,ee=/\d\d\d\d\d\d?/,te=/\d{1,3}/,ne=/\d{1,4}/,re=/[+-]?\d{1,6}/,ae=/\d+/,oe=/[+-]?\d+/,ie=/Z|[+-]\d\d:?\d\d/gi,se=/Z|[+-]\d\d(?::?\d\d)?/gi,ue=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,le={};function ce(e,t,n){le[e]=P(t)?t:function(e,r){return e&&n?n:t}}function de(e,t){return d(le,e)?le[e](t._strict,t._locale):new RegExp(fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,a){return t||n||r||a})))}function fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var pe={};function he(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),u(t)&&(r=function(e,n){n[t]=k(e)}),n=0;n<e.length;n++)pe[e[n]]=r}function me(e,t){he(e,function(e,n,r,a){r._w=r._w||{},t(e,r._w,r,a)})}function ve(e,t,n){null!=t&&d(pe,e)&&pe[e](t,n._a,n,e)}var ye=0,ge=1,be=2,_e=3,we=4,Ee=5,ke=6,Se=7,Oe=8;function Ce(e){return De(e)?366:365}function De(e){return e%4==0&&e%100!=0||e%400==0}W("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),A("year","y"),F("year",1),ce("Y",oe),ce("YY",X,K),ce("YYYY",ne,J),ce("YYYYY",re,Q),ce("YYYYYY",re,Q),he(["YYYYY","YYYYYY"],ye),he("YYYY",function(e,t){t[ye]=2===e.length?a.parseTwoDigitYear(e):k(e)}),he("YY",function(e,t){t[ye]=a.parseTwoDigitYear(e)}),he("Y",function(e,t){t[ye]=parseInt(e,10)}),a.parseTwoDigitYear=function(e){return k(e)+(k(e)>68?1900:2e3)};var Te,Me=Pe("FullYear",!0);function Pe(e,t){return function(n){return null!=n?(je(this,e,n),a.updateOffset(this,t),this):xe(this,e)}}function xe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function je(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&De(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ne(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Ne(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?De(e)?29:28:31-r%7%2}Te=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),W("MMMM",0,0,function(e){return this.localeData().months(this,e)}),A("month","M"),F("month",8),ce("M",X),ce("MM",X,K),ce("MMM",function(e,t){return t.monthsShortRegex(e)}),ce("MMMM",function(e,t){return t.monthsRegex(e)}),he(["M","MM"],function(e,t){t[ge]=k(e)-1}),he(["MMM","MMMM"],function(e,t,n,r){var a=n._locale.monthsParse(e,r,n._strict);null!=a?t[ge]=a:h(n).invalidMonth=e});var Ae=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Re="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Le="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ie(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=k(t);else if(!u(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ne(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Fe(e){return null!=e?(Ie(this,e),a.updateOffset(this,!0),this):xe(this,"Month")}var Ye=ue,Ue=ue;function He(){function e(e,t){return t.length-e.length}var t,n,r=[],a=[],o=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),a.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),a.sort(e),o.sort(e),t=0;t<12;t++)r[t]=fe(r[t]),a[t]=fe(a[t]);for(t=0;t<24;t++)o[t]=fe(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ve(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Be(e,t,n){var r=7+t-n,a=(7+Ve(e,0,r).getUTCDay()-t)%7;return-a+r-1}function We(e,t,n,r,a){var o,i,s=(7+n-r)%7,u=Be(e,r,a),l=1+7*(t-1)+s+u;return l<=0?i=Ce(o=e-1)+l:l>Ce(e)?(o=e+1,i=l-Ce(e)):(o=e,i=l),{year:o,dayOfYear:i}}function ze(e,t,n){var r,a,o=Be(e.year(),t,n),i=Math.floor((e.dayOfYear()-o-1)/7)+1;return i<1?(a=e.year()-1,r=i+Ge(a,t,n)):i>Ge(e.year(),t,n)?(r=i-Ge(e.year(),t,n),a=e.year()+1):(a=e.year(),r=i),{week:r,year:a}}function Ge(e,t,n){var r=Be(e,t,n),a=Be(e+1,t,n);return(Ce(e)-r+a)/7}W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),F("week",5),F("isoWeek",5),ce("w",X),ce("ww",X,K),ce("W",X),ce("WW",X,K),me(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=k(e)}),W("d",0,"do","day"),W("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),W("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),W("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),ce("d",X),ce("e",X),ce("E",X),ce("dd",function(e,t){return t.weekdaysMinRegex(e)}),ce("ddd",function(e,t){return t.weekdaysShortRegex(e)}),ce("dddd",function(e,t){return t.weekdaysRegex(e)}),me(["dd","ddd","dddd"],function(e,t,n,r){var a=n._locale.weekdaysParse(e,r,n._strict);null!=a?t.d=a:h(n).invalidWeekday=e}),me(["d","e","E"],function(e,t,n,r){t[r]=k(e)});var qe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ke="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),$e="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Je=ue,Qe=ue,Xe=ue;function Ze(){function e(e,t){return t.length-e.length}var t,n,r,a,o,i=[],s=[],u=[],l=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=this.weekdaysMin(n,""),a=this.weekdaysShort(n,""),o=this.weekdays(n,""),i.push(r),s.push(a),u.push(o),l.push(r),l.push(a),l.push(o);for(i.sort(e),s.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)s[t]=fe(s[t]),u[t]=fe(u[t]),l[t]=fe(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function et(){return this.hours()%12||12}function tt(e,t){W(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function nt(e,t){return t._meridiemParse}W("H",["HH",2],0,"hour"),W("h",["hh",2],0,et),W("k",["kk",2],0,function(){return this.hours()||24}),W("hmm",0,0,function(){return""+et.apply(this)+Y(this.minutes(),2)}),W("hmmss",0,0,function(){return""+et.apply(this)+Y(this.minutes(),2)+Y(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+Y(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+Y(this.minutes(),2)+Y(this.seconds(),2)}),tt("a",!0),tt("A",!1),A("hour","h"),F("hour",13),ce("a",nt),ce("A",nt),ce("H",X),ce("h",X),ce("k",X),ce("HH",X,K),ce("hh",X,K),ce("kk",X,K),ce("hmm",Z),ce("hmmss",ee),ce("Hmm",Z),ce("Hmmss",ee),he(["H","HH"],_e),he(["k","kk"],function(e,t,n){var r=k(e);t[_e]=24===r?0:r}),he(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),he(["h","hh"],function(e,t,n){t[_e]=k(e),h(n).bigHour=!0}),he("hmm",function(e,t,n){var r=e.length-2;t[_e]=k(e.substr(0,r)),t[we]=k(e.substr(r)),h(n).bigHour=!0}),he("hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[_e]=k(e.substr(0,r)),t[we]=k(e.substr(r,2)),t[Ee]=k(e.substr(a)),h(n).bigHour=!0}),he("Hmm",function(e,t,n){var r=e.length-2;t[_e]=k(e.substr(0,r)),t[we]=k(e.substr(r))}),he("Hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[_e]=k(e.substr(0,r)),t[we]=k(e.substr(r,2)),t[Ee]=k(e.substr(a))});var rt,at=Pe("Hours",!0),ot={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Re,monthsShort:Le,week:{dow:0,doy:6},weekdays:qe,weekdaysMin:$e,weekdaysShort:Ke,meridiemParse:/[ap]\.?m?\.?/i},it={},st={};function ut(e){return e?e.toLowerCase().replace("_","-"):e}function lt(t){var r=null;if(!it[t]&&void 0!==e&&e&&e.exports)try{r=rt._abbr,n(425)("./"+t),ct(r)}catch(e){}return it[t]}function ct(e,t){var n;return e&&((n=s(t)?ft(e):dt(e,t))?rt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),rt._abbr}function dt(e,t){if(null!==t){var n,r=ot;if(t.abbr=e,null!=it[e])M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=it[e]._config;else if(null!=t.parentLocale)if(null!=it[t.parentLocale])r=it[t.parentLocale]._config;else{if(null==(n=lt(t.parentLocale)))return st[t.parentLocale]||(st[t.parentLocale]=[]),st[t.parentLocale].push({name:e,config:t}),null;r=n._config}return it[e]=new j(x(r,t)),st[e]&&st[e].forEach(function(e){dt(e.name,e.config)}),ct(e),it[e]}return delete it[e],null}function ft(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return rt;if(!o(e)){if(t=lt(e))return t;e=[e]}return function(e){for(var t,n,r,a,o=0;o<e.length;){for(a=ut(e[o]).split("-"),t=a.length,n=(n=ut(e[o+1]))?n.split("-"):null;t>0;){if(r=lt(a.slice(0,t).join("-")))return r;if(n&&n.length>=t&&S(a,n,!0)>=t-1)break;t--}o++}return rt}(e)}function pt(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[ge]<0||n[ge]>11?ge:n[be]<1||n[be]>Ne(n[ye],n[ge])?be:n[_e]<0||n[_e]>24||24===n[_e]&&(0!==n[we]||0!==n[Ee]||0!==n[ke])?_e:n[we]<0||n[we]>59?we:n[Ee]<0||n[Ee]>59?Ee:n[ke]<0||n[ke]>999?ke:-1,h(e)._overflowDayOfYear&&(t<ye||t>be)&&(t=be),h(e)._overflowWeeks&&-1===t&&(t=Se),h(e)._overflowWeekday&&-1===t&&(t=Oe),h(e).overflow=t),e}function ht(e,t,n){return null!=e?e:null!=t?t:n}function mt(e){var t,n,r,o,i,s=[];if(!e._d){for(r=function(e){var t=new Date(a.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[be]&&null==e._a[ge]&&function(e){var t,n,r,a,o,i,s,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,i=4,n=ht(t.GG,e._a[ye],ze(Pt(),1,4).year),r=ht(t.W,1),((a=ht(t.E,1))<1||a>7)&&(u=!0);else{o=e._locale._week.dow,i=e._locale._week.doy;var l=ze(Pt(),o,i);n=ht(t.gg,e._a[ye],l.year),r=ht(t.w,l.week),null!=t.d?((a=t.d)<0||a>6)&&(u=!0):null!=t.e?(a=t.e+o,(t.e<0||t.e>6)&&(u=!0)):a=o}r<1||r>Ge(n,o,i)?h(e)._overflowWeeks=!0:null!=u?h(e)._overflowWeekday=!0:(s=We(n,r,a,o,i),e._a[ye]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(i=ht(e._a[ye],r[ye]),(e._dayOfYear>Ce(i)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),n=Ve(i,0,e._dayOfYear),e._a[ge]=n.getUTCMonth(),e._a[be]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[_e]&&0===e._a[we]&&0===e._a[Ee]&&0===e._a[ke]&&(e._nextDay=!0,e._a[_e]=0),e._d=(e._useUTC?Ve:function(e,t,n,r,a,o,i){var s=new Date(e,t,n,r,a,o,i);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}).apply(null,s),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[_e]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(h(e).weekdayMismatch=!0)}}var vt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gt=/Z|[+-]\d\d(?::?\d\d)?/,bt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],_t=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],wt=/^\/?Date\((\-?\d+)/i;function Et(e){var t,n,r,a,o,i,s=e._i,u=vt.exec(s)||yt.exec(s);if(u){for(h(e).iso=!0,t=0,n=bt.length;t<n;t++)if(bt[t][1].exec(u[1])){a=bt[t][0],r=!1!==bt[t][2];break}if(null==a)return void(e._isValid=!1);if(u[3]){for(t=0,n=_t.length;t<n;t++)if(_t[t][1].exec(u[3])){o=(u[2]||" ")+_t[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!gt.exec(u[4]))return void(e._isValid=!1);i="Z"}e._f=a+(o||"")+(i||""),Dt(e)}else e._isValid=!1}var kt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function St(e,t,n,r,a,o){var i=[function(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}(e),Le.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(a,10)];return o&&i.push(parseInt(o,10)),i}var Ot={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ct(e){var t=kt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(t){var n=St(t[4],t[3],t[2],t[5],t[6],t[7]);if(!function(e,t,n){if(e){var r=Ke.indexOf(e),a=new Date(t[0],t[1],t[2]).getDay();if(r!==a)return h(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}(t[1],n,e))return;e._a=n,e._tzm=function(e,t,n){if(e)return Ot[e];if(t)return 0;var r=parseInt(n,10),a=r%100,o=(r-a)/100;return 60*o+a}(t[8],t[9],t[10]),e._d=Ve.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function Dt(e){if(e._f!==a.ISO_8601)if(e._f!==a.RFC_2822){e._a=[],h(e).empty=!0;var t,n,r,o,i,s=""+e._i,u=s.length,l=0;for(r=G(e._f,e._locale).match(U)||[],t=0;t<r.length;t++)o=r[t],(n=(s.match(de(o,e))||[])[0])&&((i=s.substr(0,s.indexOf(n))).length>0&&h(e).unusedInput.push(i),s=s.slice(s.indexOf(n)+n.length),l+=n.length),B[o]?(n?h(e).empty=!1:h(e).unusedTokens.push(o),ve(o,n,e)):e._strict&&!n&&h(e).unusedTokens.push(o);h(e).charsLeftOver=u-l,s.length>0&&h(e).unusedInput.push(s),e._a[_e]<=12&&!0===h(e).bigHour&&e._a[_e]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[_e]=(c=e._locale,d=e._a[_e],null==(f=e._meridiem)?d:null!=c.meridiemHour?c.meridiemHour(d,f):null!=c.isPM?((p=c.isPM(f))&&d<12&&(d+=12),p||12!==d||(d=0),d):d),mt(e),pt(e)}else Ct(e);else Et(e);var c,d,f,p}function Tt(e){var t=e._i,n=e._f;return e._locale=e._locale||ft(e._l),null===t||void 0===n&&""===t?v({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new _(pt(t)):(l(t)?e._d=t:o(n)?function(e){var t,n,r,a,o;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)o=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],Dt(t),m(t)&&(o+=h(t).charsLeftOver,o+=10*h(t).unusedTokens.length,h(t).score=o,(null==r||o<r)&&(r=o,n=t));f(e,n||t)}(e):n?Dt(e):function(e){var t=e._i;s(t)?e._d=new Date(a.now()):l(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=wt.exec(e._i);null===t?(Et(e),!1===e._isValid&&(delete e._isValid,Ct(e),!1===e._isValid&&(delete e._isValid,a.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=c(t.slice(0),function(e){return parseInt(e,10)}),mt(e)):i(t)?function(e){if(!e._d){var t=L(e._i);e._a=c([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),mt(e)}}(e):u(t)?e._d=new Date(t):a.createFromInputFallback(e)}(e),m(e)||(e._d=null),e))}function Mt(e,t,n,r,a){var s,u={};return!0!==n&&!1!==n||(r=n,n=void 0),(i(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||o(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=a,u._l=n,u._i=e,u._f=t,u._strict=r,(s=new _(pt(Tt(u))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Pt(e,t,n,r){return Mt(e,t,n,r,!1)}a.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),a.ISO_8601=function(){},a.RFC_2822=function(){};var xt=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()}),jt=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:v()});function Nt(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Pt();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var At=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Rt(e){var t=L(e),n=t.year||0,r=t.quarter||0,a=t.month||0,o=t.week||0,i=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Te.call(At,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<At.length;++r)if(e[At[r]]){if(n)return!1;parseFloat(e[At[r]])!==k(e[At[r]])&&(n=!0)}return!0}(t),this._milliseconds=+c+1e3*l+6e4*u+1e3*s*60*60,this._days=+i+7*o,this._months=+a+3*r+12*n,this._data={},this._locale=ft(),this._bubble()}function Lt(e){return e instanceof Rt}function It(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ft(e,t){W(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+Y(~~(e/60),2)+t+Y(~~e%60,2)})}Ft("Z",":"),Ft("ZZ",""),ce("Z",se),ce("ZZ",se),he(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ut(se,e)});var Yt=/([\+\-]|\d\d)/gi;function Ut(e,t){var n=(t||"").match(e);if(null===n)return null;var r=n[n.length-1]||[],a=(r+"").match(Yt)||["-",0,0],o=60*a[1]+k(a[2]);return 0===o?0:"+"===a[0]?o:-o}function Ht(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(w(e)||l(e)?e.valueOf():Pt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),a.updateOffset(n,!1),n):Pt(e).local()}function Vt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Bt(){return!!this.isValid()&&this._isUTC&&0===this._offset}a.updateOffset=function(){};var Wt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,zt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Gt(e,t){var n,r,a,o,i,s,l=e,c=null;return Lt(e)?l={ms:e._milliseconds,d:e._days,M:e._months}:u(e)?(l={},t?l[t]=e:l.milliseconds=e):(c=Wt.exec(e))?(n="-"===c[1]?-1:1,l={y:0,d:k(c[be])*n,h:k(c[_e])*n,m:k(c[we])*n,s:k(c[Ee])*n,ms:k(It(1e3*c[ke]))*n}):(c=zt.exec(e))?(n="-"===c[1]?-1:(c[1],1),l={y:qt(c[2],n),M:qt(c[3],n),w:qt(c[4],n),d:qt(c[5],n),h:qt(c[6],n),m:qt(c[7],n),s:qt(c[8],n)}):null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(o=Pt(l.from),i=Pt(l.to),a=o.isValid()&&i.isValid()?(i=Ht(i,o),o.isBefore(i)?s=Kt(o,i):((s=Kt(i,o)).milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0},(l={}).ms=a.milliseconds,l.M=a.months),r=new Rt(l),Lt(e)&&d(e,"_locale")&&(r._locale=e._locale),r}function qt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Kt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function $t(e,t){return function(n,r){var a;return null===r||isNaN(+r)||(M(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=r,r=a),Jt(this,Gt(n="string"==typeof n?+n:n,r),e),this}}function Jt(e,t,n,r){var o=t._milliseconds,i=It(t._days),s=It(t._months);e.isValid()&&(r=null==r||r,s&&Ie(e,xe(e,"Month")+s*n),i&&je(e,"Date",xe(e,"Date")+i*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&a.updateOffset(e,i||s))}Gt.fn=Rt.prototype,Gt.invalid=function(){return Gt(NaN)};var Qt=$t(1,"add"),Xt=$t(-1,"subtract");function Zt(e,t){var n,r,a=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(a,"months");return t-o<0?(n=e.clone().add(a-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(a+1,"months"),r=(t-o)/(n-o)),-(a+r)||0}function en(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ft(e))&&(this._locale=t),this)}a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var tn=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function nn(){return this._locale}function rn(e,t){W(0,[e,e.length],0,t)}function an(e,t,n,r,a){var o;return null==e?ze(this,r,a).year:(o=Ge(e,r,a),t>o&&(t=o),function(e,t,n,r,a){var o=We(e,t,n,r,a),i=Ve(o.year,0,o.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}.call(this,e,t,n,r,a))}W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100}),rn("gggg","weekYear"),rn("ggggg","weekYear"),rn("GGGG","isoWeekYear"),rn("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),ce("G",oe),ce("g",oe),ce("GG",X,K),ce("gg",X,K),ce("GGGG",ne,J),ce("gggg",ne,J),ce("GGGGG",re,Q),ce("ggggg",re,Q),me(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=k(e)}),me(["gg","GG"],function(e,t,n,r){t[r]=a.parseTwoDigitYear(e)}),W("Q",0,"Qo","quarter"),A("quarter","Q"),F("quarter",7),ce("Q",q),he("Q",function(e,t){t[ge]=3*(k(e)-1)}),W("D",["DD",2],"Do","date"),A("date","D"),F("date",9),ce("D",X),ce("DD",X,K),ce("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),he(["D","DD"],be),he("Do",function(e,t){t[be]=k(e.match(X)[0])});var on=Pe("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),F("dayOfYear",4),ce("DDD",te),ce("DDDD",$),he(["DDD","DDDD"],function(e,t,n){n._dayOfYear=k(e)}),W("m",["mm",2],0,"minute"),A("minute","m"),F("minute",14),ce("m",X),ce("mm",X,K),he(["m","mm"],we);var sn=Pe("Minutes",!1);W("s",["ss",2],0,"second"),A("second","s"),F("second",15),ce("s",X),ce("ss",X,K),he(["s","ss"],Ee);var un,ln=Pe("Seconds",!1);for(W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return 10*this.millisecond()}),W(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),W(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),W(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),W(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),W(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),A("millisecond","ms"),F("millisecond",16),ce("S",te,q),ce("SS",te,K),ce("SSS",te,$),un="SSSS";un.length<=9;un+="S")ce(un,ae);function cn(e,t){t[ke]=k(1e3*("0."+e))}for(un="S";un.length<=9;un+="S")he(un,cn);var dn=Pe("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var fn=_.prototype;function pn(e){return e}fn.add=Qt,fn.calendar=function(e,t){var n=e||Pt(),r=Ht(n,this).startOf("day"),o=a.calendarFormat(this,r)||"sameElse",i=t&&(P(t[o])?t[o].call(this,n):t[o]);return this.format(i||this.localeData().calendar(o,this,Pt(n)))},fn.clone=function(){return new _(this)},fn.diff=function(e,t,n){var r,a,o;if(!this.isValid())return NaN;if(!(r=Ht(e,this)).isValid())return NaN;switch(a=6e4*(r.utcOffset()-this.utcOffset()),t=R(t)){case"year":o=Zt(this,r)/12;break;case"month":o=Zt(this,r);break;case"quarter":o=Zt(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-a)/864e5;break;case"week":o=(this-r-a)/6048e5;break;default:o=this-r}return n?o:E(o)},fn.endOf=function(e){if(void 0===(e=R(e))||"millisecond"===e)return this;switch("week"!==e&&"isoWeek"!==e||this.hours(12),e){case"year":this.month(11);case"quarter":"quarter"===e&&this.month(3*Math.floor(this.month()/3)+2);case"month":this.date(1===this.month()?this.isLeapYear()?29:28:-1===[0,2,4,6,7,9,11].indexOf(this.month())?30:31);case"week":case"isoWeek":"week"===e&&this.weekday(6),"isoWeek"===e&&this.isoWeekday(7);case"day":case"date":this.hours(23);case"hour":this.minutes(59);case"minute":this.seconds(59);case"second":this.milliseconds(999)}return this},fn.format=function(e){e||(e=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var t=z(this,e);return this.localeData().postformat(t)},fn.from=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Pt(e).isValid())?Gt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fn.fromNow=function(e){return this.from(Pt(),e)},fn.to=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Pt(e).isValid())?Gt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fn.toNow=function(e){return this.to(Pt(),e)},fn.get=function(e){return P(this[e=R(e)])?this[e]():this},fn.invalidAt=function(){return h(this).overflow},fn.isAfter=function(e,t){var n=w(e)?e:Pt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=R(s(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},fn.isBefore=function(e,t){var n=w(e)?e:Pt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=R(s(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},fn.isBetween=function(e,t,n,r){return("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))},fn.isSame=function(e,t){var n,r=w(e)?e:Pt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=R(t||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},fn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},fn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},fn.isValid=function(){return m(this)},fn.lang=tn,fn.locale=en,fn.localeData=nn,fn.max=jt,fn.min=xt,fn.parsingFlags=function(){return f({},h(this))},fn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:I[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=L(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(P(this[e=R(e)]))return this[e](t);return this},fn.startOf=function(e){var t,n,r=this.date(),a=!0;switch("week"!==(e=R(e))&&"isoWeek"!==e||this.hours(12),e){case"year":this.month(0);case"quarter":"quarter"===e&&this.month(3*Math.floor(this.month()/3));case"month":this.date(1),a=!1;case"week":case"isoWeek":"week"===e&&(this.weekday(0),r=this.date()),"isoWeek"===e&&(this.isoWeekday(1),r=this.date());case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(a&&this.date()!==r)if(this.date()>r)this.date(r);else{t=1;do{n=this.clone().add(t++,"hour")}while(n.date()<r);this.date(r),this.hours(n.hours())}return this},fn.subtract=Xt,fn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},fn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},fn.toDate=function(){return new Date(this.valueOf())},fn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?z(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):P(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",z(n,"Z")):z(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},fn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+a)},fn.toJSON=function(){return this.isValid()?this.toISOString():null},fn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},fn.unix=function(){return Math.floor(this.valueOf()/1e3)},fn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},fn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},fn.year=Me,fn.isLeapYear=function(){return De(this.year())},fn.weekYear=function(e){return an.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},fn.isoWeekYear=function(e){return an.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},fn.quarter=fn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},fn.month=Fe,fn.daysInMonth=function(){return Ne(this.year(),this.month())},fn.week=fn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},fn.isoWeek=fn.isoWeeks=function(e){var t=ze(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},fn.weeksInYear=function(){var e=this.localeData()._week;return Ge(this.year(),e.dow,e.doy)},fn.isoWeeksInYear=function(){return Ge(this.year(),1,4)},fn.date=on,fn.day=fn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},fn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},fn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},fn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},fn.hour=fn.hours=at,fn.minute=fn.minutes=sn,fn.second=fn.seconds=ln,fn.millisecond=fn.milliseconds=dn,fn.utcOffset=function(e,t,n){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Ut(se,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=Vt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?Jt(this,Gt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Vt(this)},fn.utc=function(e){return this.utcOffset(0,e)},fn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Vt(this),"m")),this},fn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ut(ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},fn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Pt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},fn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},fn.isLocal=function(){return!!this.isValid()&&!this._isUTC},fn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},fn.isUtc=Bt,fn.isUTC=Bt,fn.zoneAbbr=function(){return this._isUTC?"UTC":""},fn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},fn.dates=C("dates accessor is deprecated. Use date instead.",on),fn.months=C("months accessor is deprecated. Use month instead",Fe),fn.years=C("years accessor is deprecated. Use year instead",Me),fn.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),fn.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),(e=Tt(e))._a){var t=e._isUTC?p(e._a):Pt(e._a);this._isDSTShifted=this.isValid()&&S(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var hn=j.prototype;function mn(e,t,n,r){var a=ft(),o=p().set(r,t);return a[n](o,e)}function vn(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return mn(e,t,n,"month");var r,a=[];for(r=0;r<12;r++)a[r]=mn(e,r,n,"month");return a}function yn(e,t,n,r){"boolean"==typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var a,o=ft(),i=e?o._week.dow:0;if(null!=n)return mn(t,(n+i)%7,r,"day");var s=[];for(a=0;a<7;a++)s[a]=mn(t,(a+i)%7,r,"day");return s}hn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return P(r)?r.call(t,n):r},hn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},hn.invalidDate=function(){return this._invalidDate},hn.ordinal=function(e){return this._ordinal.replace("%d",e)},hn.preparse=pn,hn.postformat=pn,hn.relativeTime=function(e,t,n,r){var a=this._relativeTime[n];return P(a)?a(e,t,n,r):a.replace(/%d/i,e)},hn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return P(n)?n(t):n.replace(/%s/i,t)},hn.set=function(e){var t,n;for(n in e)P(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},hn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ae).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},hn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ae.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},hn.monthsParse=function(e,t,n){var r,a,o;if(this._monthsParseExact)return function(e,t,n){var r,a,o,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(a=Te.call(this._shortMonthsParse,i))?a:null:-1!==(a=Te.call(this._longMonthsParse,i))?a:null:"MMM"===t?-1!==(a=Te.call(this._shortMonthsParse,i))?a:-1!==(a=Te.call(this._longMonthsParse,i))?a:null:-1!==(a=Te.call(this._longMonthsParse,i))?a:-1!==(a=Te.call(this._shortMonthsParse,i))?a:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(a=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},hn.monthsRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||He.call(this),e?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=Ue),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},hn.monthsShortRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||He.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=Ye),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},hn.week=function(e){return ze(e,this._week.dow,this._week.doy).week},hn.firstDayOfYear=function(){return this._week.doy},hn.firstDayOfWeek=function(){return this._week.dow},hn.weekdays=function(e,t){return e?o(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:o(this._weekdays)?this._weekdays:this._weekdays.standalone},hn.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},hn.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},hn.weekdaysParse=function(e,t,n){var r,a,o;if(this._weekdaysParseExact)return function(e,t,n){var r,a,o,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(a=Te.call(this._weekdaysParse,i))?a:null:"ddd"===t?-1!==(a=Te.call(this._shortWeekdaysParse,i))?a:null:-1!==(a=Te.call(this._minWeekdaysParse,i))?a:null:"dddd"===t?-1!==(a=Te.call(this._weekdaysParse,i))?a:-1!==(a=Te.call(this._shortWeekdaysParse,i))?a:-1!==(a=Te.call(this._minWeekdaysParse,i))?a:null:"ddd"===t?-1!==(a=Te.call(this._shortWeekdaysParse,i))?a:-1!==(a=Te.call(this._weekdaysParse,i))?a:-1!==(a=Te.call(this._minWeekdaysParse,i))?a:null:-1!==(a=Te.call(this._minWeekdaysParse,i))?a:-1!==(a=Te.call(this._weekdaysParse,i))?a:-1!==(a=Te.call(this._shortWeekdaysParse,i))?a:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(a=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},hn.weekdaysRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=Je),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},hn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Qe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},hn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},hn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},hn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},ct("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===k(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),a.lang=C("moment.lang is deprecated. Use moment.locale instead.",ct),a.langData=C("moment.langData is deprecated. Use moment.localeData instead.",ft);var gn=Math.abs;function bn(e,t,n,r){var a=Gt(t,n);return e._milliseconds+=r*a._milliseconds,e._days+=r*a._days,e._months+=r*a._months,e._bubble()}function _n(e){return e<0?Math.floor(e):Math.ceil(e)}function wn(e){return 4800*e/146097}function En(e){return 146097*e/4800}function kn(e){return function(){return this.as(e)}}var Sn=kn("ms"),On=kn("s"),Cn=kn("m"),Dn=kn("h"),Tn=kn("d"),Mn=kn("w"),Pn=kn("M"),xn=kn("y");function jn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Nn=jn("milliseconds"),An=jn("seconds"),Rn=jn("minutes"),Ln=jn("hours"),In=jn("days"),Fn=jn("months"),Yn=jn("years"),Un=Math.round,Hn={ss:44,s:45,m:45,h:22,d:26,M:11},Vn=Math.abs;function Bn(e){return(e>0)-(e<0)||+e}function Wn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Vn(this._milliseconds)/1e3,r=Vn(this._days),a=Vn(this._months);e=E(n/60),t=E(e/60),n%=60,e%=60;var o=E(a/12),i=a%=12,s=r,u=t,l=e,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var f=d<0?"-":"",p=Bn(this._months)!==Bn(d)?"-":"",h=Bn(this._days)!==Bn(d)?"-":"",m=Bn(this._milliseconds)!==Bn(d)?"-":"";return f+"P"+(o?p+o+"Y":"")+(i?p+i+"M":"")+(s?h+s+"D":"")+(u||l||c?"T":"")+(u?m+u+"H":"")+(l?m+l+"M":"")+(c?m+c+"S":"")}var zn=Rt.prototype;return zn.isValid=function(){return this._isValid},zn.abs=function(){var e=this._data;return this._milliseconds=gn(this._milliseconds),this._days=gn(this._days),this._months=gn(this._months),e.milliseconds=gn(e.milliseconds),e.seconds=gn(e.seconds),e.minutes=gn(e.minutes),e.hours=gn(e.hours),e.months=gn(e.months),e.years=gn(e.years),this},zn.add=function(e,t){return bn(this,e,t,1)},zn.subtract=function(e,t){return bn(this,e,t,-1)},zn.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=R(e))||"year"===e)return t=this._days+r/864e5,n=this._months+wn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(En(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},zn.asMilliseconds=Sn,zn.asSeconds=On,zn.asMinutes=Cn,zn.asHours=Dn,zn.asDays=Tn,zn.asWeeks=Mn,zn.asMonths=Pn,zn.asYears=xn,zn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*k(this._months/12):NaN},zn._bubble=function(){var e,t,n,r,a,o=this._milliseconds,i=this._days,s=this._months,u=this._data;return o>=0&&i>=0&&s>=0||o<=0&&i<=0&&s<=0||(o+=864e5*_n(En(s)+i),i=0,s=0),u.milliseconds=o%1e3,e=E(o/1e3),u.seconds=e%60,t=E(e/60),u.minutes=t%60,n=E(t/60),u.hours=n%24,i+=E(n/24),a=E(wn(i)),s+=a,i-=_n(En(a)),r=E(s/12),s%=12,u.days=i,u.months=s,u.years=r,this},zn.clone=function(){return Gt(this)},zn.get=function(e){return e=R(e),this.isValid()?this[e+"s"]():NaN},zn.milliseconds=Nn,zn.seconds=An,zn.minutes=Rn,zn.hours=Ln,zn.days=In,zn.weeks=function(){return E(this.days()/7)},zn.months=Fn,zn.years=Yn,zn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=Gt(e).abs(),a=Un(r.as("s")),o=Un(r.as("m")),i=Un(r.as("h")),s=Un(r.as("d")),u=Un(r.as("M")),l=Un(r.as("y")),c=a<=Hn.ss&&["s",a]||a<Hn.s&&["ss",a]||o<=1&&["m"]||o<Hn.m&&["mm",o]||i<=1&&["h"]||i<Hn.h&&["hh",i]||s<=1&&["d"]||s<Hn.d&&["dd",s]||u<=1&&["M"]||u<Hn.M&&["MM",u]||l<=1&&["y"]||["yy",l];return c[2]=t,c[3]=+e>0,c[4]=n,function(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}.apply(null,c)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},zn.toISOString=Wn,zn.toString=Wn,zn.toJSON=Wn,zn.locale=en,zn.localeData=nn,zn.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Wn),zn.lang=tn,W("X",0,0,"unix"),W("x",0,0,"valueOf"),ce("x",oe),ce("X",/[+-]?\d+(\.\d{1,3})?/),he("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),he("x",function(e,t,n){n._d=new Date(k(e))}),a.version="2.22.2",t=Pt,a.fn=fn,a.min=function(){return Nt("isBefore",[].slice.call(arguments,0))},a.max=function(){return Nt("isAfter",[].slice.call(arguments,0))},a.now=function(){return Date.now?Date.now():+new Date},a.utc=p,a.unix=function(e){return Pt(1e3*e)},a.months=function(e,t){return vn(e,t,"months")},a.isDate=l,a.locale=ct,a.invalid=v,a.duration=Gt,a.isMoment=w,a.weekdays=function(e,t,n){return yn(e,t,n,"weekdays")},a.parseZone=function(){return Pt.apply(null,arguments).parseZone()},a.localeData=ft,a.isDuration=Lt,a.monthsShort=function(e,t){return vn(e,t,"monthsShort")},a.weekdaysMin=function(e,t,n){return yn(e,t,n,"weekdaysMin")},a.defineLocale=dt,a.updateLocale=function(e,t){if(null!=t){var n,r,a=ot;null!=(r=lt(e))&&(a=r._config),t=x(a,t),(n=new j(t)).parentLocale=it[e],it[e]=n,ct(e)}else null!=it[e]&&(null!=it[e].parentLocale?it[e]=it[e].parentLocale:null!=it[e]&&delete it[e]);return it[e]},a.locales=function(){return D(it)},a.weekdaysShort=function(e,t,n){return yn(e,t,n,"weekdaysShort")},a.normalizeUnits=R,a.relativeTimeRounding=function(e){return void 0===e?Un:"function"==typeof e&&(Un=e,!0)},a.relativeTimeThreshold=function(e,t){return void 0!==Hn[e]&&(void 0===t?Hn[e]:(Hn[e]=t,"s"===e&&(Hn.ss=t-1),!0))},a.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},a.prototype=fn,a.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},a}()}).call(this,n(90)(e))},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(97)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(1)),i=c(n(74)),s=c(n(10)),u=n(137),l=n(94);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateMessages=function(){n.setState(n.getTranslationState())},n.state=n.getTranslationState(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["default"].Component),a(t,[{key:"componentDidMount",value:function(){i.default.listen(this.updateMessages)}},{key:"componentWillUnmount",value:function(){i.default.unlisten(this.updateMessages)}},{key:"getTranslationState",value:function(){var e=i.default.getState();return{translationMessages:e.translationMessages,language:e.language}}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.translationMessages!==t.translationMessages||this.state.language!==t.language||this.props.message!==e.message||this.props.className!==e.className||this.props.disabled!==e.disabled||this.props.onClick!==e.onClick||this.props.component!==e.component||!(0,r.default)(this.props.params,e.params)}},{key:"render",value:function(){var e,t,n=this,r=this.props.message||"";(t=r.match(/^([A-Za-z_]+):(.+)$/))?(e=t[1],r=t[2]):e=this.props.section||this.props.localeSection;var a=[e,this.state.language].join("_"),i=this.state.translationMessages[a]||{},l=i[r]||r,c=this.props.component;!0===window.DEBUG_TRANSLATIONS&&(l=void 0===i[r]?"!!MISSING!!"+r:s.default.debugTranslation(l,this.props.params||{})),this.props.params&&Object.keys(this.props.params).forEach(function(e){var t=n.props.params[e],r=new RegExp("%"+e+"%","g");l=l.replace(r,t)});var d=(0,u.excludeProps)(this.props,["section","localeSection","message","dangerouslyAllowUnescapedHTML","params","component","attribute"]);if(void 0===i[r]&&!0!==this.props.dangerouslyAllowUnescapedHTML)return o.default.createElement(c,d,this.props.message);if(this.props.attribute)return o.default.createElement(c,Object.assign(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.attribute,l),d));var f={dangerouslySetInnerHTML:{__html:l}};return o.default.createElement(c,Object.assign(f,d))}}]),t}();d.defaultProps={component:"span",dangerouslyAllowUnescapedHTML:!1},t.default=(0,l.withLocaleSection)(d)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(130)("wks"),a=n(69),o=n(5).Symbol,i="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=i&&o[e]||(i?o:a)("Symbol."+e))}).store=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(74),i=(r=o)&&r.__esModule?r:{default:r};var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,null,[{key:"debugTranslation",value:function(e,t){for(var n in e=e.replace(/(\S+)/g,function(e){return"%"===e.substring(0,1)||"%"===e.substring(-1,1)?e:new Array(e.length+1).join("x")}),t)t.hasOwnProperty(n)&&(e=e.replace("%"+n+"%","%"+n+"="+t[n]+"%"));return e}},{key:"trans",value:function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n=t.match(/^([A-Za-z_]+):(.+)$/)){var a=n[1],o=n[2];return e.translate(a,o,r)}return t}},{key:"translate",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};void 0===n&&(n="");var a=i.default.getState(),o=a.translationMessages[t+"_"+a.language]||{},s=o[n]||n;for(var u in!0===window.DEBUG_TRANSLATIONS&&(void 0===o[n]?(s="!!MISSING!!"+n,console.error("Missing translation: "+n)):s=e.debugTranslation(s,r)),r)r.hasOwnProperty(u)&&(s=s.replace("%"+u+"%",r[u]));return s}},{key:"partial",value:function(t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.translate(t,n,r)}}}]),e}();t.default=s},function(e,t,n){var r=n(40),a=Math.min;e.exports=function(e){return e>0?a(r(e),9007199254740991):0}},function(e,t,n){e.exports=!n(7)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(3),a=n(340),o=n(41),i=Object.defineProperty;t.f=n(12)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),a)try{return i(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}void 0!==e&&e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r=n(39);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,i,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))a.call(n,l)&&(s[l]=n[l]);if(r){i=r(n);for(var c=0;c<i.length;c++)o.call(n,i[c])&&(s[i[c]]=n[i[c]])}}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(424),o=(r=a)&&r.__esModule?r:{default:r};var i=window.location.search.substring(1),s={getAppKey:function(){return window.APP_KEY},getAccessName:function(){return window.ACCESS_NAME},getAppIdentifier:function(){return window.APP_IDENTIFIER},getAppTitle:function(){return window.APP_TITLE},getResourcesUrl:function(){return window.APP_RESOURCES_URL},getBaseUrl:function(){return window.APP_BASE_URL},getAssetsVersion:function(){return window.ASSETS_VERSION},getLanguage:function(){return window.APP_LANGUAGE},getLanguageSections:function(){return window.APP_LANGUAGE_SECTIONS},getUse24h:function(){return window.APP_DATETIME_USE24H},getDateLocale:function(){return window.APP_DATETIME_LOCALE},getCalendarDefaults:function(){return window.calendarStateDefaults},getQueryParams:function(){return o.default.parse(window.location.search.substring(1))},getInitialQueryParams:function(){return o.default.parse(i)},getAdministrationBaseUrl:function(){return window.APP_BASE_URL+"/admintool96"},getCustomFieldImages:function(){return window.customFieldImages},getSlackClientId:function(){return window.SLACK_CLIENT_ID}};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(17),i=(r=o)&&r.__esModule?r:{default:r},s=n(199);var u=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"openEventEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.event_id?this.openUrl("view_event",{event_id:e.event_id}):this.openUrl("create_event",{},e)}},{key:"printEvent",value:function(e){this.openUrl("print_event",{event_id:e})}},{key:"openDefaultRemindersPreferences",value:function(){this.openUrl("preferences.reminders")}},{key:"openEmailNotificationsPreferences",value:function(){this.openUrl("preferences.email-notifications")}},{key:"openAgendaPreferences",value:function(){this.openUrl("preferences.agenda")}},{key:"openSlackNotificationsPreferences",value:function(){this.openUrl("preferences.slack-notifications")}},{key:"openICalFeedsPreferences",value:function(){this.openUrl("preferences.ical-feeds")}},{key:"openPdfPrint",value:function(){this.openUrl("print_pdf")}},{key:"openSettings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";window.location.href=this.getSettingsUrl(e)}},{key:"getSettingsUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.getAppUrl()+"/settings/"+e}},{key:"openUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};window.teamup.history.push(this.getUrl(e,t,n))}},{key:"getUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===this.routes[e])throw new Error("Unknown route name "+e);var r=this.routes[e];Object.keys(t).forEach(function(e){r=r.replace(":"+e,""+t[e])});var a=[];return Object.keys(n).forEach(function(e){void 0!==n[e]&&null!==n[e]&&a.push(e+"="+encodeURIComponent(n[e]))}),a.length>0&&(r+="?"+a.join("&")),r}},{key:"getRawPath",value:function(e){if(void 0===this.routes[e])throw new Error("Unknown route name "+e);return this.routes[e]}},{key:"backToCalendar",value:function(){this.openUrl("calendar")}},{key:"getAppUrl",value:function(){return window.location.pathname.match("/c/"+i.default.getAppIdentifier())?i.default.getBaseUrl()+"/c/"+i.default.getAppIdentifier()+(i.default.getAppTitle()?"/"+(0,s.slugify)(i.default.getAppTitle()):""):i.default.getBaseUrl()+"/"+i.default.getAppKey()}},{key:"getAbsoluteBaseUrl",value:function(){return window.location.origin+i.default.getBaseUrl()}}]),e}()),l=u.getAppUrl();u.routes={preferences:l+"/preferences","preferences.ical-feeds":l+"/preferences/ical-feeds","preferences.email-notifications":l+"/preferences/email-notifications","preferences.slack-notifications":l+"/preferences/slack-notifications","preferences.agenda":l+"/preferences/agenda","preferences.reminders":l+"/preferences/reminders","preferences.reminders.list":l+"/preferences/reminders/list","preferences.reminders.edit":l+"/preferences/reminders/edit/:resource_id",create_event:l+"/events/new",print_event:l+"/events/:event_id/print",view_event:l+"/events/:event_id",print_pdf:l+"/print",calendar:l+"","settings.general-settings":l+"/settings/general","settings.general-settings.list":l+"/settings/general/list","settings.general-settings.delete":l+"/settings/general/delete","settings.calendar-views":l+"/settings/calendar-views","settings.identity":l+"/settings/identity","settings.resources":l+"/settings/calendars","settings.resources.list":l+"/settings/calendars/list","settings.resources.create":l+"/settings/calendars/create/:type","settings.resources.edit":l+"/settings/calendars/edit/:resource_id","settings.resources.delete":l+"/settings/calendars/delete/:resource_id","settings.sharing":l+"/settings/sharing","settings.sharing.links":l+"/settings/sharing/links","settings.sharing.create":l+"/settings/sharing/create","settings.sharing.create_user_link":l+"/settings/sharing/create-user-link","settings.sharing.edit":l+"/settings/sharing/edit/:key_id","settings.sharing.delete":l+"/settings/sharing/delete/:key_id","settings.fields":l+"/settings/fields","settings.fields.list":l+"/settings/fields/list","settings.fields.create":l+"/settings/fields/create","settings.fields.edit":l+"/settings/fields/edit/:field_id","settings.fields.delete":l+"/settings/fields/delete/:field_id","settings.notifications":l+"/settings/notifications","settings.notifications.list":l+"/settings/notifications/list","settings.notifications.create":l+"/settings/notifications/edit/:type/:transport","settings.notifications.edit":l+"/settings/notifications/edit/:type/:transport/:subscription_id/:key_id","settings.notifications.delete":l+"/settings/notifications/delete/:type/:transport/:subscription_id/:key_id","settings.notifications.duplicate":l+"/settings/notifications/edit/:type/:transport/:subscription_id/:key_id/duplicate","settings.subscription":l+"/settings/subscription","settings.subscription.overview":l+"/settings/subscription/overview","settings.subscription.preview":l+"/settings/subscription/change/:plan","settings.date-time":l+"/settings/date-time","settings.import-events":l+"/settings/import-events","settings.export-events":l+"/settings/export-events","settings.integrations":l+"/settings/integrations","settings.integrations.slack.list":l+"/settings/integrations/slack/list","settings.integrations.slack.create":l+"/settings/integrations/slack/create","settings.integrations.slack.delete":l+"/settings/integrations/slack/delete/:key_id/:team_id/:channel_id","admin.search-calendar":i.default.getAdministrationBaseUrl()+"/search/calendar","admin.subscription":i.default.getAdministrationBaseUrl()+"/subscription","admin.search-user":i.default.getAdministrationBaseUrl()+"/search/user"},t.default=u},function(e,t,n){"use strict";e.exports=function(){}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,a,o,i,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,a,o,i,s],c=0;(u=new Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){var r=n(2),a=n(7),o=n(39),i=/"/g,s=function(e,t,n,r){var a=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(i,"&quot;")+'"'),s+">"+a+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*a(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},function(e,t,n){var r=n(5),a=n(24),o=n(31),i=n(69)("src"),s=Function.toString,u=(""+s).split("toString");n(42).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(o(n,"name")||a(n,"name",t)),e[t]!==n&&(l&&(o(n,i)||a(n,i,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:a(e,t,n):(delete e[t],a(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[i]||s.call(this)})},function(e,t,n){var r=n(13),a=n(70);e.exports=n(12)?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(186),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(412);var o=new((r=a)&&r.__esModule?r:{default:r}).default({stateKey:"state"});t.default=o},function(e,t,n){var r=n(87),a=n(70),o=n(30),i=n(41),s=n(31),u=n(340),l=Object.getOwnPropertyDescriptor;t.f=n(12)?l:function(e,t){if(e=o(e),t=i(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return a(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(31),a=n(15),o=n(173)("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},function(e,t,n){var r=n(89),a=n(39);e.exports=function(e){return r(a(e))}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(419)},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(20);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,a){return e.call(t,n,r,a)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";n.r(t);var r=n(197),a=n.n(r),o=n(1),i=n.n(o),s=n(0),u=n.n(s),l=n(19),c=n.n(l),d=n(21),f=n.n(d),p=n(343),h=n(342),m=function(e){return"/"===e.charAt(0)?e:"/"+e},v=function(e){return"/"===e.charAt(0)?e.substr(1):e},y=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)},g=function(e,t){return y(e,t)?e.substr(t.length):e},b=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},_=function(e){var t=e.pathname,n=e.search,r=e.hash,a=t||"/";return n&&"?"!==n&&(a+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(a+="#"===r.charAt(0)?r:"#"+r),a},w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E=function(e,t,n,r){var a=void 0;"string"==typeof e?(a=function(e){var t=e||"/",n="",r="",a=t.indexOf("#");-1!==a&&(r=t.substr(a),t=t.substr(0,a));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(a=w({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(a.key=n),r?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=Object(p.default)(a.pathname,r.pathname)):a.pathname=r.pathname:a.pathname||(a.pathname="/"),a},k=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Object(h.default)(e.state,t.state)},S=function(){var e=null,t=[];return{setPrompt:function(t){return c()(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,a){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,a):(c()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),a(!0)):a(!1!==o)}else a(!0)},appendListener:function(e){var n=!0,r=function(){n&&e.apply(void 0,arguments)};return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}},O=!("undefined"==typeof window||!window.document||!window.document.createElement),C=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},D=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},T=function(e,t){return t(window.confirm(e))},M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x=function(){try{return window.history.state||{}}catch(e){return{}}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f()(O,"Browser history needs a DOM");var t,n=window.history,r=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,a=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e.forceRefresh,i=void 0!==o&&o,s=e.getUserConfirmation,u=void 0===s?T:s,l=e.keyLength,d=void 0===l?6:l,p=e.basename?b(m(e.basename)):"",h=function(e){var t=e||{},n=t.key,r=t.state,a=window.location,o=a.pathname+a.search+a.hash;return c()(!p||y(o,p),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+o+'" to begin with "'+p+'".'),p&&(o=g(o,p)),E(o,r,n)},v=function(){return Math.random().toString(36).substr(2,d)},w=S(),k=function(e){P(W,e),W.length=n.length,w.notifyListeners(W.location,W.action)},j=function(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||R(h(e.state))},N=function(){R(h(x()))},A=!1,R=function(e){A?(A=!1,k()):w.confirmTransitionTo(e,"POP",u,function(t){t?k({action:"POP",location:e}):L(e)})},L=function(e){var t=W.location,n=F.indexOf(t.key);-1===n&&(n=0);var r=F.indexOf(e.key);-1===r&&(r=0);var a=n-r;a&&(A=!0,U(a))},I=h(x()),F=[I.key],Y=function(e){return p+_(e)},U=function(e){n.go(e)},H=0,V=function(e){1===(H+=e)?(C(window,"popstate",j),a&&C(window,"hashchange",N)):0===H&&(D(window,"popstate",j),a&&D(window,"hashchange",N))},B=!1,W={length:n.length,action:"POP",location:I,createHref:Y,push:function(e,t){c()(!("object"===(void 0===e?"undefined":M(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=E(e,t,v(),W.location);w.confirmTransitionTo(a,"PUSH",u,function(e){if(e){var t=Y(a),o=a.key,s=a.state;if(r)if(n.pushState({key:o,state:s},null,t),i)window.location.href=t;else{var u=F.indexOf(W.location.key),l=F.slice(0,-1===u?0:u+1);l.push(a.key),F=l,k({action:"PUSH",location:a})}else c()(void 0===s,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=t}})},replace:function(e,t){c()(!("object"===(void 0===e?"undefined":M(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var a=E(e,t,v(),W.location);w.confirmTransitionTo(a,"REPLACE",u,function(e){if(e){var t=Y(a),o=a.key,s=a.state;if(r)if(n.replaceState({key:o,state:s},null,t),i)window.location.replace(t);else{var u=F.indexOf(W.location.key);-1!==u&&(F[u]=a.key),k({action:"REPLACE",location:a})}else c()(void 0===s,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(t)}})},go:U,goBack:function(){return U(-1)},goForward:function(){return U(1)},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=w.setPrompt(e);return B||(V(1),B=!0),function(){return B&&(B=!1,V(-1)),t()}},listen:function(e){var t=w.appendListener(e);return V(1),function(){V(-1),t()}}};return W},N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+v(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:v,decodePath:m},slash:{encodePath:m,decodePath:m}},R=function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)},L=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f()(O,"Hash history needs a DOM");var t=window.history,n=-1===window.navigator.userAgent.indexOf("Firefox"),r=e.getUserConfirmation,a=void 0===r?T:r,o=e.hashType,i=void 0===o?"slash":o,s=e.basename?b(m(e.basename)):"",u=A[i],l=u.encodePath,d=u.decodePath,p=function(){var e=d(R());return c()(!s||y(e,s),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+e+'" to begin with "'+s+'".'),s&&(e=g(e,s)),E(e)},h=S(),v=function(e){N(z,e),z.length=t.length,h.notifyListeners(z.location,z.action)},w=!1,M=null,P=function(){var e=R(),t=l(e);if(e!==t)L(t);else{var n=p(),r=z.location;if(!w&&k(r,n))return;if(M===_(n))return;M=null,x(n)}},x=function(e){w?(w=!1,v()):h.confirmTransitionTo(e,"POP",a,function(t){t?v({action:"POP",location:e}):j(e)})},j=function(e){var t=z.location,n=U.lastIndexOf(_(t));-1===n&&(n=0);var r=U.lastIndexOf(_(e));-1===r&&(r=0);var a=n-r;a&&(w=!0,H(a))},I=R(),F=l(I);I!==F&&L(F);var Y=p(),U=[_(Y)],H=function(e){c()(n,"Hash history go(n) causes a full page reload in this browser"),t.go(e)},V=0,B=function(e){1===(V+=e)?C(window,"hashchange",P):0===V&&D(window,"hashchange",P)},W=!1,z={length:t.length,action:"POP",location:Y,createHref:function(e){return"#"+l(s+_(e))},push:function(e,t){c()(void 0===t,"Hash history cannot push state; it is ignored");var n=E(e,void 0,void 0,z.location);h.confirmTransitionTo(n,"PUSH",a,function(e){if(e){var t=_(n),r=l(s+t);if(R()!==r){M=t,function(e){window.location.hash=e}(r);var a=U.lastIndexOf(_(z.location)),o=U.slice(0,-1===a?0:a+1);o.push(t),U=o,v({action:"PUSH",location:n})}else c()(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),v()}})},replace:function(e,t){c()(void 0===t,"Hash history cannot replace state; it is ignored");var n=E(e,void 0,void 0,z.location);h.confirmTransitionTo(n,"REPLACE",a,function(e){if(e){var t=_(n),r=l(s+t);R()!==r&&(M=t,L(r));var a=U.indexOf(_(z.location));-1!==a&&(U[a]=t),v({action:"REPLACE",location:n})}})},go:H,goBack:function(){return H(-1)},goForward:function(){return H(1)},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=h.setPrompt(e);return W||(B(1),W=!0),function(){return W&&(W=!1,B(-1)),t()}},listen:function(e){var t=h.appendListener(e);return B(1),function(){B(-1),t()}}};return z},F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U=function(e,t,n){return Math.min(Math.max(e,t),n)},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getUserConfirmation,n=e.initialEntries,r=void 0===n?["/"]:n,a=e.initialIndex,o=void 0===a?0:a,i=e.keyLength,s=void 0===i?6:i,u=S(),l=function(e){Y(v,e),v.length=v.entries.length,u.notifyListeners(v.location,v.action)},d=function(){return Math.random().toString(36).substr(2,s)},f=U(o,0,r.length-1),p=r.map(function(e){return E(e,void 0,"string"==typeof e?d():e.key||d())}),h=_,m=function(e){var n=U(v.index+e,0,v.entries.length-1),r=v.entries[n];u.confirmTransitionTo(r,"POP",t,function(e){e?l({action:"POP",location:r,index:n}):l()})},v={length:p.length,action:"POP",location:p[f],index:f,entries:p,createHref:h,push:function(e,n){c()(!("object"===(void 0===e?"undefined":F(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var r=E(e,n,d(),v.location);u.confirmTransitionTo(r,"PUSH",t,function(e){if(e){var t=v.index+1,n=v.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),l({action:"PUSH",location:r,index:t,entries:n})}})},replace:function(e,n){c()(!("object"===(void 0===e?"undefined":F(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r=E(e,n,d(),v.location);u.confirmTransitionTo(r,"REPLACE",t,function(e){e&&(v.entries[v.index]=r,l({action:"REPLACE",location:r}))})},go:m,goBack:function(){return m(-1)},goForward:function(){return m(1)},canGo:function(e){var t=v.index+e;return t>=0&&t<v.entries.length},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return u.setPrompt(e)},listen:function(e){return u.appendListener(e)}};return v},V=n(26),B=n.n(V),W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var G=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=z(this,e.call.apply(e,[this].concat(o))),r.state={match:r.computeMatch(r.props.history.location.pathname)},z(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:W({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,r=t.history;f()(null==n||1===i.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen(function(){e.setState({match:e.computeMatch(r.location.pathname)})})},t.prototype.componentWillReceiveProps=function(e){B()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?i.a.Children.only(e):null},t}(i.a.Component);G.propTypes={history:u.a.object.isRequired,children:u.a.node},G.contextTypes={router:u.a.object},G.childContextTypes={router:u.a.object.isRequired};var q=G,K=q;function $(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var J=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=$(this,e.call.apply(e,[this].concat(o))),r.history=j(r.props),$(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){a()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},t.prototype.render=function(){return i.a.createElement(K,{history:this.history,children:this.props.children})},t}(i.a.Component);J.propTypes={basename:u.a.string,forceRefresh:u.a.bool,getUserConfirmation:u.a.func,keyLength:u.a.number,children:u.a.node};var Q=J;function X(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Z=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=X(this,e.call.apply(e,[this].concat(o))),r.history=I(r.props),X(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){a()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},t.prototype.render=function(){return i.a.createElement(K,{history:this.history,children:this.props.children})},t}(i.a.Component);Z.propTypes={basename:u.a.string,getUserConfirmation:u.a.func,hashType:u.a.oneOf(["hashbang","noslash","slash"]),children:u.a.node};var ee=Z,te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function ne(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var re=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},ae=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=ne(this,e.call.apply(e,[this].concat(o))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!re(e)){e.preventDefault();var t=r.context.router.history,n=r.props,a=n.replace,o=n.to;a?t.replace(o):t.push(o)}},ne(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["replace","to","innerRef"]);f()(this.context.router,"You should not use <Link> outside a <Router>"),f()(void 0!==t,'You must specify the "to" property');var a=this.context.router.history,o="string"==typeof t?E(t,null,null,a.location):t,s=a.createHref(o);return i.a.createElement("a",te({},r,{onClick:this.handleClick,href:s,ref:n}))},t}(i.a.Component);ae.propTypes={onClick:u.a.func,target:u.a.string,replace:u.a.bool,to:u.a.oneOfType([u.a.string,u.a.object]).isRequired,innerRef:u.a.oneOfType([u.a.string,u.a.func])},ae.defaultProps={replace:!1},ae.contextTypes={router:u.a.shape({history:u.a.shape({push:u.a.func.isRequired,replace:u.a.func.isRequired,createHref:u.a.func.isRequired}).isRequired}).isRequired};var oe=ae;function ie(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var se=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=ie(this,e.call.apply(e,[this].concat(o))),r.history=H(r.props),ie(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){B()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},t.prototype.render=function(){return i.a.createElement(q,{history:this.history,children:this.props.children})},t}(i.a.Component);se.propTypes={initialEntries:u.a.array,initialIndex:u.a.number,getUserConfirmation:u.a.func,keyLength:u.a.number,children:u.a.node};var ue=se,le=n(196),ce=n.n(le),de={},fe=0,pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"==typeof t&&(t={path:t});var r=t,a=r.path,o=r.exact,i=void 0!==o&&o,s=r.strict,u=void 0!==s&&s,l=r.sensitive,c=void 0!==l&&l;if(null==a)return n;var d=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=de[n]||(de[n]={});if(r[e])return r[e];var a=[],o={re:ce()(e,a,t),keys:a};return fe<1e4&&(r[e]=o,fe++),o}(a,{end:i,strict:u,sensitive:c}),f=d.re,p=d.keys,h=f.exec(e);if(!h)return null;var m=h[0],v=h.slice(1),y=e===m;return i&&!y?null:{path:a,url:"/"===a&&""===m?"/":m,isExact:y,params:p.reduce(function(e,t,n){return e[t.name]=v[n],e},{})}},he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function me(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ve=function(e){return 0===i.a.Children.count(e)},ye=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=me(this,e.call.apply(e,[this].concat(o))),r.state={match:r.computeMatch(r.props,r.context.router)},me(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:he({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,r=e.location,a=e.path,o=e.strict,i=e.exact,s=e.sensitive;if(n)return n;f()(t,"You should not use <Route> or withRouter() outside a <Router>");var u=t.route,l=(r||u.location).pathname;return pe(l,{path:a,strict:o,exact:i,sensitive:s},u.match)},t.prototype.componentWillMount=function(){B()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),B()(!(this.props.component&&this.props.children&&!ve(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),B()(!(this.props.render&&this.props.children&&!ve(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){B()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),B()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,r=t.component,a=t.render,o=this.context.router,s=o.history,u=o.route,l=o.staticContext,c={match:e,location:this.props.location||u.location,history:s,staticContext:l};return r?e?i.a.createElement(r,c):null:a?e?a(c):null:"function"==typeof n?n(c):n&&!ve(n)?i.a.Children.only(n):null},t}(i.a.Component);ye.propTypes={computedMatch:u.a.object,path:u.a.string,exact:u.a.bool,strict:u.a.bool,sensitive:u.a.bool,component:u.a.func,render:u.a.func,children:u.a.oneOfType([u.a.func,u.a.node]),location:u.a.object},ye.contextTypes={router:u.a.shape({history:u.a.object.isRequired,route:u.a.object.isRequired,staticContext:u.a.object})},ye.childContextTypes={router:u.a.object.isRequired};var ge=ye,be=ge,_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var Ee=function(e){var t=e.to,n=e.exact,r=e.strict,a=e.location,o=e.activeClassName,s=e.className,u=e.activeStyle,l=e.style,c=e.isActive,d=e["aria-current"],f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","aria-current"]),p="object"===(void 0===t?"undefined":we(t))?t.pathname:t,h=p&&p.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");return i.a.createElement(be,{path:h,exact:n,strict:r,location:a,children:function(e){var n=e.location,r=e.match,a=!!(c?c(r,n):r);return i.a.createElement(oe,_e({to:t,className:a?[s,o].filter(function(e){return e}).join(" "):s,style:a?_e({},l,u):l,"aria-current":a&&d||null},f))}})};Ee.propTypes={to:oe.propTypes.to,exact:u.a.bool,strict:u.a.bool,location:u.a.object,activeClassName:u.a.string,className:u.a.string,activeStyle:u.a.object,style:u.a.object,isActive:u.a.func,"aria-current":u.a.oneOf(["page","step","location","date","time","true"])},Ee.defaultProps={activeClassName:"active","aria-current":"page"};var ke=Ee;var Se=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.enable=function(e){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(e)},t.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},t.prototype.componentWillMount=function(){f()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},t.prototype.componentWillReceiveProps=function(e){e.when?this.props.when&&this.props.message===e.message||this.enable(e.message):this.disable()},t.prototype.componentWillUnmount=function(){this.disable()},t.prototype.render=function(){return null},t}(i.a.Component);Se.propTypes={when:u.a.bool,message:u.a.oneOfType([u.a.func,u.a.string]).isRequired},Se.defaultProps={when:!0},Se.contextTypes={router:u.a.shape({history:u.a.shape({block:u.a.func.isRequired}).isRequired}).isRequired};var Oe=Se,Ce={},De=0,Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"/"===e?e:function(e){var t=e,n=Ce[t]||(Ce[t]={});if(n[e])return n[e];var r=ce.a.compile(e);return De<1e4&&(n[e]=r,De++),r}(e)(t,{pretty:!0})},Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var Pe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){f()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=E(e.to),n=E(this.props.to);k(t,n)?B()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"'):this.perform()},t.prototype.computeTo=function(e){var t=e.computedMatch,n=e.to;return t?"string"==typeof n?Te(n,t.params):Me({},n,{pathname:Te(n.pathname,t.params)}):n},t.prototype.perform=function(){var e=this.context.router.history,t=this.props.push,n=this.computeTo(this.props);t?e.push(n):e.replace(n)},t.prototype.render=function(){return null},t}(i.a.Component);Pe.propTypes={computedMatch:u.a.object,push:u.a.bool,from:u.a.string,to:u.a.oneOfType([u.a.string,u.a.object]).isRequired},Pe.defaultProps={push:!1},Pe.contextTypes={router:u.a.shape({history:u.a.shape({push:u.a.func.isRequired,replace:u.a.func.isRequired}).isRequired,staticContext:u.a.object}).isRequired};var xe=Pe,je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Ne(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ae=function(e){return"/"===e.charAt(0)?e:"/"+e},Re=function(e,t){return e?je({},t,{pathname:Ae(e)+t.pathname}):t},Le=function(e){return"string"==typeof e?e:_(e)},Ie=function(e){return function(){f()(!1,"You cannot %s with <StaticRouter>",e)}},Fe=function(){},Ye=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=Ne(this,e.call.apply(e,[this].concat(o))),r.createHref=function(e){return Ae(r.props.basename+Le(e))},r.handlePush=function(e){var t=r.props,n=t.basename,a=t.context;a.action="PUSH",a.location=Re(n,E(e)),a.url=Le(a.location)},r.handleReplace=function(e){var t=r.props,n=t.basename,a=t.context;a.action="REPLACE",a.location=Re(n,E(e)),a.url=Le(a.location)},r.handleListen=function(){return Fe},r.handleBlock=function(){return Fe},Ne(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},t.prototype.componentWillMount=function(){B()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},t.prototype.render=function(){var e=this.props,t=e.basename,n=(e.context,e.location),r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["basename","context","location"]),a={createHref:this.createHref,action:"POP",location:function(e,t){if(!e)return t;var n=Ae(e);return 0!==t.pathname.indexOf(n)?t:je({},t,{pathname:t.pathname.substr(n.length)})}(t,E(n)),push:this.handlePush,replace:this.handleReplace,go:Ie("go"),goBack:Ie("goBack"),goForward:Ie("goForward"),listen:this.handleListen,block:this.handleBlock};return i.a.createElement(q,je({},r,{history:a}))},t}(i.a.Component);Ye.propTypes={basename:u.a.string,context:u.a.object.isRequired,location:u.a.oneOfType([u.a.string,u.a.object])},Ye.defaultProps={basename:"",location:"/"},Ye.childContextTypes={router:u.a.object.isRequired};var Ue=Ye;var He=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){f()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){B()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),B()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,n=this.props.location||e.location,r=void 0,a=void 0;return i.a.Children.forEach(t,function(t){if(null==r&&i.a.isValidElement(t)){var o=t.props,s=o.path,u=o.exact,l=o.strict,c=o.sensitive,d=o.from,f=s||d;a=t,r=pe(n.pathname,{path:f,exact:u,strict:l,sensitive:c},e.match)}}),r?i.a.cloneElement(a,{location:n,computedMatch:r}):null},t}(i.a.Component);He.contextTypes={router:u.a.shape({route:u.a.object.isRequired}).isRequired},He.propTypes={children:u.a.node,location:u.a.object};var Ve=He,Be=Te,We=pe,ze=n(445),Ge=n.n(ze),qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var Ke=function(e){var t=function(t){var n=t.wrappedComponentRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["wrappedComponentRef"]);return i.a.createElement(ge,{children:function(t){return i.a.createElement(e,qe({},r,t,{ref:n}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:u.a.func},Ge()(t,e)};n.d(t,"BrowserRouter",function(){return Q}),n.d(t,"HashRouter",function(){return ee}),n.d(t,"Link",function(){return oe}),n.d(t,"MemoryRouter",function(){return ue}),n.d(t,"NavLink",function(){return ke}),n.d(t,"Prompt",function(){return Oe}),n.d(t,"Redirect",function(){return xe}),n.d(t,"Route",function(){return be}),n.d(t,"Router",function(){return K}),n.d(t,"StaticRouter",function(){return Ue}),n.d(t,"Switch",function(){return Ve}),n.d(t,"generatePath",function(){return Be}),n.d(t,"matchPath",function(){return We}),n.d(t,"withRouter",function(){return Ke})},function(e,t,n){var r=n(2),a=n(42),o=n(7);e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],i={};i[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",i)}},function(e,t,n){var r=n(35),a=n(89),o=n(15),i=n(11),s=n(167);e.exports=function(e,t){var n=1==e,u=2==e,l=3==e,c=4==e,d=6==e,f=5==e||d,p=t||s;return function(t,s,h){for(var m,v,y=o(t),g=a(y),b=r(s,h,3),_=i(g.length),w=0,E=n?p(t,_):u?p(t,0):void 0;_>w;w++)if((f||w in g)&&(v=b(m=g[w],w,y),e))if(n)E[w]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:E.push(m)}else if(c)return!1;return d?-1:l||c?c:E}}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(8);e.exports=function(e,t){if(!r(e))return e;var n,a;if(t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;if("function"==typeof(n=e.valueOf)&&!r(a=n.call(e)))return a;if(!t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequestError=void 0,t.makeRequest=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i={method:e.toUpperCase(),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"include"};o&&(t+="?"+Object.keys(o).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(o[e])}).join("&"));void 0!==window.FormData&&n instanceof FormData?i.body=n:n&&(i.body=JSON.stringify(n),i.headers["Content-Type"]="application/json");return(0,r.makeCancelable)(new Promise(function(e,n){fetch(t,i).then(function(t){(function(e){if("application/json"===e.headers.get("Content-Type"))return e.json();return e.text()})(t).then(function(r){return t.status&&t.status>=200&&t.status<300?e(r):r.error&&r.error.message?n(new a(r)):t.status&&t.status>=400?n(new a({error:{title:"Unexpected server error",message:"Apologies for the trouble, we have been notified but please get in touch with details if the error persists."}})):n(new a({error:{title:"Unexpected connection error",message:"It appears the Teamup website can not be reached, you may be offline."}}))}).catch(function(e){return n(new a({error:{title:"Unexpected connection error",message:"It appears the Teamup website can not be reached, you may be offline."}}))})}).catch(function(e){if(!e.isCanceled)return n(new a({error:{title:"Unexpected connection error",message:"It appears the Teamup website can not be reached, you may be offline."}}))})}))},n(205);var r=n(421);var a=t.RequestError=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"Request Failed"));return n.name="RequestError",n.response=e,n.stack=(new Error).stack,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}()},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(74),i=(r=o)&&r.__esModule?r:{default:r};var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,null,[{key:"getLocales",value:function(){return["en","en_GB","de","iso","dashed"]}},{key:"get",value:function(e){var t,n=i.default.getState();return"time"===e?n.use24hTimes?"G:i":"g:ia":"time_moment"===e?n.use24hTimes?"H:mm":"h:mma":"short_time"===e?n.use24hTimes?"G:i":"ga":"short_time_moment"===e?n.use24hTimes?"H:mm":"ha":"upper_time"===e?n.use24hTimes?"G:i":"g:i A":"upper_time_moment"===e?n.use24hTimes?"H:mm":"h:mm A":(void 0===(t=n.dateFormats[e])&&console&&console.error&&console.error("Missing date format: "+e),t)}},{key:"renderShortestTime",value:function(e){return"00"===e.format("mm")?e.format(this.get("short_time_moment")):e.format(this.get("time_moment"))}},{key:"renderShortestTimes",value:function(e,t){return e.isSame(t)?this.renderShortestTime(e):this.renderShortestTime(e)+" - "+this.renderShortestTime(t)}},{key:"getLocale",value:function(){return i.default.getState().dateLocale}},{key:"use24hTimes",value:function(){return i.default.getState().use24hTimes}},{key:"renderShortTime",value:function(t,n,r){var a,o=e.get("time_moment");function i(e){return e.replace(/\.\.+/g,".")}return r?(a=e.get("short_weekday_moment"),t.isSame(n,"day")?i(t.format(a)):i(t.format(a)+" - "+n.format(a))):(a=e.get("short_weekday_time_moment").replace("%time%",o),t.isSame(n,"day")?i(t.format(a)+" - "+n.format(o)):i(t.format(a)+" - "+n.format(a)))}},{key:"diffDays",value:function(e,t){var n=parseInt(t.clone().startOf("day").format("X"),10)-parseInt(e.clone().startOf("day").format("X"),10);return Math.round(n/86400)}}]),e}();t.default=s},function(e,t,n){var r=n(164),a=n(2),o=n(130)("metadata"),i=o.store||(o.store=new(n(160))),s=function(e,t,n){var a=i.get(e);if(!a){if(!n)return;i.set(e,a=new r)}var o=a.get(t);if(!o){if(!n)return;a.set(t,o=new r)}return o};e.exports={store:i,map:s,has:function(e,t,n){var r=s(t,n,!1);return void 0!==r&&r.has(e)},get:function(e,t,n){var r=s(t,n,!1);return void 0===r?void 0:r.get(e)},set:function(e,t,n,r){s(n,r,!0).set(e,t)},keys:function(e,t){var n=s(e,t,!1),r=[];return n&&n.forEach(function(e,t){r.push(t)}),r},key:function(e){return void 0===e||"symbol"==typeof e?e:String(e)},exp:function(e){a(a.S,"Reflect",e)}}},function(e,t,n){"use strict";if(n(12)){var r=n(54),a=n(5),o=n(7),i=n(2),s=n(132),u=n(174),l=n(35),c=n(67),d=n(70),f=n(24),p=n(68),h=n(40),m=n(11),v=n(339),y=n(65),g=n(41),b=n(31),_=n(88),w=n(8),E=n(15),k=n(170),S=n(63),O=n(29),C=n(66).f,D=n(168),T=n(69),M=n(9),P=n(38),x=n(131),j=n(129),N=n(127),A=n(79),R=n(126),L=n(64),I=n(171),F=n(333),Y=n(13),U=n(28),H=Y.f,V=U.f,B=a.RangeError,W=a.TypeError,z=a.Uint8Array,G=Array.prototype,q=u.ArrayBuffer,K=u.DataView,$=P(0),J=P(2),Q=P(3),X=P(4),Z=P(5),ee=P(6),te=x(!0),ne=x(!1),re=N.values,ae=N.keys,oe=N.entries,ie=G.lastIndexOf,se=G.reduce,ue=G.reduceRight,le=G.join,ce=G.sort,de=G.slice,fe=G.toString,pe=G.toLocaleString,he=M("iterator"),me=M("toStringTag"),ve=T("typed_constructor"),ye=T("def_constructor"),ge=s.CONSTR,be=s.TYPED,_e=s.VIEW,we=P(1,function(e,t){return Ce(j(e,e[ye]),t)}),Ee=o(function(){return 1===new z(new Uint16Array([1]).buffer)[0]}),ke=!!z&&!!z.prototype.set&&o(function(){new z(1).set({})}),Se=function(e,t){var n=h(e);if(n<0||n%t)throw B("Wrong offset!");return n},Oe=function(e){if(w(e)&&be in e)return e;throw W(e+" is not a typed array!")},Ce=function(e,t){if(!(w(e)&&ve in e))throw W("It is not a typed array constructor!");return new e(t)},De=function(e,t){return Te(j(e,e[ye]),t)},Te=function(e,t){for(var n=0,r=t.length,a=Ce(e,r);r>n;)a[n]=t[n++];return a},Me=function(e,t,n){H(e,t,{get:function(){return this._d[n]}})},Pe=function(e){var t,n,r,a,o,i,s=E(e),u=arguments.length,c=u>1?arguments[1]:void 0,d=void 0!==c,f=D(s);if(void 0!=f&&!k(f)){for(i=f.call(s),r=[],t=0;!(o=i.next()).done;t++)r.push(o.value);s=r}for(d&&u>2&&(c=l(c,arguments[2],2)),t=0,n=m(s.length),a=Ce(this,n);n>t;t++)a[t]=d?c(s[t],t):s[t];return a},xe=function(){for(var e=0,t=arguments.length,n=Ce(this,t);t>e;)n[e]=arguments[e++];return n},je=!!z&&o(function(){pe.call(new z(1))}),Ne=function(){return pe.apply(je?de.call(Oe(this)):Oe(this),arguments)},Ae={copyWithin:function(e,t){return F.call(Oe(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return X(Oe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return I.apply(Oe(this),arguments)},filter:function(e){return De(this,J(Oe(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Z(Oe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Oe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){$(Oe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Oe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Oe(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return le.apply(Oe(this),arguments)},lastIndexOf:function(e){return ie.apply(Oe(this),arguments)},map:function(e){return we(Oe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Oe(this),arguments)},reduceRight:function(e){return ue.apply(Oe(this),arguments)},reverse:function(){for(var e,t=Oe(this).length,n=Math.floor(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this},some:function(e){return Q(Oe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ce.call(Oe(this),e)},subarray:function(e,t){var n=Oe(this),r=n.length,a=y(e,r);return new(j(n,n[ye]))(n.buffer,n.byteOffset+a*n.BYTES_PER_ELEMENT,m((void 0===t?r:y(t,r))-a))}},Re=function(e,t){return De(this,de.call(Oe(this),e,t))},Le=function(e){Oe(this);var t=Se(arguments[1],1),n=this.length,r=E(e),a=m(r.length),o=0;if(a+t>n)throw B("Wrong length!");for(;o<a;)this[t+o]=r[o++]},Ie={entries:function(){return oe.call(Oe(this))},keys:function(){return ae.call(Oe(this))},values:function(){return re.call(Oe(this))}},Fe=function(e,t){return w(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ye=function(e,t){return Fe(e,t=g(t,!0))?d(2,e[t]):V(e,t)},Ue=function(e,t,n){return!(Fe(e,t=g(t,!0))&&w(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?H(e,t,n):(e[t]=n.value,e)};ge||(U.f=Ye,Y.f=Ue),i(i.S+i.F*!ge,"Object",{getOwnPropertyDescriptor:Ye,defineProperty:Ue}),o(function(){fe.call({})})&&(fe=pe=function(){return le.call(this)});var He=p({},Ae);p(He,Ie),f(He,he,Ie.values),p(He,{slice:Re,set:Le,constructor:function(){},toString:fe,toLocaleString:Ne}),Me(He,"buffer","b"),Me(He,"byteOffset","o"),Me(He,"byteLength","l"),Me(He,"length","e"),H(He,me,{get:function(){return this[be]}}),e.exports=function(e,t,n,u){var l=e+((u=!!u)?"Clamped":"")+"Array",d="get"+e,p="set"+e,h=a[l],y=h||{},g=h&&O(h),b=!h||!s.ABV,E={},k=h&&h.prototype,D=function(e,n){H(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[d](n*t+r.o,Ee)}(this,n)},set:function(e){return function(e,n,r){var a=e._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),a.v[p](n*t+a.o,r,Ee)}(this,n,e)},enumerable:!0})};b?(h=n(function(e,n,r,a){c(e,h,l,"_d");var o,i,s,u,d=0,p=0;if(w(n)){if(!(n instanceof q||"ArrayBuffer"==(u=_(n))||"SharedArrayBuffer"==u))return be in n?Te(h,n):Pe.call(h,n);o=n,p=Se(r,t);var y=n.byteLength;if(void 0===a){if(y%t)throw B("Wrong length!");if((i=y-p)<0)throw B("Wrong length!")}else if((i=m(a)*t)+p>y)throw B("Wrong length!");s=i/t}else s=v(n),o=new q(i=s*t);for(f(e,"_d",{b:o,o:p,l:i,e:s,v:new K(o)});d<s;)D(e,d++)}),k=h.prototype=S(He),f(k,"constructor",h)):o(function(){h(1)})&&o(function(){new h(-1)})&&R(function(e){new h,new h(null),new h(1.5),new h(e)},!0)||(h=n(function(e,n,r,a){var o;return c(e,h,l),w(n)?n instanceof q||"ArrayBuffer"==(o=_(n))||"SharedArrayBuffer"==o?void 0!==a?new y(n,Se(r,t),a):void 0!==r?new y(n,Se(r,t)):new y(n):be in n?Te(h,n):Pe.call(h,n):new y(v(n))}),$(g!==Function.prototype?C(y).concat(C(g)):C(y),function(e){e in h||f(h,e,y[e])}),h.prototype=k,r||(k.constructor=h));var T=k[he],M=!!T&&("values"==T.name||void 0==T.name),P=Ie.values;f(h,ve,!0),f(k,be,l),f(k,_e,!0),f(k,ye,h),(u?new h(1)[me]==l:me in k)||H(k,me,{get:function(){return l}}),E[l]=h,i(i.G+i.W+i.F*(h!=y),E),i(i.S,l,{BYTES_PER_ELEMENT:t}),i(i.S+i.F*o(function(){y.of.call(h,1)}),l,{from:Pe,of:xe}),"BYTES_PER_ELEMENT"in k||f(k,"BYTES_PER_ELEMENT",t),i(i.P,l,Ae),L(l),i(i.P+i.F*ke,l,{set:Le}),i(i.P+i.F*!M,l,Ie),r||k.toString==fe||(k.toString=fe),i(i.P+i.F*o(function(){new h(1).slice()}),l,{slice:Re}),i(i.P+i.F*(o(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!o(function(){k.toLocaleString.call([1,2])})),l,{toLocaleString:Ne}),A[l]=M?T:P,r||M||f(k,he,P)}}else e.exports=function(){}},function(e,t,n){var r=n(392),a=n(387);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(1)),o=s(n(32)),i=s(n(6));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.yesButton=null,e.noButton=null,e.handleKeyDown=function(t){var n=t.target;if(-1===n.className.indexOf("select-widget-input")&&"flatpickr-input"!==n.className&&0!==n.className.indexOf("flatpickr-")&&("INPUT"!==n.tagName||13===t.keyCode||27===t.keyCode)&&!n.className.match("event-signup__input")){var r=!1;if(27===t.keyCode&&(t.preventDefault(),t.stopImmediatePropagation(),e.props.onEscape?e.props.onEscape():e.props.onClose?e.props.onClose():e.props.onNo?e.props.onNo():e.props.onYes&&e.props.onYes()),13!==t.keyCode&&32!==t.keyCode||(e.yesButton&&o.default.findDOMNode(e.yesButton)===n?(e.props.onYes(),r=!0):e.noButton&&o.default.findDOMNode(e.noButton)===n?(e.props.onNo(),r=!0):e.props.onEnter&&(e.props.onEnter(),r=!0)),9===t.keyCode){if(e.props.onTab&&!1===e.props.onTab(t))return;r=!0,e.yesButton&&o.default.findDOMNode(e.yesButton)===document.activeElement&&e.noButton?o.default.findDOMNode(e.noButton).focus():e.noButton&&o.default.findDOMNode(e.noButton)===document.activeElement&&e.yesButton?o.default.findDOMNode(e.yesButton).focus():e.yesButton?o.default.findDOMNode(e.yesButton).focus():e.noButton&&o.default.findDOMNode(e.noButton).focus()}r&&(t.preventDefault(),t.stopImmediatePropagation())}},e.moveInView=function(e){if(e){var t=e.getBoundingClientRect();t.top<0&&(e.style.top=10-t.top+"px",e.style.position="relative")}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"componentDidMount",value:function(){this.props.handleKeyDown&&document.body.addEventListener("keydown",this.handleKeyDown,!1)}},{key:"componentWillUnmount",value:function(){this.props.handleKeyDown&&document.body.removeEventListener("keydown",this.handleKeyDown,!1)}},{key:"renderTitle",value:function(){return this.props.title?a.default.createElement(i.default,{component:"h1",message:this.props.title}):null}},{key:"renderMessage",value:function(){return this.props.message?a.default.createElement(i.default,{component:"p",message:this.props.message,dangerouslyAllowUnescapedHTML:!0}):null}},{key:"renderClose",value:function(){return this.props.onClose&&a.default.createElement("a",{className:"button ghost close-icon",onClick:this.props.onClose},a.default.createElement("i",{className:"sprite-event-close"}))}},{key:"renderButtons",value:function(){var e=this;return a.default.createElement("p",{className:"confirm-options"},this.props.onYes?a.default.createElement(i.default,{component:"button",ref:function(t){e.yesButton=t},className:this.props.yesClassName,disabled:this.props.yesDisabled,onClick:this.props.onYes,message:this.props.yesText}):null,this.props.onNo?a.default.createElement(i.default,{component:"button",ref:function(t){e.noButton=t},disabled:this.props.noDisabled,className:this.props.noClassName,onClick:this.props.onNo,message:this.props.noText}):null)}},{key:"render",value:function(){return a.default.createElement("div",{className:"modal modal-confirm "+this.props.className},a.default.createElement("div",{className:"modal__window",ref:this.moveInView},this.renderTitle(),this.renderClose(),this.renderMessage(),this.props.children,this.renderButtons()))}}]),t}();t.default=u,u.defaultProps={className:"",yesClassName:"button primary",noClassName:"button",handleKeyDown:!0}},function(e,t,n){var r=n(69)("meta"),a=n(8),o=n(31),i=n(13).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(7)(function(){return u(Object.preventExtensions({}))}),c=function(e){i(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return l&&d.NEED&&u(e)&&!o(e,r)&&c(e),e}}},function(e,t,n){var r=n(9)("unscopables"),a=Array.prototype;void 0==a[r]&&n(24)(a,r,{}),e.exports=function(e){a[r][e]=!0}},function(e,t){e.exports=!1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(1)),o=i(n(642));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(t){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return e._notifications=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),r(n,[{key:"renderNotifications",value:function(){var e=this,t=[];return this._notifications.forEach(function(n,r){t.push(a.default.createElement(o.default,{key:n.message+"_"+r,id:r,onHide:function(t){return e.handleNotificationHide(t)},type:n.type,message:n.message,params:n.params}))}),t}},{key:"clearNotifications",value:function(){this._notifications=[],this.forceUpdate()}},{key:"addNotification",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._notifications.push({message:e,type:t,params:n}),this.forceUpdate()}},{key:"replaceNotification",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._notifications=[{message:e,type:t,params:n}],this.forceUpdate()}},{key:"isSuccess",value:function(){return 0===this._notifications.filter(function(e){return"error"===e.type}).length}},{key:"handleError",value:function(e){var t=e;e.responseText?t=JSON.parse(t.responseText):e.response?t=e.response:console.error&&console.error("Malformed error, can not extract message",e),this.replaceNotification(t.error.message,"error"),window.scrollTo(0,0)}},{key:"handleNotificationHide",value:function(e){this._notifications.splice(e,1),this.forceUpdate()}}]),n}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(97)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=h(n(27)),i=h(n(182)),s=h(n(216)),u=h(n(4)),l=h(n(190)),c=h(n(17)),d=h(n(349)),f=h(n(76)),p=h(n(10));function h(e){return e&&e.__esModule?e:{default:e}}var m=[{abbrev:"s",id:"scheduler"},{abbrev:"d",id:"day"},{abbrev:"md",id:"multiday"},{abbrev:"w",id:"week"},{abbrev:"mw",id:"multiweek"},{abbrev:"m",id:"month"},{abbrev:"y",id:"year"},{abbrev:"a",id:"agenda"},{abbrev:"l",id:"list"}],v={day:{amount:1,interval:"day"},week:{amount:1,interval:"week"},"2weeks":{amount:2,interval:"week"},month:{amount:1,interval:"month"},"3months":{amount:3,interval:"month"},"6months":{amount:6,interval:"month"},year:{amount:1,interval:"year"}},y=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state=e.getInitialState(),e.initialViewId=e.state.views.current,e.bindActions({handleToggleSidebar:i.default.toggleSidebar,handleSetTimezone:i.default.setTimezone,handleSetView:i.default.setView,handleSetGridResolution:i.default.setGridResolution,handleSetCurrentDate:i.default.setCurrentDate,handleSetDateRange:i.default.setDateRange,handlePickTimezone:i.default.pickTimezone,handleNextDateRange:i.default.nextDateRange,handlePrevDateRange:i.default.prevDateRange,handleSetViewSetting:i.default.setViewSetting,handlePrintPdfOptions:i.default.setPrintPdfOptions,handleDoSearch:i.default.doSearch,handleTimezonePickerDone:i.default.timezonePickerDone,handleSetLanguage:i.default.setLanguage,handleToggleShowAllEvents:i.default.toggleShowAllEvents,handleSearchNextPage:i.default.searchNextPage,handleSearchPrevPage:i.default.searchPrevPage}),e.exportPublicMethods({getViewAbbrev:e.getViewAbbrev.bind(e),reloadState:e.reloadState.bind(e),getViews:e.getViews.bind(e)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f["default"]),a(t,[{key:"getInitialState",value:function(){if(this.localStorageState=JSON.parse(l.default.read(c.default.getAppKey()+"-calendar-state"))||{},void 0===this.localStorageState.timezone){var e=(l.default.read(c.default.getAppKey()+"-calendar")||"").toString().match(/timezone%3Ds%253A([^%]+)/);e&&e[1]&&(this.writeLocalStorage("timezone",e[1]),this.localStorageState.timezone=e[1])}var t=this.getDefaultViewsConfig();return{sidebar:this.getDefaultSidebarConfig(),timezone:this.getDefaultTimezoneConfig(),views:t,grid:this.getDefaultGridConfig(),datetime:this.getDefaultDatetimeConfig(t),authentication:this.getDefaultAuthentication(),oneToMany:this.getDefaultOneToManyConfig(),printPdfOptions:this.getPrintPdfOptions(),language:this.getDefaultLanguage(),effectivelyEnabledEventSharingServices:this.getEffectivelyEnabledSharingServices(),fields:this.getFieldData()}}},{key:"reloadState",value:function(){this.state=this.getInitialState()}},{key:"getViewAbbrev",value:function(e){return m.find(function(t){return t.id===e}).abbrev}},{key:"getViews",value:function(){var e=this;return m.filter(function(t){return t.id===e.state.views.current||t.id===e.initialViewId||!0===e.state.views[t.id+"ViewEnabled"]}).map(function(t){var n=void 0;return n="multiday"===t.id?p.default.translate("calendar","calendar.multiDayText").replace("{0}",e.state.views.multiday.number.toString()):"multiweek"===t.id?p.default.translate("calendar","calendar.multiWeekText").replace("{0}",e.state.views.multiweek.number.toString()):p.default.translate("calendar","calendar."+t.id+"Text"),{id:t.id,name:n}})}},{key:"getDefaultSidebarConfig",value:function(){var e=!0,t=c.default.getCalendarDefaults().sidebarDefaultExpanded;void 0!==this.localStorageState.sidebarVisible&&(t=this.localStorageState.sidebarVisible);var n=c.default.getInitialQueryParams();return"c"===n.sidepanel?t=!1:"v"===n.sidepanel&&(t=!0),void 0!==n.showSidepanel&&(t=1==n.showSidepanel),1==n.disableSidepanel&&(t=!1,e=!1),{expanded:t,enabled:e}}},{key:"getDefaultTimezoneConfig",value:function(){return{value:this.computeDefaultTimezone(c.default.getCalendarDefaults().timezone),visible:c.default.getCalendarDefaults().timezone.visible,pick:!1}}},{key:"getDefaultAuthentication",value:function(){return c.default.getCalendarDefaults().authentication}},{key:"computeDefaultTimezone",value:function(e){return"STATIC"==e.mode||"DYNAMIC"==e.mode?e.forced?e.forced:void 0!==this.localStorageState.timezone?this.localStorageState.timezone:"STATIC"==e.mode?e.app||"":d.default.determine().name():""}},{key:"getDefaultDatetimeConfig",value:function(e){var t=c.default.getCalendarDefaults().datetime,n=(t.defaultDate?(0,u.default)(t.defaultDate):(0,u.default)()).startOf("day"),r=this.calculateDateRange(e),a=this.calculateHideWeekend(e.current,t.hideWeekend),o=this.calculateViewRanges(e.current,n,r,a),i=this.calculateHighlightedDates(o.visibleStartDate,o.visibleEndDate,a);return Object.assign({},t,{currentDate:n,dateRange:r,viewStartDate:o.viewStartDate,visibleStartDate:o.visibleStartDate,viewEndDate:o.viewEndDate,visibleEndDate:o.visibleEndDate,highlightedDates:i,hideWeekend:a,hideWeekendDefault:t.hideWeekend})}},{key:"getDefaultOneToManyConfig",value:function(){var e=c.default.getCalendarDefaults().oneToMany;return{enabled:!!e.enabled,layout:1===parseInt(e.layout,10)?"multiple":"striped"}}},{key:"getDefaultViewsConfig",value:function(){var e=this,t=c.default.getInitialQueryParams(),n=function(e){e=e.toLowerCase();var t=m.find(function(t){return e==t.abbrev||e==t.id});return t?t.id:void 0},r=Object.assign({},c.default.getCalendarDefaults().views,{search:{query:void 0,limit:100,offset:0},showAllEvents:!0,current:"month",lastNonSearchViewId:"month",isPdf:t.format&&"pdf"==t.format,formatPdfEco:t.format&&"pdf"==t.format&&t.color&&"eco"==t.color});r.current=r.default,void 0!==this.localStorageState.view&&(r.current=this.localStorageState.view),void 0!==this.localStorageState.showAllEvents&&(r.showAllEvents=this.localStorageState.showAllEvents),m.forEach(function(t){void 0!==e.localStorageState[t.id+"-settings"]&&Object.keys(r[t.id]).map(function(n){void 0!==e.localStorageState[t.id+"-settings"][n]&&(r[t.id][n]=e.localStorageState[t.id+"-settings"][n])})}),"string"==typeof t.query&&setTimeout(function(){i.default.doSearch(t.query.trim())},0);var a=!1;t.view&&(r.current=t.view,a=!0),r.current=r.current.toLowerCase();var o,s=n(r.current);s?r.current=s:(o=r.current.match(/md(\d+)/))?(r.current="multiday",r.multiday.number=Math.max(2,Math.min(6,parseInt(o[1])))):(o=r.current.match(/mw(\d+)/))?(r.current="multiweek",r.multiweek.number=Math.max(2,Math.min(12,parseInt(o[1])))):(o=r.current.match(/y(\d+)m/))?(r.current="year",r.year.number=Math.max(1,Math.min(12,parseInt(o[1])))):a=!1;if(!a&&!0!==r[r.current+"ViewEnabled"]){var u=r.default.toLowerCase();m.find(function(e){return e.abbrev===u||e.id===u});r.current=n(r.default.replace(/\d+m?/g,""))}if(!a&&!0!==r[r.current+"ViewEnabled"]){var l=m.find(function(e){return!0===r[e.id+"ViewEnabled"]});r.current=l?l.id:"month"}if(t.view&&t.viewstate){var d={};try{d=JSON.parse(t.viewstate)}catch(e){}r[r.current]=Object.assign({},r[r.current],d)}return r.lastNonSearchViewId=r.current,r}},{key:"getDefaultGridConfig",value:function(){var e=Object.assign({},c.default.getCalendarDefaults().grid);void 0!==this.localStorageState.gridResolution&&(e.resolution=parseInt(this.localStorageState.gridResolution));var t=c.default.getInitialQueryParams();return t.resolution&&-1!==[5,10,15,30,60].indexOf(parseInt(t.resolution))&&(e.resolution=parseInt(t.resolution)),e}},{key:"getDefaultLanguage",value:function(){var e=c.default.getCalendarDefaults().language;return void 0!==this.localStorageState.language?this.localStorageState.language:e}},{key:"getEffectivelyEnabledSharingServices",value:function(){return c.default.getCalendarDefaults().effectivelyEnabledEventSharingServices}},{key:"getFieldData",value:function(){return c.default.getCalendarDefaults().fields}},{key:"handleToggleSidebar",value:function(e){var t=e.visible,n=e.userAction;this.state.sidebar.enabled||(t=!1),this.state.sidebar.expanded=null===t?!this.state.sidebar.expanded:t,n&&this.writeLocalStorage("sidebarVisible",this.state.sidebar.expanded)}},{key:"handleSetTimezone",value:function(e){this.writeLocalStorage("timezone",e),this.state.timezone.value=e,this.state.timezone.pick=!1,setTimeout(function(){s.default.refresh()},0)}},{key:"handleSetGridResolution",value:function(e){this.writeLocalStorage("gridResolution",e),this.state.grid.resolution=e}},{key:"handleSetLanguage",value:function(e){this.writeLocalStorage("language",e),this.state.language=e,window.location.reload()}},{key:"handleToggleShowAllEvents",value:function(){this.writeLocalStorage("showAllEvents",!this.state.views.showAllEvents),this.state.views.showAllEvents=!this.state.views.showAllEvents}},{key:"handleSetView",value:function(e){var t=e.viewId,n=e.currentDate;this.state.views.current=t,this.state.datetime.hideWeekend=this.calculateHideWeekend(t,this.state.datetime.hideWeekendDefault),n&&(this.state.datetime.currentDate=n),t.match("search")||(this.state.views.lastNonSearchViewId=t,this.state.views.search.query=void 0,this.writeLocalStorage("view",t),this.handleSetDateRange(this.calculateDateRange(this.state.views)))}},{key:"handleSetCurrentDate",value:function(e){if(e.isSame(this.state.datetime.currentDate))return!1;this.state.datetime.currentDate=e;var t=this.calculateViewRanges(this.state.views.current,e,this.state.datetime.dateRange,this.state.datetime.hideWeekend);this.state.datetime.viewStartDate=t.viewStartDate,this.state.datetime.visibleStartDate=t.visibleStartDate,this.state.datetime.viewEndDate=t.viewEndDate,this.state.datetime.visibleEndDate=t.visibleEndDate,this.state.datetime.highlightedDates=this.calculateHighlightedDates(t.visibleStartDate,t.visibleEndDate,this.state.datetime.hideWeekend)}},{key:"handleNextDateRange",value:function(){var e=this.state.datetime.dateRange,t=this.state.datetime.currentDate.clone().hour(12).add(e.amount,e.interval).startOf("day");this.handleSetCurrentDate(t)}},{key:"handlePrevDateRange",value:function(){var e=this.state.datetime.dateRange,t=this.state.datetime.currentDate.clone().hour(12).subtract(e.amount,e.interval).startOf("day");this.handleSetCurrentDate(t)}},{key:"handleSetDateRange",value:function(e){e.interval=e.interval.replace(/s$/,""),this.state.datetime.dateRange=e;var t=this.calculateViewRanges(this.state.views.current,this.state.datetime.currentDate,e,this.state.datetime.hideWeekend);if((0,r.default)(t,{viewStartDate:this.state.datetime.viewStartDate,visibleStartDate:this.state.datetime.visibleStartDate,viewEndDate:this.state.datetime.viewEndDate,visibleEndDate:this.state.datetime.visibleEndDate}))return!1;this.state.datetime.viewStartDate=t.viewStartDate,this.state.datetime.visibleStartDate=t.visibleStartDate,this.state.datetime.viewEndDate=t.viewEndDate,this.state.datetime.visibleEndDate=t.visibleEndDate,this.state.datetime.highlightedDates=this.calculateHighlightedDates(t.visibleStartDate,t.visibleEndDate,this.state.datetime.hideWeekend)}},{key:"handlePickTimezone",value:function(){this.state.timezone.pick=!0}},{key:"handleTimezonePickerDone",value:function(){this.state.timezone.pick=!1}},{key:"handlePrintPdfOptions",value:function(e){this.writeLocalStorage("print-pdf-options",e),this.state.printPdfOptions=e}},{key:"getPrintPdfOptions",value:function(){if(void 0!==this.localStorageState["print-pdf-options"])return this.localStorageState["print-pdf-options"]}},{key:"handleSetViewSetting",value:function(e){var t=e.view,n=e.key,r=e.value,a=e.store;this.state.views[t][n]=r,a&&this.writeLocalStorage(t+"-settings",this.state.views[t]),this.handleSetDateRange(this.calculateDateRange(this.state.views))}},{key:"handleDoSearch",value:function(e){var t=e.query,n=e.start,r=e.end;n||(n=this.state.datetime.currentDate.clone().add(-6,"month").subtract(1,"day")),r||(r=this.state.datetime.currentDate.clone().add(6,"month").subtract(1,"day")),this.handleSetView({viewId:"search",currentDate:this.state.datetime.currentDate}),this.state.views.search={query:t,limit:100,offset:0};var a=r.diff(n,"days")+1;this.state.datetime.dateRange={amount:a,interval:"day"},this.state.datetime.visibleStartDate=n,this.state.datetime.visibleEndDate=r,this.state.datetime.viewStartDate=n,this.state.datetime.viewEndDate=r,this.state.datetime.highlightedDates=this.calculateHighlightedDates(n,r,this.state.datetime.hideWeekend)}},{key:"handleSearchNextPage",value:function(){this.state.views.search.offset+=this.state.views.search.limit}},{key:"handleSearchPrevPage",value:function(){this.state.views.search.offset-=this.state.views.search.limit}},{key:"writeLocalStorage",value:function(e,t){this.localStorageState[e]=t,l.default.write(c.default.getAppKey()+"-calendar-state",JSON.stringify(this.localStorageState))}},{key:"calculateHideWeekend",value:function(e,t){return!(!t||-1===["month","multiweek","week"].indexOf(e))}},{key:"calculateHighlightedDates",value:function(e,t,n){var r=[];for(e=e.clone();e.isSameOrBefore(t);)(!n||e.isoWeekday()<6)&&r.push(e.format("YYYY-MM-DD")),e.add(36,"hours").startOf("day");return r}},{key:"calculateDateRange",value:function(e){var t=1,n="month",r=e.current;return"scheduler"===r?n="day":"multiday"===r?(n="day",t=e.multiday.number):"multiweek"===r?(n="week",t=e.multiweek.number):"agenda"===r?(t=v[e.agenda.dateRange].amount,n=v[e.agenda.dateRange].interval):"list"===r?(t=v[e.list.dateRange].amount,n=v[e.list.dateRange].interval):"year"===r?(n="month",t=e.year.number):"search"===r?(n="month",t=12):n=r,{amount:t,interval:n}}},{key:"calculateViewRanges",value:function(e,t,n,r){var a,o,i,s;if("search"===e)return{viewStartDate:a=t.clone(),viewEndDate:o=t.clone().add(n.amount-1,n.interval),visibleStartDate:a,visibleEndDate:o};if(-1===["day","week","month","year"].indexOf(n.interval))throw new Error("Invalid date range interval given: "+n.interval);return"agenda"==e||"list"==e?{viewStartDate:a=t.clone(),viewEndDate:o="day"===n.interval?a.clone().add(n.amount-1,n.interval):a.clone().add(n.amount,n.interval).subtract(12,"hours").startOf("day"),visibleStartDate:a,visibleEndDate:o}:(o=(a=t.clone().startOf(n.interval)).clone().endOf(n.interval).add(n.amount-1,n.interval),!r||"month"!=e&&"week"!=e&&"multiweek"!=e?"month"==e?(i=a.clone().startOf("week"),s=o.clone().endOf("week")):"year"==e?(i=a.clone(),s=o.clone().endOf("month")):(i=a,s=o):(i="month"!=e?a=a.isoWeekday(1):a.clone().isoWeekday(1),o=u.default.max(i.clone().add(n.amount,n.interval).subtract(1,"week").isoWeekday(5),i.clone().add(n.amount,n.interval).subtract(1,"week").endOf(n.interval)),"week"!=e&&"multiweek"!=e||o.isoWeekday(5),(s=o.clone().isoWeekday(5)).isBefore(o)&&(s=o)),{viewStartDate:a,viewEndDate:o,visibleStartDate:i,visibleEndDate:s})}}]),t}();t.default=o.default.createStore(y,"CalendarStateStore")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(27)),o=i(n(73));function i(e){return e&&e.__esModule?e:{default:e}}var s=a.default.createActions(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["default"]),r(t,[{key:"setStatus",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.dispatch({message:e,type:t,keep:n,params:r})}},{key:"flashStatus",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s.setStatus(e,t,!1,n)}},{key:"alert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.title=e,s.setStatus(t,"alert",!0,n)}},{key:"clear",value:function(){this.dispatch()}},{key:"clearType",value:function(e){this.dispatch(e)}}]),t}());t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(86),o=(r=a)&&r.__esModule?r:{default:r},i=(0,o.default)();t.ACTION_HANDLER=i;var s=(0,o.default)();t.ACTION_KEY=s;var u=(0,o.default)();t.ACTIONS_REGISTRY=u;var l=(0,o.default)();t.ACTION_UID=l;var c=(0,o.default)();t.ALL_LISTENERS=c;var d=(0,o.default)();t.HANDLING_ERRORS=d;var f=(0,o.default)();t.INIT_SNAPSHOT=f;var p=(0,o.default)();t.LAST_SNAPSHOT=p;var h=(0,o.default)();t.LIFECYCLE=h;var m=(0,o.default)();t.LISTENERS=m;var v=(0,o.default)();t.PUBLIC_METHODS=v;var y=(0,o.default)();t.STATE_CONTAINER=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=(r=o)&&r.__esModule?r:{default:r},s=n(137);var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleKeyDown=function(t){"text"!==e.props.type&&"password"!==e.props.type||13==t.keyCode&&e.props.onBlur&&e.props.onBlur(t)},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["default"].Component),a(t,[{key:"getValue",value:function(){return this.ref?"checkbox"===this.props.type?this.ref.checked:this.ref.value:"checkbox"!==this.props.type&&""}},{key:"setValue",value:function(e){this.ref&&(this.ref.value=e)}},{key:"render",value:function(){var e=this,t=this.props.id||this.props.name,n="checkbox"===this.props.type||"radio"===this.props.type?"":"settings__input-big",r=this.props.defaultValue,a=void 0;this.props.className&&(n+=" "+this.props.className),"checkbox"===this.props.type&&(a="on"===(r=this.props.hasOwnProperty("defaultValue")?!0===this.props.defaultValue?"on":this.props.defaultValue:"on"));var o=(0,s.excludeProps)(this.props,["name","defaultValue","type","className"]);return i.default.createElement("input",Object.assign({ref:function(t){e.ref=t},id:t,onKeyDown:this.handleKeyDown,type:this.props.type,name:this.props.name,defaultValue:r,className:n,defaultChecked:a},o))}}]),t}();t.default=u,u.defaultProps={type:"text"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(97)),a=l(n(44)),o=l(n(443)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=l(n(32)),u=l(n(451));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=s.default.findDOMNode(e);if("FORM"!==t.tagName){var n=t.getElementsByTagName("form");if(n.length>0)return n[0]}return t}var d={valuesAreEqual:function(e,t){return 0===this.differentKeys(e,t).length},differentKeys:function(e,t){return(0,o.default)(Object.keys(e),Object.keys(t)).filter(function(n){return(0,a.default)(e[n])&&(0,a.default)(t[n])?!(0,r.default)(e[n],t[n]):"string"==typeof e[n]&&"string"==typeof t[n]?e[n].trim()!=t[n].trim():e[n]!=t[n]})},getFormValues:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e||(e=c(this)),u.default.serialize(e)},patch:function(e){e.valuesAreEqual=d.valuesAreEqual.bind(e),e.differentKeys=d.differentKeys.bind(e),e.getFormValues=d.getFormValues.bind(e)},makeFormValues:function(e){return function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),i(n,[{key:"valuesAreEqual",value:function(e,t){return 0===this.differentKeys(e,t).length}},{key:"differentKeys",value:function(e,t){return(0,o.default)(Object.keys(e),Object.keys(t)).filter(function(n){return(0,a.default)(e[n])&&(0,a.default)(t[n])?!(0,r.default)(e[n],t[n]):"string"==typeof e[n]&&"string"==typeof t[n]?e[n].trim()!=t[n].trim():e[n]!=t[n]})}},{key:"getFormValues",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e||(e=c(this)),u.default.serialize(e)}}]),n}()}};t.default=d},function(e,t,n){var r=n(35),a=n(323),o=n(170),i=n(3),s=n(11),u=n(168),l={},c={};(t=e.exports=function(e,t,n,d,f){var p,h,m,v,y=f?function(){return e}:u(e),g=r(n,d,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(o(y)){for(p=s(e.length);p>b;b++)if((v=t?g(i(h=e[b])[0],h[1]):g(e[b]))===l||v===c)return v}else for(m=y.call(e);!(h=m.next()).done;)if((v=a(m,g,h.value,t))===l||v===c)return v}).BREAK=l,t.RETURN=c},function(e,t,n){var r=n(338),a=n(172);e.exports=Object.keys||function(e){return r(e,a)}},function(e,t,n){var r=n(3),a=n(335),o=n(172),i=n(173)("IE_PROTO"),s=function(){},u=function(){var e,t=n(175)("iframe"),r=o.length;for(t.style.display="none",n(169).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[i]=e):n=u(),void 0===t?n:a(n,t)}},function(e,t,n){"use strict";var r=n(5),a=n(13),o=n(12),i=n(9)("species");e.exports=function(e){var t=r[e];o&&t&&!t[i]&&a.f(t,i,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(40),a=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?a(e+t,0):o(e,t)}},function(e,t,n){var r=n(338),a=n(172).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(23);e.exports=function(e,t,n){for(var a in t)r(e,a,t[a],n);return e}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eachObject=r,t.assign=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return r(function(t,n){return e[t]=n},n),e};function r(e,t){t.forEach(function(t){Object.keys(Object(t)).forEach(function(n){e(n,t[n])})})}t.isFunction=function(e){return"function"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(1)),o=i(n(664));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"renderLabel",value:function(){if("string"==typeof this.props.message||this.props.spacer)return a.default.createElement(o.default,Object.assign({message:this.props.message||""},this.props))}},{key:"render",value:function(){var e={};return this.props.fullWidth&&(e.width="98%"),a.default.createElement("div",{className:this.props.className+(!0===this.props.spacer?" "+this.props.className+"-spaced":"")},this.renderLabel(),a.default.createElement("div",{className:"page__settings__content-input",style:e},this.props.children))}}]),t}();s.defaultProps={className:"page__settings__content-main",spacer:!1,fullWidth:!1},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(27)),o=l(n(220)),i=l(n(17)),s=l(n(195)),u=l(n(76));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r){s.default.setLanguage(e),s.default.loadSections(t,n,function(e){r.state.language=e.language,r.state.translationMessages=e.translationMessages,r.state.dateLocale=e.dateLocale,r.state.dateFormats=e.dateFormats,r.state.use24hTimes=e.use24hTimes,r.emitChange()})}var d=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.sections=[],e.state={language:i.default.getLanguage(),translationMessages:{},dateLocale:"en",use24hTimes:!0,dateFormats:{}},e.sections=i.default.getLanguageSections(),e.bindActions({handleLanguageChange:o.default.SET_LANGUAGE,handleSectionsLoading:o.default.LOAD_SECTIONS,handleDateTimeChange:o.default.SET_DATE_LOCALE}),c(e.state.language,e.sections,i.default.getDateLocale(),e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u["default"]),r(t,[{key:"handleLanguageChange",value:function(e){c(e,this.sections,this.state.dateLocale,this)}},{key:"handleDateTimeChange",value:function(e){var t=this,n=e.dateLocale,r=e.use24hTimes;s.default.setUse24hTimes(r),s.default.loadSections(this.sections,n,function(e){t.state.dateLocale=e.dateLocale,t.state.use24hTimes=e.use24hTimes,t.state.dateFormats=e.dateFormats})}},{key:"handleSectionsLoading",value:function(e){this.sections=e,c(this.state.language,e,this.state.dateLocale,this)}}]),t}();t.default=a.default.createStore(d,"TranslationStore")},function(e,t,n){var r=n(81),a=n(391),o=n(390),i="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:i:u&&u in Object(e)?a(e):o(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}},function(e,t,n){var r=n(2),a=n(39),o=n(7),i=n(147),s="["+i+"]",u=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),c=function(e,t,n){var a={},s=o(function(){return!!i[e]()||"??"!="??"[e]()}),u=a[e]=s?t(d):i[e];n&&(a[n]=u),r(r.P+r.F*s,"String",a)},d=c.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(l,"")),e};e.exports=c},function(e,t,n){var r=n(8);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t){e.exports={}},function(e,t,n){var r=n(13).f,a=n(31),o=n(9)("toStringTag");e.exports=function(e,t,n){e&&!a(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(25).Symbol;e.exports=r},function(e,t,n){var r=n(378);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(48)(Object,"create");e.exports=r},function(e,t,n){var r=n(96);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(402),a=n(401),o=n(400),i=n(399),s=n(398);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=a,u.prototype.get=o,u.prototype.has=i,u.prototype.set=s,e.exports=u},function(e,t,n){"use strict";var r={},a=Object.create,o=Object.defineProperties,i=Object.defineProperty,s=function(e){var t=void 0===arguments[1]?{}:arguments[1];return{value:e,configurable:!!t.c,writable:!!t.w,enumerable:!!t.e}},u=void 0;try{var l=i({},"y",{get:function(){return 1}});u=1===l.y}catch(e){u=!1}var c={},d=function(e){e=String(e);for(var t="",n=0;c[e+t];)t=n+=1;c[e+t]=1;var r="Symbol("+e+t+")";return u&&i(Object.prototype,r,{get:void 0,set:function(e){i(this,r,s(e,{c:!0,w:!0}))},configurable:!0,enumerable:!1}),r},f=a(null);function p(e){if(this instanceof p)throw new TypeError("Symbol is not a constructor");e=void 0===e?"":String(e);var t=d(e);return u?a(f,{__description__:s(e),__tag__:s(t)}):t}o(p,{for:s(function(e){var t=String(e);if(r[t])return r[t];var n=p(t);return r[t]=n,n}),keyFor:s(function(e){if(u&&(!(t=e)||"Symbol"!==t[p.toStringTag]))throw new TypeError(e+" is not a symbol");var t;for(var n in r)if(r[n]===e)return u?r[n].__description__:r[n].substr(7,r[n].length-8)})}),o(p,{hasInstance:s(p("hasInstance")),isConcatSpreadable:s(p("isConcatSpreadable")),iterator:s(p("iterator")),match:s(p("match")),replace:s(p("replace")),search:s(p("search")),species:s(p("species")),split:s(p("split")),toPrimitive:s(p("toPrimitive")),toStringTag:s(p("toStringTag")),unscopables:s(p("unscopables"))}),o(f,{constructor:s(p),toString:s(function(){return this.__tag__}),valueOf:s(function(){return"Symbol("+this.__description__+")"})}),u&&i(f,p.toStringTag,s("Symbol",{c:!0})),e.exports="function"==typeof Symbol?Symbol:p},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(34),a=n(9)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?n:o?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},function(e,t,n){var r=n(34);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(50)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(27)),i=c(n(76)),s=c(n(207)),u=c(n(190)),l=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=JSON.parse(u.default.read(l.default.getAppKey()+"-calendars"))||{};e.hidden=n.hidden||[],e.collapsed=n.collapsed||[];var a=void 0;a=window.resources?window.resources.resources.map(e.initializeResource):window.calendars?window.calendars.calendars.map(e.initializeResource):[];var o=l.default.getInitialQueryParams().calendars;o&&("string"==typeof o&&(o=o.split(",")),(0,r.default)(o)&&o.length>0&&(e.hidden=a.filter(function(e){return-1===o.indexOf(e.id)&&-1===o.indexOf(e.id.toString())}).map(function(e){return e.id})));var i=e.parseResources(a);return e.state={resources:a,resourceTree:i.tree,resourcesById:i.byId},e.exportPublicMethods({findById:e.findById.bind(e)}),e.bindActions({handleResourceWasDeleted:s.default.resourceWasDeleted,handleResourceWasCreated:s.default.resourceWasCreated,handleVisibilityUpdate:s.default.toggleResourceVisibility,handleExpansionUpdate:s.default.toggleResourceTree,handleShowOnly:s.default.showOnlyResource,handleShowAll:s.default.showAll}),e.bindAction(s.default.RESOURCE_WAS_ACTIVATED,e.handleResourceWasUpdated),e.bindAction(s.default.RESOURCE_WAS_DEACTIVATED,e.handleResourceWasUpdated),e.bindAction(s.default.RESOURCE_OVERLAP_WAS_ENABLED,e.handleResourceWasUpdated),e.bindAction(s.default.RESOURCE_OVERLAP_WAS_DISABLED,e.handleResourceWasUpdated),e.bindAction(s.default.RESOURCE_WAS_UPDATED,e.handleResourceWasUpdated),e.bindAction(s.default.RESOURCES_UPDATED,e.handleResourcesUpdated),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["default"]),a(t,[{key:"findById",value:function(e){return this.state.resourcesById[parseInt(e,10)]}},{key:"parseResources",value:function(e){var t=this,n=[],r={},a={},o=function(e,t,o,i){r[o]=e,e.root=t,a[e.id]=e,t?(e.parent=null,n.push(e)):(e.parent=r[i].id,r[i].children.push(e))},i=-1;return e.map(function(e){var t,n=e.name.split(" > "),a="",s="";for(t=0;t<n.length;t++)if(s=a,a+=(a?" > ":"")+n[t],t<n.length-1&&!r[a]){var u={id:i--,readonly:!0,expanded:!0,virtual:!0,name:a,visible:!0,children:[],color:"virtual",root:0===t,parent:null,active:!0,overlap:!0,type:0,attributes:[],creation_dt:"",update_dt:null};o(u,u.root,a,s)}e.children=[],e.virtual=!1,e.expanded=!0,o(e,1===t,a,s)}),this.hidden.forEach(function(e){a[e]&&(a[e].visible=!1)}),this.collapsed.forEach(function(e){a[e]&&(a[e].expanded=!1,t.setTreeVisibility(a[e],!1,!1))}),{tree:n,byId:a}}},{key:"setTreeVisibility",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.children.forEach(function(e){var a="function"==typeof n?n(e):n;e.visible=a,r&&t.markExplicitVisibility(e),e.children.length>0&&(!0===e.expanded||!1===n)&&t.setTreeVisibility(e,n,r)}),("function"==typeof n?n(e):n)&&(e.expanded=!0,r&&this.markExplicitExpansion(e))}},{key:"hasVisibleChild",value:function(e){var t=this;!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.children.some(function(e){return e.visible||e.children.length>0&&t.hasVisibleChild(e)})}},{key:"expandParents",value:function(e){for(;e.parent;)(e=this.state.resourcesById[e.parent]).expanded=!0,this.markExplicitExpansion(e)}},{key:"markExplicitVisibility",value:function(e){if(!e.virtual){var t=this.hidden.indexOf(e.id);e.visible?-1!==t&&this.hidden.splice(t,1):-1===t&&this.hidden.push(e.id)}}},{key:"markExplicitExpansion",value:function(e){var t=this.collapsed.indexOf(e.id);e.expanded?-1!==t&&this.collapsed.splice(t,1):-1===t&&this.collapsed.push(e.id)}},{key:"storeState",value:function(){u.default.write(l.default.getAppKey()+"-calendars",JSON.stringify({hidden:this.hidden,collapsed:this.collapsed}))}},{key:"handleResourcesUpdated",value:function(e){var t=this.parseResources(e);this.state.resources=e,this.state.resourceTree=t.tree,this.state.resourcesById=t.byId}},{key:"handleResourceWasDeleted",value:function(e){this.handleResourcesUpdated(this.state.resources.filter(function(t){return t.id!=e.id}))}},{key:"handleResourceWasCreated",value:function(e){var t=this.state.resources;t.push(this.initializeResource(e)),this.handleResourcesUpdated(t)}},{key:"handleResourceWasUpdated",value:function(e){var t=this.state.resources.findIndex(function(t){return t.id===e.id});if(-1!==t){var n=this.state.resources;n[t]=e,this.handleResourcesUpdated(n)}}},{key:"initializeResource",value:function(e){return void 0===e.visible&&(e.visible=!0),e}},{key:"handleVisibilityUpdate",value:function(e){e.children.length>0&&(e.visible&&(e.expanded=!0,this.markExplicitExpansion(e)),this.hasVisibleChild(e)||!e.virtual&&!e.visible?(this.setTreeVisibility(e,!1),e.visible=!1):this.setTreeVisibility(e,!0)),this.markExplicitVisibility(e),e.parent&&e.visible&&this.expandParents(e),this.storeState()}},{key:"handleExpansionUpdate",value:function(e){var t=this;this.markExplicitExpansion(e),e.expanded?(this.expandParents(e),this.setTreeVisibility(e,function(e){return-1===t.hidden.indexOf(e.id)},!1)):this.setTreeVisibility(e,!1,!1),this.storeState()}},{key:"handleShowOnly",value:function(e){var t=this;e=this.state.resourcesById[e.id];var n=this.state.resources.filter(function(e){return e.visible});if(1==n.length&&n[0].id==e.id)return this.handleShowAll();Object.keys(this.state.resourcesById).map(function(n){var r=t.findById(n);r.id!==e.id&&(r.visible=!1,t.markExplicitVisibility(r))}),e.visible=!0,this.markExplicitVisibility(e),e.children.length>0&&this.setTreeVisibility(e,!0),this.storeState()}},{key:"handleShowAll",value:function(){var e=this,t=!!this.state.resources.find(function(e){return!e.visible});Object.keys(this.state.resourcesById).map(function(n){var r=e.findById(n);r.visible=t,e.markExplicitVisibility(r),!0===t&&r.children.length>0&&(r.expanded=t,e.markExplicitExpansion(r))}),this.storeState()}}]),t}();t.default=o.default.createStore(d,"ResourceStore")},function(e,t,n){var r=n(187),a=n(139);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationContext=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.withLocaleSection=function(e){return function(t){function n(){return s(this,n),u(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return l(n,t),r(n,[{key:"render",value:function(){var t=this;return i.default.createElement(f,null,function(n){return i.default.createElement(e,Object.assign({},t.props,{ref:function(e){t.child=e},localeSection:n}))})}}]),n}(i.default.Component)};var a,o=n(1),i=(a=o)&&a.__esModule?a:{default:a};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=i.default.createContext("calendar"),d=c.Provider,f=c.Consumer;t.TranslationContext=function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,i["default"].Component),r(t,[{key:"render",value:function(){return i.default.createElement(d,{value:this.props.section},this.props.children)}}]),t}()},function(e,t,n){var r=n(48)(n(25),"Map");e.exports=r},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(204);e.exports=function(e,t){return r(e,t)}},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.getInternalMethods=function(e,t){var n=t?o:a,r=t?e.prototype:e;return Object.getOwnPropertyNames(r).reduce(function(e,t){return-1!==n.indexOf(t)?e:(e[t]=r[t],e)},{})},t.warn=function(e){"undefined"!=typeof console&&console.warn(new ReferenceError(e))},t.uid=function(e,t){var n=0,r=t;for(;Object.hasOwnProperty.call(e,r);)r=t+String(++n);return r},t.formatAsConstant=function(e){return e.replace(/[a-z]([A-Z])/g,function(e){return e[0]+"_"+e[1].toLowerCase()}).toUpperCase()},t.dispatchIdentity=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.dispatch(n.length?[e].concat(n):e)};var a=Object.getOwnPropertyNames(r),o=Object.getOwnPropertyNames(r.prototype)},function(e,t,n){"use strict";function r(e){return function(){return e}}var a=function(){};a.thatReturns=r,a.thatReturnsFalse=r(!1),a.thatReturnsTrue=r(!0),a.thatReturnsNull=r(null),a.thatReturnsThis=function(){return this},a.thatReturnsArgument=function(e){return e},e.exports=a},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,a,o,i,s,u){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,a,o,i,s,u],d=0;(l=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-tw",{months:"??_??_??_??_??_??_??_??_??_??_???_???".split("_"),monthsShort:"1?_2?_3?_4?_5?_6?_7?_8?_9?_10?_11?_12?".split("_"),weekdays:"???_???_???_???_???_???_???".split("_"),weekdaysShort:"??_??_??_??_??_??_??".split("_"),weekdaysMin:"?_?_?_?_?_?_?".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY?M?D?",LLL:"YYYY?M?D? HH:mm",LLLL:"YYYY?M?D?dddd HH:mm",l:"YYYY/M/D",ll:"YYYY?M?D?",lll:"YYYY?M?D? HH:mm",llll:"YYYY?M?D?dddd HH:mm"},meridiemParse:/??|??|??|??|??|??/,meridiemHour:function(e,t){return 12===e&&(e=0),"??"===t||"??"===t||"??"===t?e:"??"===t?e>=11?e:e+12:"??"===t||"??"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"??":r<900?"??":r<1130?"??":r<1230?"??":r<1800?"??":"??"},calendar:{sameDay:"[??] LT",nextDay:"[??] LT",nextWeek:"[?]dddd LT",lastDay:"[??] LT",lastWeek:"[?]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(?|?|?)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"?";case"M":return e+"?";case"w":case"W":return e+"?";default:return e}},relativeTime:{future:"%s?",past:"%s?",s:"??",ss:"%d ?",m:"1 ??",mm:"%d ??",h:"1 ??",hh:"%d ??",d:"1 ?",dd:"%d ?",M:"1 ??",MM:"%d ??",y:"1 ?",yy:"%d ?"}})}(n(4))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-cn",{months:"??_??_??_??_??_??_??_??_??_??_???_???".split("_"),monthsShort:"1?_2?_3?_4?_5?_6?_7?_8?_9?_10?_11?_12?".split("_"),weekdays:"???_???_???_???_???_???_???".split("_"),weekdaysShort:"??_??_??_??_??_??_??".split("_"),weekdaysMin:"?_?_?_?_?_?_?".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY?M?D?",LLL:"YYYY?M?D?Ah?mm?",LLLL:"YYYY?M?D?ddddAh?mm?",l:"YYYY/M/D",ll:"YYYY?M?D?",lll:"YYYY?M?D? HH:mm",llll:"YYYY?M?D?dddd HH:mm"},meridiemParse:/??|??|??|??|??|??/,meridiemHour:function(e,t){return 12===e&&(e=0),"??"===t||"??"===t||"??"===t?e:"??"===t||"??"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"??":r<900?"??":r<1130?"??":r<1230?"??":r<1800?"??":"??"},calendar:{sameDay:"[??]LT",nextDay:"[??]LT",nextWeek:"[?]ddddLT",lastDay:"[??]LT",lastWeek:"[?]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(?|?|?)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"?";case"M":return e+"?";case"w":case"W":return e+"?";default:return e}},relativeTime:{future:"%s?",past:"%s?",s:"??",ss:"%d ?",m:"1 ??",mm:"%d ??",h:"1 ??",hh:"%d ??",d:"1 ?",dd:"%d ?",M:"1 ??",MM:"%d ??",y:"1 ?",yy:"%d ?"},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc?",9:"'uncu",10:"'uncu",30:"'uncu",60:"'?nc?",90:"'?nc?"};e.defineLocale("tr",{months:"Ocak_?ubat_Mart_Nisan_May?s_Haziran_Temmuz_A?ustos_Eyll_Ekim_Kas?m_Aral?k".split("_"),monthsShort:"Oca_?ub_Mar_Nis_May_Haz_Tem_A?u_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal?_ar?amba_Per?embe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yar?n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir y?l",yy:"%d y?l"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'?nc?";var r=e%10,a=e%100-r,o=e>=100?100:null;return e+(t[r]||t[a]||t[o])}},week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){"use strict";var t="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),n="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function r(e){return e>1&&e<5}function a(e,t,n,a){var o=e+" ";switch(n){case"s":return t||a?"pr seknd":"pr sekundami";case"ss":return t||a?o+(r(e)?"sekundy":"seknd"):o+"sekundami";case"m":return t?"minta":a?"mintu":"mintou";case"mm":return t||a?o+(r(e)?"minty":"mint"):o+"mintami";case"h":return t?"hodina":a?"hodinu":"hodinou";case"hh":return t||a?o+(r(e)?"hodiny":"hodn"):o+"hodinami";case"d":return t||a?"de?":"d?om";case"dd":return t||a?o+(r(e)?"dni":"dn"):o+"d?ami";case"M":return t||a?"mesiac":"mesiacom";case"MM":return t||a?o+(r(e)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return t||a?"rok":"rokom";case"yy":return t||a?o+(r(e)?"roky":"rokov"):o+"rokmi"}}e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nede?a_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede?u o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v?era o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nede?u o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=" ";return(e%100>=20||e>=100&&e%100==0)&&(r=" de "),e+r+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[n]}e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic?_luni_mar?i_miercuri_joi_vineri_smb?t?".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm?",s:"cteva secunde",ss:t,m:"un minut",mm:t,h:"o or?",hh:t,d:"o zi",dd:t,M:"o lun?",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){"use strict";e.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){"use strict";var t="stycze?_luty_marzec_kwiecie?_maj_czerwiec_lipiec_sierpie?_wrzesie?_pa?dziernik_listopad_grudzie?".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze?nia_pa?dziernika_listopada_grudnia".split("_");function r(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function a(e,t,n){var a=e+" ";switch(n){case"ss":return a+(r(e)?"sekundy":"sekund");case"m":return t?"minuta":"minut?";case"mm":return a+(r(e)?"minuty":"minut");case"h":return t?"godzina":"godzin?";case"hh":return a+(r(e)?"godziny":"godzin");case"MM":return a+(r(e)?"miesi?ce":"miesi?cy");case"yy":return a+(r(e)?"lata":"lat")}}e.defineLocale("pl",{months:function(e,r){return e?""===r?"("+n[e.month()]+"|"+t[e.month()]+")":/D MMMM/.test(r)?n[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa?_lis_gru".split("_"),weekdays:"niedziela_poniedzia?ek_wtorek_?roda_czwartek_pi?tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_?r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_?r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi? o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel? o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W ?rod? o] LT";case 6:return"[W sobot? o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz?? niedziel? o] LT";case 3:return"[W zesz?? ?rod? o] LT";case 6:return"[W zesz?? sobot? o] LT";default:return"[W zesz?y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:a,m:a,mm:a,h:a,hh:a,d:"1 dzie?",dd:"%d dni",M:"miesi?c",MM:a,y:"rok",yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],a=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){"use strict";e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){"use strict";var t="vasrnap htf?n kedden szerdn cstrtkn pnteken szombaton".split(" ");function n(e,t,n,r){var a=e;switch(n){case"s":return r||t?"nhny msodperc":"nhny msodperce";case"ss":return a+(r||t)?" msodperc":" msodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return a+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" ra":" rja");case"hh":return a+(r||t?" ra":" rja");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return a+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hnap":" hnapja");case"MM":return a+(r||t?" hnap":" hnapja");case"y":return"egy"+(r||t?" v":" ve");case"yy":return a+(r||t?" v":" ve")}return""}function r(e){return(e?"":"[mlt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf?_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("hr",{months:{format:"sije?nja_velja?e_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije?anj_velja?a_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_?etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._?et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_?e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju?er u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(4))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],a=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?a[n][0]:a[n][1]}e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){"use strict";e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){!function(e){"use strict";var t="leden_nor_b?ezen_duben_kv?ten_?erven_?ervenec_srpen_z?_?jen_listopad_prosinec".split("_"),n="led_no_b?e_dub_kv?_?vn_?vc_srp_z?_?j_lis_pro".split("_");function r(e){return e>1&&e<5&&1!=~~(e/10)}function a(e,t,n,a){var o=e+" ";switch(n){case"s":return t||a?"pr sekund":"pr sekundami";case"ss":return t||a?o+(r(e)?"sekundy":"sekund"):o+"sekundami";case"m":return t?"minuta":a?"minutu":"minutou";case"mm":return t||a?o+(r(e)?"minuty":"minut"):o+"minutami";case"h":return t?"hodina":a?"hodinu":"hodinou";case"hh":return t||a?o+(r(e)?"hodiny":"hodin"):o+"hodinami";case"d":return t||a?"den":"dnem";case"dd":return t||a?o+(r(e)?"dny":"dn"):o+"dny";case"M":return t||a?"m?sc":"m?scem";case"MM":return t||a?o+(r(e)?"m?sce":"m?sc?"):o+"m?sci";case"y":return t||a?"rok":"rokem";case"yy":return t||a?o+(r(e)?"roky":"let"):o+"lety"}}e.defineLocale("cs",{months:t,monthsShort:n,monthsParse:function(e,t){var n,r=[];for(n=0;n<12;n++)r[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return r}(t,n),shortMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(n),longMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(t),weekdays:"ned?le_pond?l_ter_st?eda_?tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_?t_p_so".split("_"),weekdaysMin:"ne_po_t_st_?t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned?li v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st?edu v] LT";case 4:return"[ve ?tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v?era v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned?li v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou st?edu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p?ed %s",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(4))},function(e,t,n){"use strict";var r=n(2),a=n(20),o=n(35),i=n(61);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,u=arguments[1];return a(this),(t=void 0!==u)&&a(u),void 0==e?new this:(n=[],t?(r=0,s=o(u,arguments[2],2),i(e,!1,function(e){n.push(s(e,r++))})):i(e,!1,n.push,n),new this(n))}})}},function(e,t,n){"use strict";var r=n(2);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";e.exports=n(54)||!n(7)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(5)[e]})},function(e,t,n){"use strict";var r=n(24),a=n(23),o=n(7),i=n(39),s=n(9);e.exports=function(e,t,n){var u=s(e),l=n(i,u,""[e]),c=l[0],d=l[1];o(function(){var t={};return t[u]=function(){return 7},7!=""[e](t)})&&(a(String.prototype,e,c),r(RegExp.prototype,u,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}))}},function(e,t,n){"use strict";var r=n(3);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(8),a=n(34),o=n(9)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==a(e))}},function(e,t,n){var r=n(5).navigator;e.exports=r&&r.userAgent||""},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var r=n(5),a=n(2),o=n(23),i=n(68),s=n(52),u=n(61),l=n(67),c=n(8),d=n(7),f=n(126),p=n(80),h=n(163);e.exports=function(e,t,n,m,v,y){var g=r[e],b=g,_=v?"set":"add",w=b&&b.prototype,E={},k=function(e){var t=w[e];o(w,e,"delete"==e?function(e){return!(y&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return y&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(y||w.forEach&&!d(function(){(new b).entries().next()}))){var S=new b,O=S[_](y?{}:-0,1)!=S,C=d(function(){S.has(1)}),D=f(function(e){new b(e)}),T=!y&&d(function(){for(var e=new b,t=5;t--;)e[_](t,t);return!e.has(-0)});D||((b=t(function(t,n){l(t,b,e);var r=h(new g,t,b);return void 0!=n&&u(n,v,r[_],r),r})).prototype=w,w.constructor=b),(C||T)&&(k("delete"),k("has"),v&&k("get")),(T||O)&&k(_),y&&w.clear&&delete w.clear}else b=m.getConstructor(t,e,v,_),i(b.prototype,n),s.NEED=!0;return p(b,e),E[e]=b,a(a.G+a.W+a.F*(b!=g),E),y||m.setStrong(b,e,v),b}},function(e,t,n){var r=n(9)("iterator"),a=!1;try{var o=[7][r]();o.return=function(){a=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var o=[7],i=o[r]();i.next=function(){return{done:n=!0}},o[r]=function(){return i},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(53),a=n(334),o=n(79),i=n(30);e.exports=n(166)(Array,"Array",function(e,t){this._t=i(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,a(1)):a(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(34);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(3),a=n(20),o=n(9)("species");e.exports=function(e,t){var n,i=r(e).constructor;return void 0===i||void 0==(n=r(i)[o])?t:a(n)}},function(e,t,n){var r=n(42),a=n(5),o=a["__core-js_shared__"]||(a["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(54)?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(30),a=n(11),o=n(65);e.exports=function(e){return function(t,n,i){var s,u=r(t),l=a(u.length),c=o(i,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){for(var r,a=n(5),o=n(24),i=n(69),s=i("typed_array"),u=i("view"),l=!(!a.ArrayBuffer||!a.DataView),c=l,d=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(r=a[f[d++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):c=!1;e.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:u}},function(e,t,n){var r=n(361),a=n(95),o=n(360),i=n(359),s=n(358),u=n(75),l=n(185),c=l(r),d=l(a),f=l(o),p=l(i),h=l(s),m=u;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||a&&"[object Map]"!=m(new a)||o&&"[object Promise]"!=m(o.resolve())||i&&"[object Set]"!=m(new i)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case c:return"[object DataView]";case d:return"[object Map]";case f:return"[object Promise]";case p:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var r=n(211),a=n(363),o=n(92);e.exports=function(e){return o(e)?r(e):a(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return function(t){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return e.updateMessages=function(){e.child.forceUpdate()},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a["default"].Component),r(n,[{key:"componentDidMount",value:function(){o.default.listen(this.updateMessages)}},{key:"componentWillUnmount",value:function(){o.default.unlisten(this.updateMessages)}},{key:"render",value:function(){var t=this;return a.default.createElement(e,Object.assign({},this.props,{ref:function(e){t.child=e}}))}}]),n}()};var a=i(n(1)),o=i(n(74));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=(r=o)&&r.__esModule?r:{default:r};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["default"].Component),a(t,[{key:"render",value:function(){var e="page__settings__content-main page__settings-info";return this.props.className&&(e+=" "+this.props.className),i.default.createElement("div",{className:e},i.default.createElement("div",{className:"page__settings__content-input"},this.props.children),null!==this.props.outerHtml&&i.default.createElement("div",{className:"outer-content"},this.props.outerHtml))}}]),t}();s.defaultProps={outerHtml:null},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.excludeProps=function(e,t){var n=Object.assign({},e);return t.forEach(function(e){delete n[e]}),n},t.selectProps=function(e,t){var n={};return t.forEach(function(t){n[t]=e[t]}),n}},function(e,t,n){(function(e){var r=n(25),a=n(365),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||a;e.exports=u}).call(this,n(90)(e))},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){var r=n(386),a=n(379),o=n(377),i=n(376),s=n(375);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=a,u.prototype.get=o,u.prototype.has=i,u.prototype.set=s,e.exports=u},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(1)),o=u(n(10)),i=u(n(135)),s=n(94);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.ref=null,n.handleChange=function(e){n.props.onChange&&n.props.onChange(e),n.setState({checked:!n.state.checked})},n.state={checked:n.props.defaultChecked||!1,id:n.props.name+"_"+Math.random()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"getValue",value:function(){return this.ref.value}},{key:"render",value:function(){var e=this,t=void 0,n=(t=this.state.checked?this.props.enabledTitle||this.props.title:this.props.disabledTitle||this.props.title)?o.default.translate(this.props.localeSection,t):void 0;return a.default.createElement("div",{className:"form__toggle"},a.default.createElement("input",{ref:function(t){e.ref=t},id:this.state.id,onChange:this.handleChange,type:"checkbox",name:this.props.name,checked:this.state.checked}),a.default.createElement("label",{htmlFor:this.state.id,title:n}))}}]),t}();l.defaultProps={defaultChecked:!0},t.default=(0,s.withLocaleSection)((0,i.default)(l))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(218)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(91)),i=d(n(4)),s=d(n(56)),u=d(n(45)),l=d(n(10)),c=d(n(434));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){a||1===n.subcalendars.length?e[t].push(n):p.getVisibleSubcalendars(n).forEach(function(a){var o=(0,r.default)(n);o.subcalendars=[a],e[t].push(o)})}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,null,[{key:"getVisibleSubcalendars",value:function(e){return e.subcalendars.filter(function(e){return e.visible})}},{key:"getAllSubcalendars",value:function(e){return e.subcalendar_ids.map(function(e){return o.default.findById(e)})}},{key:"isMultiDayEvent",value:function(e){return e.end_dt.diff(e.start_dt,"day")>0}},{key:"formatDescription",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(e){var n=e.replace(/<\/?[^>]+>/g,"");return n.length>t?n.substring(0,t-3)+"...":n}return""}},{key:"groupEventsByDate",value:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];t.startOf("day");var i={},s=t.clone().startOf(r),u=s.format("YYYY-MM-DD"),l=n.valueOf();i[u]=[];e:for(var c=0;c<e.length;c++){var d=e[c];if(!d.end_dt.isBefore(t)){for(var p=d.start_dt.clone().startOf(r),h=d.end_dt.clone().startOf(r);p.valueOf()>s.valueOf();){if(this.addIntervalToDate(s,1,r),s.valueOf()>l)break e;void 0===i[u=s.format("YYYY-MM-DD")]&&(i[u]=[])}if(f(i,u,d,a),p.valueOf()!==h.valueOf()&&!0===o)for(var m=s.clone();h.valueOf()>m.valueOf()&&(this.addIntervalToDate(m,1,r),!(m.valueOf()>l));){var v=m.format("YYYY-MM-DD");void 0===i[v]&&(i[v]=[]),f(i,v,d,a)}}}for(s.add(1,r);s.valueOf()<=l;)void 0===i[u=s.format("YYYY-MM-DD")]&&(i[u]=[]),this.addIntervalToDate(s,1,r);return i}},{key:"addIntervalToDate",value:function(e,t,n){if("day"==n||"week"==n){var r=24*("day"==n?t:7*t)+12;return e.add(r,"hour").startOf("day")}return e.add(t,n)}},{key:"sortEventsForDay",value:function(t,n){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]){var r=parseInt(t.start_dt.format("YYYYMMDD"),10)-parseInt(n.start_dt.format("YYYYMMDD"),10);if(r)return r}return t.all_day&&n.all_day?e.sortEventsByCalendarOrTitle(t,n):t.all_day?-1:n.all_day?1:e.sortEventsByTimeDensityOrCalendarOrTitle(t,n)}},{key:"sortEventsByTimeDensityOrCalendarOrTitle",value:function(t,n){var r=t.start_dt.valueOf()-n.start_dt.valueOf();if(r)return r;var a=n.end_dt.valueOf()-t.end_dt.valueOf();return a||e.sortEventsByCalendarOrTitle(t,n)}},{key:"sortEventsByCalendarOrTitle",value:function(e,t){if(e.subcalendars[0].id!==t.subcalendars[0].id){var n=o.default.getState().resources;return n.indexOf(e.subcalendars[0])<n.indexOf(t.subcalendars[0])?-1:1}return e.title.toUpperCase()<t.title.toUpperCase()?-1:1}},{key:"groupEventsBySubcalendarAndAllDayType",value:function(t){var n={},a={};return t.forEach(function(t){t.subcalendars.forEach(function(o){var i=t;o.visible&&(t.subcalendars.length>1&&((i=(0,r.default)(t)).subcalendars=[o]),void 0===n[o.id]&&(n[o.id]=[]),void 0===a[o.id]&&(a[o.id]=[]),i.all_day||e.isEventSpanning(i)?n[o.id].push(i):a[o.id].push(i))})}),{allDayEvents:n,hourlyEvents:a}}},{key:"groupEventsByAllDayType",value:function(t){var n=[],r=[];return t.forEach(function(t){t.all_day||e.isEventSpanning(t)?n.push(t):r.push(t)}),{allDayEvents:n,hourlyEvents:r}}},{key:"isEventSpanning",value:function(e){return e.end_dt.diff(e.start_dt,"day")>0}},{key:"isRecurringEvent",value:function(e){return""!==e.rrule}},{key:"calculateEventDays",value:function(e,t,n,r){var a=i.default.max(e.start_dt,t),o=i.default.min(e.end_dt,n),s=u.default.diffDays(a,o),l=0;if(r)for(var c=a.clone();c.isSameOrBefore(o);)6!=c.day()&&0!=c.day()||l++,c.add(36,"hours").startOf("day");return s+1-l}},{key:"isMultiDayHourlyEvent",value:function(e,t){return!e.all_day&&-1!=["day","multiday","week","scheduler"].indexOf(t)&&(e.end_dt.diff(e.start_dt,"days")>0&&e.end_dt.diff(e.start_dt,"hours")<24)}},{key:"splitEventsByListGrouping",value:function(t,n,r,a,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return"none"===a?t:e.groupEventsByDate(t,n,r,a,o,i)}},{key:"renderEventTitle",value:function(t){var n=void 0;return n=t.title&&0!==t.title.length?t.title:l.default.translate("calendar","calendar.defaultEventTitleText"),n+=e.renderEventTitleExtras(t)}},{key:"renderEventTitleExtras",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="",r=e.custom||{};return s.default.getState().fields.definitions.forEach(function(a){if(a.type_data.shown_in_title&&!a.hidden){var o=void 0;if("single_line_text"===a.type)o=r[a.id];else if("choices"===a.type){var i=c.default.listToMap(a.type_data.options);if(!(o=r[a.id]))return;o=o.filter(function(e){return!i[e].hidden}).map(function(e){return i[e].name}).join(", ")}else if("builtin_location"===a.type){if(t)return;o=e.location}else"builtin_who"===a.type?o=e.who:console.log("Can't handle show_in_title for type "+a.type);o&&(n+=" ("+o+")")}}),n}},{key:"getEventDatesForDate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=i.default.duration(e.end_dt.diff(e.start_dt,"minutes"),"minutes"),a=e.start_dt.clone().year(t.year()).month(t.month()).date(t.date());return e.all_day&&a.add(12,"hour").startOf("day"),n&&a.hours(t.hours()).minutes(t.minutes()).seconds(t.seconds()),{start_dt:a,end_dt:e.all_day?a.clone().add(24*Math.ceil(r.asDays())-12,"hour").endOf("day"):a.clone().add(r)}}}]),e}();t.default=p},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){(function(e){var r=n(186),a="object"==typeof t&&t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=o&&o.exports===a&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=s}).call(this,n(90)(e))},function(e,t,n){var r=n(351),a=n(212),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),r(i(e),function(t){return o.call(e,t)}))}:a;e.exports=s},function(e,t){e.exports="\t\n\v\f\r  ????????????????\u2028\u2029\ufeff"},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){"use strict";var r=n(13),a=n(70);e.exports=function(e,t,n){t in e?r.f(e,t,a(0,n)):e[t]=n}},function(e,t,n){n(12)&&"g"!=/./g.flags&&n(13).f(RegExp.prototype,"flags",{configurable:!0,get:n(121)})},function(e,t,n){var r=n(9)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var r=n(122),a=n(39);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(a(e))}},function(e,t,n){"use strict";var r=n(40),a=n(39);e.exports=function(e){var t=String(a(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e,t,n){var r=n(40),a=n(39);e.exports=function(e){return function(t,n){var o,i,s=String(a(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(i=s.charCodeAt(u+1))<56320||i>57343?e?s.charAt(u):o:e?s.slice(u,u+2):i-56320+(o-55296<<10)+65536}}},function(e,t,n){var r=n(5),a=n(42),o=n(54),i=n(299),s=n(13).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:i.f(e)})}},function(e,t,n){"use strict";var r=n(20);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},function(e,t,n){var r=n(5),a=n(159).set,o=r.MutationObserver||r.WebKitMutationObserver,i=r.process,s=r.Promise,u="process"==n(34)(i);e.exports=function(){var e,t,n,l=function(){var r,a;for(u&&(r=i.domain)&&r.exit();e;){a=e.fn,e=e.next;try{a()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){i.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(l)}}else n=function(){a.call(r,l)};else{var d=!0,f=document.createTextNode("");new o(l).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(r){var a={fn:r,next:void 0};t&&(t.next=a),e||(e=a,n()),t=a}}},function(e,t,n){var r,a,o,i=n(35),s=n(316),u=n(169),l=n(175),c=n(5),d=c.process,f=c.setImmediate,p=c.clearImmediate,h=c.MessageChannel,m=c.Dispatch,v=0,y={},g=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},b=function(e){g.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},p=function(e){delete y[e]},"process"==n(34)(d)?r=function(e){d.nextTick(i(g,e,1))}:m&&m.now?r=function(e){m.now(i(g,e,1))}:h?(o=(a=new h).port2,a.port1.onmessage=b,r=i(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),g.call(e)}}:function(e){setTimeout(i(g,e,1),0)}),e.exports={set:f,clear:p}},function(e,t,n){"use strict";var r,a=n(38)(0),o=n(23),i=n(52),s=n(322),u=n(321),l=n(8),c=n(7),d=n(78),f=i.getWeak,p=Object.isExtensible,h=u.ufstore,m={},v=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(e){if(l(e)){var t=f(e);return!0===t?h(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(d(this,"WeakMap"),e,t)}},g=e.exports=n(125)("WeakMap",v,y,u,!0,!0);c(function(){return 7!=(new g).set((Object.freeze||Object)(m),7).get(m)})&&(s((r=u.getConstructor(v,"WeakMap")).prototype,y),i.NEED=!0,a(["delete","has","get","set"],function(e){var t=g.prototype,n=t[e];o(t,e,function(t,a){if(l(t)&&!p(t)){this._f||(this._f=new r);var o=this._f[e](t,a);return"set"==e?this:o}return n.call(this,t,a)})}))},function(e,t,n){"use strict";var r=n(324),a=n(78);e.exports=n(125)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(a(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){var r=n(8),a=n(3),o=function(e,t){if(a(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(35)(Function.call,n(28).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){var r=n(8),a=n(162).set;e.exports=function(e,t,n){var o,i=t.constructor;return i!==n&&"function"==typeof i&&(o=i.prototype)!==n.prototype&&r(o)&&a&&a(e,o),e}},function(e,t,n){"use strict";var r=n(324),a=n(78);e.exports=n(125)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(a(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(a(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(63),a=n(70),o=n(80),i={};n(24)(i,n(9)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(i,{next:a(1,n)}),o(e,t+" Iterator")}},function(e,t,n){"use strict";var r=n(54),a=n(2),o=n(23),i=n(24),s=n(79),u=n(165),l=n(80),c=n(29),d=n(9)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,m,v,y){u(n,t,h);var g,b,_,w=function(e){if(!f&&e in O)return O[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",k="values"==m,S=!1,O=e.prototype,C=O[d]||O["@@iterator"]||m&&O[m],D=C||w(m),T=m?k?w("entries"):D:void 0,M="Array"==t&&O.entries||C;if(M&&(_=c(M.call(new e)))!==Object.prototype&&_.next&&(l(_,E,!0),r||"function"==typeof _[d]||i(_,d,p)),k&&C&&"values"!==C.name&&(S=!0,D=function(){return C.call(this)}),r&&!y||!f&&!S&&O[d]||i(O,d,D),s[t]=D,s[E]=p,m)if(g={values:k?D:w("values"),keys:v?D:w("keys"),entries:T},y)for(b in g)b in O||o(O,b,g[b]);else a(a.P+a.F*(f||S),t,g);return g}},function(e,t,n){var r=n(577);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(88),a=n(9)("iterator"),o=n(79);e.exports=n(42).getIteratorMethod=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(5).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(79),a=n(9)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[a]===e)}},function(e,t,n){"use strict";var r=n(15),a=n(65),o=n(11);e.exports=function(e){for(var t=r(this),n=o(t.length),i=arguments.length,s=a(i>1?arguments[1]:void 0,n),u=i>2?arguments[2]:void 0,l=void 0===u?n:a(u,n);l>s;)t[s++]=e;return t}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(130)("keys"),a=n(69);e.exports=function(e){return r[e]||(r[e]=a(e))}},function(e,t,n){"use strict";var r=n(5),a=n(12),o=n(54),i=n(132),s=n(24),u=n(68),l=n(7),c=n(67),d=n(40),f=n(11),p=n(339),h=n(66).f,m=n(13).f,v=n(171),y=n(80),g="prototype",b="Wrong index!",_=r.ArrayBuffer,w=r.DataView,E=r.Math,k=r.RangeError,S=r.Infinity,O=_,C=E.abs,D=E.pow,T=E.floor,M=E.log,P=E.LN2,x=a?"_b":"buffer",j=a?"_l":"byteLength",N=a?"_o":"byteOffset";function A(e,t,n){var r,a,o,i=new Array(n),s=8*n-t-1,u=(1<<s)-1,l=u>>1,c=23===t?D(2,-24)-D(2,-77):0,d=0,f=e<0||0===e&&1/e<0?1:0;for((e=C(e))!=e||e===S?(a=e!=e?1:0,r=u):(r=T(M(e)/P),e*(o=D(2,-r))<1&&(r--,o*=2),(e+=r+l>=1?c/o:c*D(2,1-l))*o>=2&&(r++,o/=2),r+l>=u?(a=0,r=u):r+l>=1?(a=(e*o-1)*D(2,t),r+=l):(a=e*D(2,l-1)*D(2,t),r=0));t>=8;i[d++]=255&a,a/=256,t-=8);for(r=r<<t|a,s+=t;s>0;i[d++]=255&r,r/=256,s-=8);return i[--d]|=128*f,i}function R(e,t,n){var r,a=8*n-t-1,o=(1<<a)-1,i=o>>1,s=a-7,u=n-1,l=e[u--],c=127&l;for(l>>=7;s>0;c=256*c+e[u],u--,s-=8);for(r=c&(1<<-s)-1,c>>=-s,s+=t;s>0;r=256*r+e[u],u--,s-=8);if(0===c)c=1-i;else{if(c===o)return r?NaN:l?-S:S;r+=D(2,t),c-=i}return(l?-1:1)*r*D(2,c-t)}function L(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function I(e){return[255&e]}function F(e){return[255&e,e>>8&255]}function Y(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function U(e){return A(e,52,8)}function H(e){return A(e,23,4)}function V(e,t,n){m(e[g],t,{get:function(){return this[n]}})}function B(e,t,n,r){var a=p(+n);if(a+t>e[j])throw k(b);var o=e[x]._b,i=a+e[N],s=o.slice(i,i+t);return r?s:s.reverse()}function W(e,t,n,r,a,o){var i=p(+n);if(i+t>e[j])throw k(b);for(var s=e[x]._b,u=i+e[N],l=r(+a),c=0;c<t;c++)s[u+c]=l[o?c:t-c-1]}if(i.ABV){if(!l(function(){_(1)})||!l(function(){new _(-1)})||l(function(){return new _,new _(1.5),new _(NaN),"ArrayBuffer"!=_.name})){for(var z,G=(_=function(e){return c(this,_),new O(p(e))})[g]=O[g],q=h(O),K=0;q.length>K;)(z=q[K++])in _||s(_,z,O[z]);o||(G.constructor=_)}var $=new w(new _(2)),J=w[g].setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||u(w[g],{setInt8:function(e,t){J.call(this,e,t<<24>>24)},setUint8:function(e,t){J.call(this,e,t<<24>>24)}},!0)}else _=function(e){c(this,_,"ArrayBuffer");var t=p(e);this._b=v.call(new Array(t),0),this[j]=t},w=function(e,t,n){c(this,w,"DataView"),c(e,_,"DataView");var r=e[j],a=d(t);if(a<0||a>r)throw k("Wrong offset!");if(a+(n=void 0===n?r-a:f(n))>r)throw k("Wrong length!");this[x]=e,this[N]=a,this[j]=n},a&&(V(_,"byteLength","_l"),V(w,"buffer","_b"),V(w,"byteLength","_l"),V(w,"byteOffset","_o")),u(w[g],{getInt8:function(e){return B(this,1,e)[0]<<24>>24},getUint8:function(e){return B(this,1,e)[0]},getInt16:function(e){var t=B(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=B(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return L(B(this,4,e,arguments[1]))},getUint32:function(e){return L(B(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return R(B(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return R(B(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){W(this,1,e,I,t)},setUint8:function(e,t){W(this,1,e,I,t)},setInt16:function(e,t){W(this,2,e,F,t,arguments[2])},setUint16:function(e,t){W(this,2,e,F,t,arguments[2])},setInt32:function(e,t){W(this,4,e,Y,t,arguments[2])},setUint32:function(e,t){W(this,4,e,Y,t,arguments[2])},setFloat32:function(e,t){W(this,4,e,H,t,arguments[2])},setFloat64:function(e,t){W(this,8,e,U,t,arguments[2])}});y(_,"ArrayBuffer"),y(w,"DataView"),s(w[g],i.VIEW,!0),t.ArrayBuffer=_,t.DataView=w},function(e,t,n){var r=n(8),a=n(5).document,o=r(a)&&r(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(14),u=n.n(s),l=n(16),c=n.n(l);function d(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e&&e.apply(void 0,n)}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var p="react-contextmenu",h="react-contextmenu--visible",m="react-contextmenu-wrapper",v="react-contextmenu-item",y="react-contextmenu-item--active",g="react-contextmenu-item--disabled",b="react-contextmenu-item--divider",_="react-contextmenu-item--selected",w="react-contextmenu-submenu",E={},k=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement),S="REACT_CONTEXTMENU_SHOW",O="REACT_CONTEXTMENU_HIDE";function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,r=void 0;"function"==typeof window.CustomEvent?r=new window.CustomEvent(e,{detail:t}):(r=document.createEvent("CustomEvent")).initCustomEvent(e,!1,!0,t),n&&(n.dispatchEvent(r),c()(E,t))}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];C(S,c()({},e,{type:S}),t)}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];C(O,c()({},e,{type:O}),t)}var M=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handleShowEvent=function(e){for(var n in t.callbacks)f(t.callbacks,n)&&t.callbacks[n].show(e)},this.handleHideEvent=function(e){for(var n in t.callbacks)f(t.callbacks,n)&&t.callbacks[n].hide(e)},this.register=function(e,n){var r=Math.random().toString(36).substring(7);return t.callbacks[r]={show:e,hide:n},r},this.unregister=function(e){e&&t.callbacks[e]&&delete t.callbacks[e]},this.callbacks={},k&&(window.addEventListener(S,this.handleShowEvent),window.addEventListener(O,this.handleHideEvent))},P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=N(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleClick=function(e){e.preventDefault(),r.props.disabled||r.props.divider||(d(r.props.onClick,e,c()({},r.props.data,E.data),E.target),r.props.preventClose||T())},N(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),x(t,[{key:"render",value:function(){var e,t=this,n=this.props,r=n.disabled,o=n.divider,i=n.children,s=n.attributes,l=n.selected,c=u()(v,s.className,(j(e={},u()(g,s.disabledClassName),r),j(e,u()(b,s.dividerClassName),o),j(e,u()(_,s.selectedClassName),l),e));return a.a.createElement("div",P({},s,{className:c,role:"menuitem",tabIndex:"-1","aria-disabled":r?"true":"false","aria-orientation":o?"horizontal":null,ref:function(e){t.ref=e},onMouseMove:this.props.onMouseMove,onMouseLeave:this.props.onMouseLeave,onTouchEnd:this.handleClick,onClick:this.handleClick}),o?null:i)}}]),t}();A.propTypes={children:i.a.node,attributes:i.a.object,data:i.a.object,disabled:i.a.bool,divider:i.a.bool,preventClose:i.a.bool,onClick:i.a.func,selected:i.a.bool,onMouseMove:i.a.func,onMouseLeave:i.a.func},A.defaultProps={disabled:!1,data:{},divider:!1,attributes:{},preventClose:!1,onClick:function(){return null},children:null,selected:!1,onMouseMove:function(){return null},onMouseLeave:function(){return null}};var R=A;var L=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return I.call(n),n.seletedItemRef=null,n.state={selectedItem:null,forceSubMenuOpen:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),t}();L.propTypes={children:i.a.node.isRequired};var I=function(){var e=this;this.handleKeyNavigation=function(t){if(!1!==e.state.isVisible)switch(t.keyCode){case 37:case 27:t.preventDefault(),e.hideMenu(t);break;case 38:t.preventDefault(),e.selectChildren(!0);break;case 40:t.preventDefault(),e.selectChildren(!1);break;case 39:e.tryToOpenSubMenu(t);break;case 13:t.preventDefault(),e.tryToOpenSubMenu(t);var n=e.seletedItemRef&&e.seletedItemRef.props&&e.seletedItemRef.props.disabled;e.seletedItemRef&&e.seletedItemRef.ref instanceof HTMLElement&&!n?e.seletedItemRef.ref.click():e.hideMenu(t)}},this.handleForceClose=function(){e.setState({forceSubMenuOpen:!1})},this.tryToOpenSubMenu=function(t){e.state.selectedItem&&e.state.selectedItem.type===e.getSubMenuType()&&(t.preventDefault(),e.setState({forceSubMenuOpen:!0}))},this.selectChildren=function(t){var n=e.state.selectedItem,r=[];a.a.Children.forEach(e.props.children,function t(n){n&&([R,e.getSubMenuType()].indexOf(n.type)<0?a.a.Children.forEach(n.props.children,t):n.props.divider||r.push(n))});var o=r.indexOf(n);o<0?e.setState({selectedItem:t?r[r.length-1]:r[0],forceSubMenuOpen:!1}):t?e.setState({selectedItem:r[o-1<0?r.length-1:o-1],forceSubMenuOpen:!1}):e.setState({selectedItem:r[o+1<r.length?o+1:0],forceSubMenuOpen:!1})},this.onChildMouseMove=function(t){e.state.selectedItem!==t&&e.setState({selectedItem:t,forceSubMenuOpen:!1})},this.onChildMouseLeave=function(){e.setState({selectedItem:null,forceSubMenuOpen:!1})},this.renderChildren=function(t){return a.a.Children.map(t,function(t){var n={};return a.a.isValidElement(t)?[R,e.getSubMenuType()].indexOf(t.type)<0?(n.children=e.renderChildren(t.props.children),a.a.cloneElement(t,n)):(n.onMouseLeave=e.onChildMouseLeave.bind(e),t.type===e.getSubMenuType()&&(n.forceOpen=e.state.forceSubMenuOpen&&e.state.selectedItem===t,n.forceClose=e.handleForceClose,n.parentKeyNavigationHandler=e.handleKeyNavigation),t.props.divider||e.state.selectedItem!==t?(n.onMouseMove=function(){return e.onChildMouseMove(t)},a.a.cloneElement(t,n)):(n.selected=!0,n.ref=function(t){e.seletedItemRef=t},a.a.cloneElement(t,n))):t})}},F=L,Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getMenuPosition=function(){var e=window,t=e.innerWidth,r=e.innerHeight,a=n.subMenu.getBoundingClientRect(),o={};return a.bottom>r?o.bottom=0:o.top=0,a.right<t?o.left="100%":o.right="100%",o},n.getRTLMenuPosition=function(){var e=window.innerHeight,t=n.subMenu.getBoundingClientRect(),r={};return t.bottom>e?r.bottom=0:r.top=0,t.left<0?r.left="100%":r.right="100%",r},n.hideMenu=function(e){e.detail&&e.detail.id&&n.menu&&e.detail.id!==n.menu.id||(n.props.forceOpen&&n.props.forceClose(),n.setState({visible:!1,selectedItem:null}),n.unregisterHandlers())},n.handleClick=function(e){e.preventDefault(),n.props.disabled||d(n.props.onClick,e,c()({},n.props.data,E.data),E.target)},n.handleMouseEnter=function(){n.closetimer&&clearTimeout(n.closetimer),n.props.disabled||n.state.visible||(n.opentimer=setTimeout(function(){return n.setState({visible:!0,selectedItem:null})},n.props.hoverDelay))},n.handleMouseLeave=function(){n.opentimer&&clearTimeout(n.opentimer),n.state.visible&&(n.closetimer=setTimeout(function(){return n.setState({visible:!1,selectedItem:null})},n.props.hoverDelay))},n.menuRef=function(e){n.menu=e},n.subMenuRef=function(e){n.subMenu=e},n.registerHandlers=function(){document.removeEventListener("keydown",n.props.parentKeyNavigationHandler),document.addEventListener("keydown",n.handleKeyNavigation)},n.unregisterHandlers=function(){document.removeEventListener("keydown",n.handleKeyNavigation),document.addEventListener("keydown",n.props.parentKeyNavigationHandler)},n.state=c()({},n.state,{visible:!1}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,F),U(t,[{key:"componentDidMount",value:function(){this.listenId=M.register(function(){},this.hideMenu)}},{key:"getSubMenuType",value:function(){return t}},{key:"shouldComponentUpdate",value:function(e,t){return this.isVisibilityChange=!(this.state.visible===t.visible&&this.props.forceOpen===e.forceOpen||this.state.visible&&e.forceOpen||this.props.forceOpen&&t.visible),!0}},{key:"componentDidUpdate",value:function(){var e=this;if(this.isVisibilityChange)if(this.props.forceOpen||this.state.visible){(window.requestAnimationFrame||setTimeout)(function(){var t=e.props.rtl?e.getRTLMenuPosition():e.getMenuPosition();e.subMenu.style.removeProperty("top"),e.subMenu.style.removeProperty("bottom"),e.subMenu.style.removeProperty("left"),e.subMenu.style.removeProperty("right"),f(t,"top")&&(e.subMenu.style.top=t.top),f(t,"left")&&(e.subMenu.style.left=t.left),f(t,"bottom")&&(e.subMenu.style.bottom=t.bottom),f(t,"right")&&(e.subMenu.style.right=t.right),e.subMenu.classList.add(h),e.registerHandlers(),e.setState({selectedItem:null})})}else{this.subMenu.addEventListener("transitionend",function t(){e.subMenu.removeEventListener("transitionend",t),e.subMenu.style.removeProperty("bottom"),e.subMenu.style.removeProperty("right"),e.subMenu.style.top=0,e.subMenu.style.left="100%",e.unregisterHandlers()}),this.subMenu.classList.remove(h)}}},{key:"componentWillUnmount",value:function(){this.listenId&&M.unregister(this.listenId),this.opentimer&&clearTimeout(this.opentimer),this.closetimer&&clearTimeout(this.closetimer),this.unregisterHandlers()}},{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.attributes,o=t.disabled,i=t.title,s=t.selected,l=this.state.visible,c={ref:this.menuRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,className:u()(v,w,r.listClassName),style:{position:"relative"}},d={className:u()(v,r.className,(e={},H(e,u()(g,r.disabledClassName),o),H(e,u()(y,r.visibleClassName),l),H(e,u()(_,r.selectedClassName),s),e)),onMouseMove:this.props.onMouseMove,onMouseOut:this.props.onMouseOut,onClick:this.handleClick},f={ref:this.subMenuRef,style:{position:"absolute",transition:"opacity 1ms",top:0,left:"100%"},className:u()(p,this.props.className)};return a.a.createElement("nav",Y({},c,{role:"menuitem",tabIndex:"-1","aria-haspopup":"true"}),a.a.createElement("div",Y({},r,d),i),a.a.createElement("nav",Y({},f,{role:"menu",tabIndex:"-1"}),this.renderChildren(n)))}}]),t}();V.propTypes={children:i.a.node.isRequired,attributes:i.a.object,title:i.a.node.isRequired,className:i.a.string,disabled:i.a.bool,hoverDelay:i.a.number,rtl:i.a.bool,selected:i.a.bool,onMouseMove:i.a.func,onMouseOut:i.a.func,forceOpen:i.a.bool,forceClose:i.a.func,parentKeyNavigationHandler:i.a.func},V.defaultProps={disabled:!1,hoverDelay:500,attributes:{},className:"",rtl:!1,selected:!1,onMouseMove:function(){return null},onMouseOut:function(){return null},forceOpen:!1,forceClose:function(){return null},parentKeyNavigationHandler:function(){return null}};var B=V,W=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var z=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.registerHandlers=function(){document.addEventListener("mousedown",n.handleOutsideClick),document.addEventListener("touchstart",n.handleOutsideClick),document.addEventListener("scroll",n.handleHide),document.addEventListener("contextmenu",n.handleHide),document.addEventListener("keydown",n.handleKeyNavigation),window.addEventListener("resize",n.handleHide)},n.unregisterHandlers=function(){document.removeEventListener("mousedown",n.handleOutsideClick),document.removeEventListener("touchstart",n.handleOutsideClick),document.removeEventListener("scroll",n.handleHide),document.removeEventListener("contextmenu",n.handleHide),document.removeEventListener("keydown",n.handleKeyNavigation),window.removeEventListener("resize",n.handleHide)},n.handleShow=function(e){if(e.detail.id===n.props.id&&!n.state.isVisible){var t=e.detail.position,r=t.x,a=t.y;n.setState({isVisible:!0,x:r,y:a}),n.registerHandlers(),d(n.props.onShow,e)}},n.handleHide=function(e){!n.state.isVisible||e.detail&&e.detail.id&&e.detail.id!==n.props.id||(n.unregisterHandlers(),n.setState({isVisible:!1,selectedItem:null,forceSubMenuOpen:!1}),d(n.props.onHide,e))},n.handleOutsideClick=function(e){n.menu.contains(e.target)||T()},n.handleMouseLeave=function(e){e.preventDefault(),d(n.props.onMouseLeave,e,c()({},n.props.data,E.data),E.target),n.props.hideOnLeave&&T()},n.handleContextMenu=function(e){e.preventDefault(),n.handleHide(e)},n.hideMenu=function(e){27!==e.keyCode&&13!==e.keyCode||T()},n.getMenuPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r={top:t,left:e};if(!n.menu)return r;var a=window,o=a.innerWidth,i=a.innerHeight,s=n.menu.getBoundingClientRect();return t+s.height>i&&(r.top-=s.height),e+s.width>o&&(r.left-=s.width),r.top<0&&(r.top=s.height<i?(i-s.height)/2:0),r.left<0&&(r.left=s.width<o?(o-s.width)/2:0),r},n.menuRef=function(e){n.menu=e},n.state=c()({},n.state,{x:0,y:0,isVisible:!1}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,F),W(t,[{key:"getSubMenuType",value:function(){return B}},{key:"componentDidMount",value:function(){this.listenId=M.register(this.handleShow,this.handleHide)}},{key:"componentDidUpdate",value:function(){var e=this;if(this.state.isVisible){var t=window.requestAnimationFrame||setTimeout;t(function(){var n=e.state,r=n.x,a=n.y,o=e.getMenuPosition(r,a),i=o.top,s=o.left;t(function(){e.menu&&(e.menu.style.top=i+"px",e.menu.style.left=s+"px",e.menu.style.opacity=1,e.menu.style.pointerEvents="auto")})})}else{if(!this.menu)return;this.menu.style.opacity=0,this.menu.style.pointerEvents="none"}}},{key:"componentWillUnmount",value:function(){this.listenId&&M.unregister(this.listenId),this.unregisterHandlers()}},{key:"render",value:function(){var e,t,n,r=this.props,o=r.children,i=r.className,s=r.style,l=this.state.isVisible,d=c()({},s,{position:"fixed",opacity:0,pointerEvents:"none"}),f=u()(p,i,(n=l,(t=h)in(e={})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e));return a.a.createElement("nav",{role:"menu",tabIndex:"-1",ref:this.menuRef,style:d,className:f,onContextMenu:this.handleContextMenu,onMouseLeave:this.handleMouseLeave},this.renderChildren(o))}}]),t}();z.propTypes={id:i.a.string.isRequired,children:i.a.node.isRequired,data:i.a.object,className:i.a.string,hideOnLeave:i.a.bool,onHide:i.a.func,onMouseLeave:i.a.func,onShow:i.a.func,style:i.a.object},z.defaultProps={className:"",data:{},hideOnLeave:!1,onHide:function(){return null},onMouseLeave:function(){return null},onShow:function(){return null},style:{}};var G=z,q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function K(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var $=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=K(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.touchHandled=!1,r.handleMouseDown=function(e){r.props.holdToDisplay>=0&&0===e.button&&(e.persist(),e.stopPropagation(),r.mouseDownTimeoutId=setTimeout(function(){return r.handleContextClick(e)},r.props.holdToDisplay)),d(r.props.attributes.onMouseDown,e)},r.handleMouseUp=function(e){0===e.button&&clearTimeout(r.mouseDownTimeoutId),d(r.props.attributes.onMouseUp,e)},r.handleMouseOut=function(e){0===e.button&&clearTimeout(r.mouseDownTimeoutId),d(r.props.attributes.onMouseOut,e)},r.handleTouchstart=function(e){r.touchHandled=!1,r.props.holdToDisplay>=0&&(e.persist(),e.stopPropagation(),r.touchstartTimeoutId=setTimeout(function(){r.handleContextClick(e),r.touchHandled=!0},r.props.holdToDisplay)),d(r.props.attributes.onTouchStart,e)},r.handleTouchEnd=function(e){r.touchHandled&&e.preventDefault(),clearTimeout(r.touchstartTimeoutId),d(r.props.attributes.onTouchEnd,e)},r.handleContextMenu=function(e){r.handleContextClick(e),d(r.props.attributes.onContextMenu,e)},r.handleContextClick=function(e){if(!r.props.disable){e.preventDefault(),e.stopPropagation();var t=e.clientX||e.touches&&e.touches[0].pageX,n=e.clientY||e.touches&&e.touches[0].pageY;T();var a=d(r.props.collect,r.props),o={position:{x:t,y:n},target:r.elem,id:r.props.id,data:a};a&&"function"==typeof a.then?a.then(function(e){o.data=e,D(o)}):D(o)}},r.elemRef=function(e){r.elem=e},K(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),q(t,[{key:"render",value:function(){var e=this.props,t=e.renderTag,n=e.attributes,r=e.children,o=c()({},n,{className:u()(m,n.className),onContextMenu:this.handleContextMenu,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchstart,onTouchEnd:this.handleTouchEnd,onMouseOut:this.handleMouseOut,ref:this.elemRef});return a.a.createElement(t,o,r)}}]),t}();$.propTypes={id:i.a.string.isRequired,children:i.a.node.isRequired,attributes:i.a.object,collect:i.a.func,disable:i.a.bool,holdToDisplay:i.a.number,renderTag:i.a.oneOfType([i.a.node,i.a.func])},$.defaultProps={attributes:{},collect:function(){return null},disable:!1,holdToDisplay:1e3,renderTag:"div"};var J=$,Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Z=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Object.keys(J.propTypes)),["children"]),ee=function(e){return function(t){return function(n){function o(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,t));return n.handleShow=function(t){if(t.detail.id===e){var r=t.detail.data,a={};for(var o in r)Z.includes(o)||(a[o]=r[o]);n.setState({trigger:a})}},n.handleHide=function(){n.setState({trigger:null})},n.state={trigger:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,r["Component"]),X(o,[{key:"componentDidMount",value:function(){this.listenId=M.register(this.handleShow,this.handleHide)}},{key:"componentWillUnmount",value:function(){this.listenId&&M.unregister(this.listenId)}},{key:"render",value:function(){return a.a.createElement(t,Q({},this.props,{id:e,trigger:this.state.trigger}))}}]),o}()}};n.d(t,"ContextMenu",function(){return G}),n.d(t,"ContextMenuTrigger",function(){return J}),n.d(t,"MenuItem",function(){return R}),n.d(t,"SubMenu",function(){return B}),n.d(t,"connectMenu",function(){return ee}),n.d(t,"hideMenu",function(){return T}),n.d(t,"showMenu",function(){return D})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(1)),o=u(n(135)),i=u(n(6)),s=u(n(10));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.ref=null,n.handleChange=function(e){n.props.disabled||(n.props.onChange&&n.props.onChange(e),n.setState({checked:e.currentTarget.checked}))},n.state={checked:n.props.defaultChecked},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"getValue",value:function(){return this.state.checked}},{key:"render",value:function(){var e=this,t="form__checkbox";return this.props.className&&(t+=" "+this.props.className),a.default.createElement("div",{className:t,style:this.props.style},a.default.createElement("input",{type:"checkbox",ref:function(t){e.ref=t},id:this.props.id||this.props.name,name:this.props.name,onChange:this.handleChange,checked:this.state.checked,className:this.props.disabled?"form__checkbox-disabled":this.state.checked?"form__checkbox-on":"form__checkbox-off"}),a.default.createElement("label",{htmlFor:this.props.id||this.props.name,title:s.default.trans(this.props.text)}),a.default.createElement(i.default,{message:this.props.text}))}}]),t}();l.defaultProps={disabled:!1,style:{},localeSection:"calendar"},t.default=(0,o.default)(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(1),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1}).loading?o.default.createElement("div",{className:"loader"},o.default.createElement("div",{className:"loader--dot"}),o.default.createElement("div",{className:"loader--dot"}),o.default.createElement("div",{className:"loader--dot"}),o.default.createElement("div",{className:"loader--dot"}),o.default.createElement("div",{className:"loader--dot"}),o.default.createElement("div",{className:"loader--dot"}),o.default.createElement("div",{className:"loader--text"})):null}},function(e,t,n){var r=n(440),a=n(439);e.exports=function(e,t,n,o){var i=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var l=t[s],c=o?o(n[l],e[l],l,n,e):void 0;void 0===c&&(c=e[l]),i?a(n,l,c):r(n,l,c)}return n}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(27)),o=s(n(4)),i=s(n(73));function s(e){return e&&e.__esModule?e:{default:e}}var u=a.default.createActions(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["default"]),r(t,[{key:"toggleSidebar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.dispatch({visible:e,userAction:t})}},{key:"setView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.dispatch({viewId:e,currentDate:t})}},{key:"toggleShowAllEvents",value:function(){this.dispatch()}},{key:"setDateRange",value:function(e,t){this.dispatch({interval:t,amount:e})}},{key:"setCurrentDate",value:function(e){(e=e.clone().startOf("day")).locale(!1),this.dispatch(e)}},{key:"nextDateRange",value:function(){this.dispatch()}},{key:"prevDateRange",value:function(){this.dispatch()}},{key:"setGridResolution",value:function(e){this.dispatch(e)}},{key:"setLanguage",value:function(e){this.dispatch(e)}},{key:"pickTimezone",value:function(){this.dispatch()}},{key:"timezonePickerDone",value:function(){this.dispatch()}},{key:"setTimezone",value:function(e){this.dispatch(e)}},{key:"setViewSetting",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.dispatch({view:e,key:t,value:n,store:r})}},{key:"setPrintPdfOptions",value:function(e){this.dispatch(e)}},{key:"doSearch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(e){var r=void 0;(r=/from: ?(.*?)( |$)/i.exec(e))&&r[1]&&(t=(0,o.default)(r[1]),e=e.replace(r[0],"")),(r=/to: ?(.*?)( |$)/i.exec(e))&&r[1]&&(n=(0,o.default)(r[1]),e=e.replace(r[0],"")),e=e.trim()}this.dispatch({query:e,start:t,end:n})}},{key:"searchNextPage",value:function(){this.dispatch()}},{key:"searchPrevPage",value:function(){this.dispatch()}}]),t}());t.default=u},function(e,t,n){var r=n(364),a=n(93),o=n(145),i=o&&o.isTypedArray,s=i?a(i):r;e.exports=s},function(e,t,n){var r=n(203),a=n(372),o=n(202),i=1,s=2;e.exports=function(e,t,n,u,l,c){var d=n&i,f=e.length,p=t.length;if(f!=p&&!(d&&p>f))return!1;var h=c.get(e);if(h&&c.get(t))return h==t;var m=-1,v=!0,y=n&s?new r:void 0;for(c.set(e,t),c.set(t,e);++m<f;){var g=e[m],b=t[m];if(u)var _=d?u(b,g,m,t,e,c):u(g,b,m,e,t,c);if(void 0!==_){if(_)continue;v=!1;break}if(y){if(!a(t,function(e,t){if(!o(y,t)&&(g===e||l(g,e,n,u,c)))return y.push(t)})){v=!1;break}}else if(g!==b&&!l(g,b,n,u,c)){v=!1;break}}return c.delete(e),c.delete(t),v}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(141))},function(e,t,n){var r=n(75),a=n(44),o="[object AsyncFunction]",i="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";e.exports=function(e){if(!a(e))return!1;var t=r(e);return t==i||t==s||t==o||t==u}},function(e,t,n){var r=n(85),a=n(397),o=n(396),i=n(395),s=n(394),u=n(393);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=a,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=s,l.prototype.set=u,e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return function(t){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return e.checkForOuterClick=function(t){if(e.child&&(!e.child.shouldCheckForOuterClick||e.child.shouldCheckForOuterClick())){for(var n=t.target,r=50;n;){if(n===o.default.findDOMNode(e))return;if(!--r)return;n=n.parentNode}e.child.handleOuterClick(t)}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a["default"].Component),r(n,[{key:"componentDidMount",value:function(){document.body.addEventListener("click",this.checkForOuterClick,!0)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("click",this.checkForOuterClick,!0)}},{key:"render",value:function(){var t=this,n=this.props;return a.default.createElement(e,Object.assign({},n,{ref:function(e){t.child=e}}))}}]),n}()};var a=i(n(1)),o=i(n(32));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"write",value:function(e,t){try{localStorage.setItem(e,t)}catch(e){}}},{key:"read",value:function(e){try{var t=localStorage.getItem(e);return null===t||void 0===t?"null":t}catch(e){}return"null"}},{key:"remove",value:function(e){try{localStorage.removeItem(e)}catch(e){}}}]),e}();t.default=new a},function(e,t,n){"use strict";function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(){}a.prototype._events=void 0,a.prototype.listeners=function(e){if(!this._events||!this._events[e])return[];if(this._events[e].fn)return[this._events[e].fn];for(var t=0,n=this._events[e].length,r=new Array(n);t<n;t++)r[t]=this._events[e][t].fn;return r},a.prototype.emit=function(e,t,n,r,a,o){if(!this._events||!this._events[e])return!1;var i,s,u=this._events[e],l=arguments.length;if("function"==typeof u.fn){switch(u.once&&this.removeListener(e,u.fn,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,r),!0;case 5:return u.fn.call(u.context,t,n,r,a),!0;case 6:return u.fn.call(u.context,t,n,r,a,o),!0}for(s=1,i=new Array(l-1);s<l;s++)i[s-1]=arguments[s];u.fn.apply(u.context,i)}else{var c,d=u.length;for(s=0;s<d;s++)switch(u[s].once&&this.removeListener(e,u[s].fn,!0),l){case 1:u[s].fn.call(u[s].context);break;case 2:u[s].fn.call(u[s].context,t);break;case 3:u[s].fn.call(u[s].context,t,n);break;default:if(!i)for(c=1,i=new Array(l-1);c<l;c++)i[c-1]=arguments[c];u[s].fn.apply(u[s].context,i)}}return!0},a.prototype.on=function(e,t,n){var a=new r(t,n||this);return this._events||(this._events={}),this._events[e]?this._events[e].fn?this._events[e]=[this._events[e],a]:this._events[e].push(a):this._events[e]=a,this},a.prototype.once=function(e,t,n){var a=new r(t,n||this,!0);return this._events||(this._events={}),this._events[e]?this._events[e].fn?this._events[e]=[this._events[e],a]:this._events[e].push(a):this._events[e]=a,this},a.prototype.removeListener=function(e,t,n){if(!this._events||!this._events[e])return this;var r=this._events[e],a=[];if(t&&(r.fn&&(r.fn!==t||n&&!r.once)&&a.push(r),!r.fn))for(var o=0,i=r.length;o<i;o++)(r[o].fn!==t||n&&!r[o].once)&&a.push(r[o]);return a.length?this._events[e]=1===a.length?a[0]:a:delete this._events[e],this},a.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[e]:this._events={},this):this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.EventEmitter=a,a.EventEmitter2=a,a.EventEmitter3=a,e.exports=a},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=String.prototype.replace,a=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return r.call(e,a,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),o=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:o,assign:function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var a=t[r],o=a.obj[a.prop],i=Object.keys(o),s=0;s<i.length;++s){var u=i[s],l=o[u];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:o,prop:u}),n.push(l))}return function(e){for(var t;e.length;){var n=e.pop();if(t=n.obj[n.prop],Array.isArray(t)){for(var r=[],a=0;a<t.length;++a)void 0!==t[a]&&r.push(t[a]);n.obj[n.prop]=r}}return t}(t)},decode:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},encode:function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),n="",r=0;r<t.length;++r){var o=t.charCodeAt(r);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?n+=t.charAt(r):o<128?n+=a[o]:o<2048?n+=a[192|o>>6]+a[128|63&o]:o<55296||o>=57344?n+=a[224|o>>12]+a[128|o>>6&63]+a[128|63&o]:(r+=1,o=65536+((1023&o)<<10|1023&t.charCodeAt(r)),n+=a[240|o>>18]+a[128|o>>12&63]+a[128|o>>6&63]+a[128|63&o])}return n},isBuffer:function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,n,a){if(!n)return t;if("object"!=typeof n){if(Array.isArray(t))t.push(n);else{if("object"!=typeof t)return[t,n];(a.plainObjects||a.allowPrototypes||!r.call(Object.prototype,n))&&(t[n]=!0)}return t}if("object"!=typeof t)return[t].concat(n);var i=t;return Array.isArray(t)&&!Array.isArray(n)&&(i=o(t,a)),Array.isArray(t)&&Array.isArray(n)?(n.forEach(function(n,o){r.call(t,o)?t[o]&&"object"==typeof t[o]?t[o]=e(t[o],n,a):t.push(n):t[o]=n}),t):Object.keys(n).reduce(function(t,o){var i=n[o];return r.call(t,o)?t[o]=e(t[o],i,a):t[o]=i,t},i)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(4));n(116),n(115),n(114),n(113),n(112),n(111),n(110),n(109),n(108),n(107),n(106),n(105),n(104),n(103),n(102),n(101);var a=i(n(17)),o=n(43);function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r.default.locale(["en"]);var u={translationMessages:{},language:void 0},l={use24hTimes:!1,formats:{},locale:void 0},c={};function d(e,t,n,r){var i=!0;t.forEach(function(t){u.translationMessages.hasOwnProperty(t+"_"+e)||(i=!1)}),i&&l.locale==n?r&&requestAnimationFrame(function(){r({language:e,sections:t,dateLocale:n,translationMessages:u.translationMessages,dateFormats:l.formats,use24hTimes:l.use24hTimes})}):function(e,t,n,r){if(0!==(t=t.filter(function(t){var n=t+"."+e;return void 0===c[n]?(c[n]=[r],!0):(c[n].push(r),!1)})).length){l.locale=n;var i=a.default.getBaseUrl()+"/"+a.default.getAssetsVersion()+"/internationalization/"+e+"/"+t.join(",")+"/"+n;(0,o.makeRequest)("GET",i).then(function(r){Object.assign(u.translationMessages,s({},"core_js_"+e,r["core_js_"+e])),t.forEach(function(t){Object.assign(u.translationMessages,s({},t+"_"+e,r[t+"_"+e]))}),l.formats=r["datetime_"+e],t.forEach(function(r){for(var a=r+"."+e,o=0,i=c[a].length;o<i;o++){var s=c[a][o];s&&s({language:e,sections:t,dateLocale:n,translationMessages:u.translationMessages,dateFormats:l.formats,use24hTimes:l.use24hTimes})}delete c[a]})}).catch(function(n){throw new Error("Could not load sections "+t.join(", ")+" for language "+e+": "+n)})}}(e,t,n,r)}var f={loadSections:function(e,t,n){if(!u.language)throw new Error("loadSection can not be called before setLanguage");d(u.language,e,t,n)},setLanguage:function(e){u.language&&u.language,u.language=e;var t=r.default.locale([e,"en"]);if(a.default.getCalendarDefaults()){var n=a.default.getCalendarDefaults().datetime,o=n.weekStart,i=void 0;switch(o){case 0:i=6;break;case 6:i=7;break;case 1:default:i=4}n.hideWeekend&&(o=1),r.default.updateLocale(t,{week:{dow:o,doy:i}})}},setUse24hTimes:function(e){l.use24hTimes=e}};f.setUse24hTimes(a.default.getUse24h()),f.setLanguage(a.default.getLanguage()),t.default=f},function(e,t,n){var r=n(595);e.exports=p,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t))},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,i=0,s="",c=t&&t.delimiter||"/";null!=(n=a.exec(e));){var d=n[0],f=n[1],p=n.index;if(s+=e.slice(i,p),i=p+d.length,f)s+=f[1];else{var h=e[i],m=n[2],v=n[3],y=n[4],g=n[5],b=n[6],_=n[7];s&&(r.push(s),s="");var w=null!=m&&null!=h&&h!==m,E="+"===b||"*"===b,k="?"===b||"*"===b,S=n[2]||c,O=y||g;r.push({name:v||o++,prefix:m||"",delimiter:S,optional:k,repeat:E,partial:w,asterisk:!!_,pattern:O?l(O):_?".*":"[^"+u(S)+"]+?"})}}return i<e.length&&(s+=e.substr(i)),s&&r.push(s),r}function i(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,a){for(var o="",s=n||{},u=(a||{}).pretty?i:encodeURIComponent,l=0;l<e.length;l++){var c=e[l];if("string"!=typeof c){var d,f=s[c.name];if(null==f){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(f)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var p=0;p<f.length;p++){if(d=u(f[p]),!t[l].test(d))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===p?c.prefix:c.delimiter)+d}}else{if(d=c.asterisk?encodeURI(f).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):u(f),!t[l].test(d))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+d+'"');o+=c.prefix+d}}else o+=c}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function d(e){return e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var a=(n=n||{}).strict,o=!1!==n.end,i="",s=0;s<e.length;s++){var l=e[s];if("string"==typeof l)i+=u(l);else{var f=u(l.prefix),p="(?:"+l.pattern+")";t.push(l),l.repeat&&(p+="(?:"+f+p+")*"),i+=p=l.optional?l.partial?f+"("+p+")?":"(?:"+f+"("+p+"))?":f+"("+p+")"}}var h=u(n.delimiter||"/"),m=i.slice(-h.length)===h;return a||(i=(m?i.slice(0,-h.length):i)+"(?:"+h+"(?=$))?"),i+=o?"$":a&&m?"":"(?="+h+"|$)",c(new RegExp("^"+i,d(n)),t)}function p(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],a=0;a<e.length;a++)r.push(p(e[a],t,n).source);return c(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return f(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";var r=function(){};e.exports=r},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.slugify=function(e){return e.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")},t.normalizeResourceName=function(e){var t=e.trim(),n=[];if(-1!==t.indexOf(">")){var r=t.split(">"),a=void 0;for(a in r)r.hasOwnProperty(a)&&""!==r[a].trim()&&n.push(r[a].trim());if(n.length>0)return n.join(" > ")}return e},t.validateEmail=function(e){return/^[A-Z0-9._%+-]*[A-Z0-9_%+-]@([A-Z0-9-]+\.)+[A-Z]{2,}$/i.test(e)}},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var a=typeof e;return!!(t=null==t?n:t)&&("number"==a||"symbol"!=a&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(140),a=n(374),o=n(373);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=a,i.prototype.has=o,e.exports=i},function(e,t,n){var r=n(403),a=n(49);e.exports=function e(t,n,o,i,s){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!=t&&n!=n:r(t,n,o,i,e,s))}},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(e){return e&&DataView.prototype.isPrototypeOf(e)},a=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};c.prototype.append=function(e,t){e=s(e),t=u(t);var n=this.map[e];this.map[e]=n?n+","+t:t},c.prototype.delete=function(e){delete this.map[s(e)]},c.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},c.prototype.set=function(e,t){this.map[s(e)]=u(t)},c.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},c.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),l(e)},c.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),l(e)},c.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),l(e)},t.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},m.call(v.prototype),m.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var i=[301,302,303,307,308];g.redirect=function(e,t){if(-1===i.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=c,e.Request=v,e.Response=g,e.fetch=function(e,n){return new Promise(function(r,a){var o=new v(e,n),i=new XMLHttpRequest;i.onload=function(){var e,t,n={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",t=new c,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var a=n.join(":").trim();t.append(r,a)}}),t)};n.url="responseURL"in i?i.responseURL:n.headers.get("X-Request-URL");var a="response"in i?i.response:i.responseText;r(new g(a,n))},i.onerror=function(){a(new TypeError("Network request failed"))},i.ontimeout=function(){a(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials?i.withCredentials=!0:"omit"===o.credentials&&(i.withCredentials=!1),"responseType"in i&&t.blob&&(i.responseType="blob"),o.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function c(e){this.map={},e instanceof c?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function p(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&r(e))this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!a(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e,t,n,r=d(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=f(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}function v(e,t){var n,r,a=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,a||null==e._bodyInit||(a=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),o.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(a)}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),a=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(a))}}),t}function g(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n(27)),o=c(n(695)),i=c(n(57)),s=c(n(10)),u=c(n(73)),l=c(n(444));function c(e){return e&&e.__esModule?e:{default:e}}var d=s.default.partial("settings"),f=a.default.createActions(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u["default"]),r(t,[{key:"actionFailed",value:function(e){return i.default.flashStatus(d("calendars.status.failure"),"error"),Promise.reject(e)}},{key:"updateResources",value:function(){var e=this;return o.default.updateResources().then(function(t){return e.actions.resourcesUpdated(t.subcalendars)}).catch(this.actions.actionFailed)}},{key:"resourcesUpdated",value:function(e){return this.dispatch(e),Promise.resolve(e)}},{key:"activateResource",value:function(e){var t=this;return this.dispatch(e),i.default.setStatus(d("calendars.status.saving",{name:e.name}),"saving"),o.default.activateResource(e).then(function(e){return t.actions.resourceWasActivated(e.subcalendar)}).catch(this.actions.actionFailed)}},{key:"resourceWasActivated",value:function(e){return this.dispatch(e),i.default.flashStatus(d("calendars.status.activated",{name:e.name}),"saved"),Promise.resolve(e)}},{key:"deactivateResource",value:function(e){var t=this;return this.dispatch(e),o.default.deactivateResource(e).then(function(e){return t.actions.resourceWasDeactivated(e.subcalendar)}).catch(this.actions.actionFailed)}},{key:"resourceWasDeactivated",value:function(e){return this.dispatch(e),i.default.flashStatus(d("calendars.status.deactivated",{name:e.name}),"saved"),Promise.resolve(e)}},{key:"deleteResource",value:function(e){var t=this;return this.dispatch(e),i.default.setStatus(d("calendars.status.deleting",{name:e.name}),"saving"),o.default.deleteResource(e).then(function(n){return t.actions.resourceWasDeleted(e)}).catch(this.actions.actionFailed)}},{key:"resourceWasDeleted",value:function(e){return this.dispatch(e),i.default.flashStatus(d("calendars.status.deleted",{name:e.name}),"saved"),Promise.resolve(e)}},{key:"enableResourceOverlap",value:function(e){var t=this;return this.dispatch(e),i.default.setStatus(d("calendars.status.saving",{name:e.name}),"saving"),o.default.enableResourceOverlap(e).then(function(e){return t.actions.resourceOverlapWasEnabled(e.subcalendar)}).catch(this.actions.actionFailed)}},{key:"resourceOverlapWasEnabled",value:function(e){return this.dispatch(e),i.default.flashStatus(d("calendars.status.overlap_enabled",{name:e.name}),"saved"),Promise.resolve(e)}},{key:"disableResourceOverlap",value:function(e){var t=this;return this.dispatch(e),o.default.disableResourceOverlap(e).then(function(e){return t.actions.resourceOverlapWasDisabled(e.subcalendar)}).catch(this.actions.actionFailed)}},{key:"resourceOverlapWasDisabled",value:function(e){return this.dispatch(e),i.default.flashStatus(d("calendars.status.overlap_disabled",{name:e.name}),"saved"),Promise.resolve(e)}},{key:"updateResource",value:function(e){var t=this;return this.dispatch(e),i.default.setStatus(d("calendars.status.saving",{name:e.name}),"saving"),o.default.updateResource(e).then(function(e){return t.actions.resourceWasUpdated(e.subcalendar)}).catch(this.actions.actionFailed).then(l.default.refresh)}},{key:"resourceWasUpdated",value:function(e){return this.dispatch(e),i.default.flashStatus(d("calendars.status.updated",{name:e.name}),"saved"),Promise.resolve(e)}},{key:"createResource",value:function(e){var t=this;return this.dispatch(e),i.default.setStatus(d("calendars.status.saving",{name:e.name}),"saving"),o.default.createResource(e).then(function(e){return t.actions.resourceWasCreated(e.subcalendar),e.subcalendar}).catch(this.actions.actionFailed)}},{key:"resourceWasCreated",value:function(e){return this.dispatch(e),i.default.flashStatus(d("calendars.status.created",{name:e.name}),"saved"),Promise.resolve(e)}},{key:"toggleResourceVisibility",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.visible=null!==t?t:!e.visible,this.dispatch(e)}},{key:"toggleResourceTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null!==t?(e.expanded=t,t&&(e.visible=!0)):e.expanded=!e.expanded,this.dispatch(e)}},{key:"showOnlyResource",value:function(e){this.dispatch(e)}},{key:"showAll",value:function(){this.dispatch()}}]),t}());t.default=f},function(e,t,n){var r=n(75),a=n(49),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||a(e)&&r(e)==o}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(366),a=n(49),o=Object.prototype,i=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return a(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,t,n){var r=n(367),a=n(210),o=n(50),i=n(138),s=n(200),u=n(183),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&a(e),d=!n&&!c&&i(e),f=!n&&!c&&!d&&u(e),p=n||c||d||f,h=p?r(e.length,String):[],m=h.length;for(var v in e)!t&&!l.call(e,v)||p&&("length"==v||d&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||h.push(v);return h}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(201),a=n(50);e.exports=function(e,t,n){var o=t(e);return a(e)?o:r(o,n(e))}},function(e,t,n){var r=n(213),a=n(146),o=n(134);e.exports=function(e){return r(e,o,a)}},function(e,t,n){var r=n(25).Uint8Array;e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(435)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(27)),i=d(n(727)),s=d(n(73)),u=d(n(57)),l=d(n(10)),c=d(n(143));function d(e){return e&&e.__esModule?e:{default:e}}var f=l.default.partial("core_js"),p=o.default.createActions(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["default"]),a(t,[{key:"actionFailed",value:function(e){return e.response&&e.response.error?u.default.alert(e.response.error.title,e.response.error.message):u.default.alert("Unexpected network error","Communication with the server failed. (#594145)"),Promise.reject(e)}},{key:"refresh",value:function(){this.dispatch()}},{key:"filterEvents",value:function(e,t,n){this.dispatch({filter:e,calendarIds:t,custom:n})}},{key:"deleteEvent",value:function(e){return i.default.deleteEvent(e).then(function(t){return p.eventWasRemoved(t,e)}).catch(p.actionFailed)}},{key:"updateEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.dispatch(e),u.default.flashStatus(f("status.saving"),"saving"),"copy"===t&&(delete e.id,delete e.remote_id,e.rrule&&(e.rrule="",e.redit=void 0,e.series_id=void 0,e.ristart_dt=void 0,e.rsstart_dt=void 0)),e.id?i.default.updateEvent(e).then(function(e){return p.eventWasUpdated(e,t)}).catch(p.actionFailed):i.default.createEvent(e).then(function(e){return p.eventWasCreated(e)}).catch(p.actionFailed)}},{key:"shiftEventToDate",value:function(e,t){e=(0,r.default)(e);var n=c.default.getEventDatesForDate(e,t);return e.start_dt=n.start_dt,e.end_dt=n.end_dt,e.rrule&&(e.redit="single"),p.updateEvent(e,"move")}},{key:"shiftEventTime",value:function(e,t){return e=(0,r.default)(e),t.isSameOrAfter(e.start_dt)?e.end_dt=t:(e.end_dt=e.start_dt,e.start_dt=t),e.rrule&&(e.redit="single"),p.updateEvent(e,"move")}},{key:"copyEventToDate",value:function(e,t){var n=(0,r.default)(e),a=c.default.getEventDatesForDate(n,t);return n.start_dt=a.start_dt,n.end_dt=a.end_dt,p.updateEvent(n,"copy")}},{key:"eventWasCreated",value:function(e){return this.dispatch({event:e.event,undoId:e.undo_id}),Promise.resolve(e.event)}},{key:"eventWasUpdated",value:function(e,t){return this.dispatch({event:e.event,action:t,undoId:e.undo_id}),Promise.resolve(e.event)}},{key:"eventWasRemoved",value:function(e,t){return this.dispatch({event:t,undoId:e.undo_id}),Promise.resolve(e.event)}},{key:"undoEventChange",value:function(e){var t=this;return i.default.undoEventChange(e).then(function(){return t.dispatch()}).catch(p.actionFailed)}}]),t}());t.default=p},function(e,t,n){var r=n(215);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(584),a=4;e.exports=function(e){return r(e,a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=E(n(953)),a=E(n(443)),o=E(n(218)),i=E(n(97)),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=E(n(27)),l=E(n(4)),c=E(n(216)),d=E(n(76)),f=E(n(143)),p=E(n(57)),h=E(n(727)),m=E(n(91)),v=E(n(56)),y=E(n(182)),g=E(n(675)),b=E(n(45)),_=E(n(18)),w=E(n(434));function E(e){return e&&e.__esModule?e:{default:e}}var k=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onResourceChange=function(){e.filterEvents(),e.emitChange()},e.onCalendarStateChange=function(t){e.visibleStartDate.isSame(t.datetime.visibleStartDate)&&e.visibleEndDate.isSame(t.datetime.visibleEndDate)&&(0,i.default)(e.search,t.views.search)||(e.visibleStartDate=t.datetime.visibleStartDate,e.visibleEndDate=t.datetime.visibleEndDate,e.search=(0,o.default)(t.views.search),e.refreshEvents())},e.visibleStartDate=(0,l.default)("2000-01-01 12:34:56"),e.visibleEndDate=(0,l.default)("2000-01-01 12:34:56"),e.state={allEvents:[],events:[],filter:"",filteredCalendars:[],filteredCustom:{}},e.bindActions({handleEventWasCreated:c.default.eventWasCreated,handleEventWasRemoved:c.default.eventWasRemoved,handleEventWasUpdated:c.default.eventWasUpdated,handleEventUndo:c.default.undoEventChange,handleRefresh:c.default.refresh,handleFilter:c.default.filterEvents}),e.exportPublicMethods({findById:e.findById.bind(e)}),m.default.listen(e.onResourceChange),v.default.listen(e.onCalendarStateChange),e.onCalendarStateChange(v.default.getState()),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d["default"]),s(t,[{key:"handleFilter",value:function(e){var t=e.filter.trim(),n=e.calendarIds,r={};if(Object.keys(e.custom).forEach(function(t){var n=e.custom[t];r[t]="string"==typeof n?n.trim():n}),this.state.filter===t&&(0,i.default)(this.state.filteredCalendars,n)&&(0,i.default)(this.state.filteredCustom,r))return!1;this.state.filter=t,this.state.filteredCalendars=(0,o.default)(n),this.state.filteredCustom=r,this.filterEvents()}},{key:"handleEventWasCreated",value:function(e){var t=this,n=e.event,r=e.undoId,a=h.default.initializeEvent(n);if(setTimeout(function(){t.showUndoDialog(r,a,"created")},0),f.default.isRecurringEvent(a))return this.refreshEvents();var o=this.state.allEvents;o=this.insertEventIntoEventsArray(o,a),this.state.allEvents=o,this.filterEvents()}},{key:"handleEventWasRemoved",value:function(e){var t=this,n=e.event,r=e.undoId,a=this.state.allEvents,o=this.getEventIndex(n);if(setTimeout(function(){t.showUndoDialog(r,n,"deleted")},0),""!==n.rrule||-1===o)return this.refreshEvents();a.splice(o,1),this.state.allEvents=a,this.filterEvents()}},{key:"handleEventWasUpdated",value:function(e){var t=this,n=e.event,r=e.action,a=e.undoId,o=this.getEventIndex(n),i=h.default.initializeEvent(n);if(setTimeout(function(){t.showUndoDialog(a,i,r||"updated")},0),f.default.isRecurringEvent(i)||-1===o)return this.refreshEvents();var s=this.state.allEvents;s[o].start_dt.valueOf()!==i.start_dt.valueOf()?(s.splice(o,1),s=this.insertEventIntoEventsArray(s,i)):s[o]=i,this.state.allEvents=s,this.filterEvents()}},{key:"showUndoDialog",value:function(e,t,n){p.default.setStatus("calendar:event."+n,"saved",!0,{undoId:e,event_name:t.title,date:t.start_dt.format(b.default.get("box_layout.multi_day_first_day_moment")),action_message:"calendar:event.undo",action_handler:function(e){c.default.undoEventChange(e.undoId).then(function(){return p.default.clear()})}})}},{key:"insertEventIntoEventsArray",value:function(e,t){var n=t.start_dt.valueOf();if(0===e.length||e[e.length-1].start_dt.valueOf()<=n)return e.push(t),e;for(var r=e.length,a=0;a<r;a++){if(e[a].start_dt.valueOf()>t.start_dt.valueOf())return e.splice(a,0,t),e}throw new Error("Logic failure if we reach this point, it should have been returned earlier")}},{key:"getEventIndex",value:function(e){return this.state.allEvents.findIndex(function(t){return e.id===t.id})}},{key:"findById",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.state.allEvents.find(function(t){return e===t.id});return!r&&n?h.default.fetchEvent(e).then(function(e){var n=h.default.initializeEvent(e.event);y.default.setCurrentDate(n.start_dt);var r=t.insertEventIntoEventsArray(t.state.allEvents,n);return t.state.allEvents=r,n}).catch(function(e){p.default.alert(e.response.error.title,e.response.error.message),window.teamup.history.replace(_.default.getUrl("calendar"))}):r}},{key:"handleEventUndo",value:function(){return this.refreshEvents()}},{key:"handleRefresh",value:function(){return g.default.show(),this.refreshEvents()}},{key:"refreshEvents",value:function(){var e=this;return this.lastRequest&&this.lastRequest.cancel(),""===this.search.query?this.eventsWereFetched({events:[]}):(this.lastRequest=h.default.fetchEvents(this.visibleStartDate,this.visibleEndDate,this.search),this.lastRequest.then(function(t){return e.eventsWereFetched(t)}).catch(function(t){t.isCanceled||e.eventsWereNotFetched(t)})),!1}},{key:"eventsWereFetched",value:function(e){e.events.sort(function(e,t){return e.start_dt===t.start_dt?e.subcalendar_id===t.subcalendar_id?e.id<t.id?-1:1:t.subcalendar_id-e.subcalendar_id:e.start_dt<t.start_dt?-1:1}),this.state.allEvents=e.events.map(h.default.initializeEvent),this.filterEvents(),this.emitChange(),g.default.hide()}},{key:"eventsWereNotFetched",value:function(e){e.response&&e.response.error?p.default.alert(e.response.error.title,e.response.error.message):(p.default.alert("Unexpected network error","Communication with the server failed. (#592458)"),console.log("RequestError expected, got ",e))}},{key:"filterEvents",value:function(){var e=this,t=m.default.getState().resources.filter(function(e){return!1!==e.visible}).map(function(e){return e.id}),n=this.state.filter.length?function(e){for(var t=[],n=new RegExp(/"([^"]+)"/),r=void 0;(r=e.match(n))&&r[1];)t.push(r[1]),e=e.replace(n,"").trim();return e.length>0&&(t=t.concat(e.split(/\s+/))),new RegExp("(?:"+t.map(function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}).join("|")+")","i")}(this.state.filter):null,o=w.default.listToMap(v.default.getState().fields.definitions),i=this.state.allEvents.filter(function(i){if(e.state.filteredCalendars.length>0&&!(0,a.default)(e.state.filteredCalendars,i.subcalendar_ids).length)return!1;if(!(0,a.default)(t,i.subcalendar_ids).length)return!1;for(var s in e.state.filteredCustom)if(Object.prototype.hasOwnProperty.call(e.state.filteredCustom,s)){var u=e.state.filteredCustom[s],l=(i.custom||{})[s]||"";if(u instanceof Array&&u.length&&(!l.length||!(0,a.default)(u,l).length))return!1}return!(n&&!(i.title&&i.title.match(n)||i.location&&i.location.match(n)||i.who&&i.who.match(n)||i.notes&&i.notes.match(n)||(0,r.default)(i.custom,function(e,t){return o[t]&&!o[t].hidden&&"string"==typeof e&&!!e.match(n)}).length))});this.state.events=i}}]),t}();t.default=u.default.createStore(k,"EventStore")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(27)),o=i(n(73));function i(e){return e&&e.__esModule?e:{default:e}}var s=a.default.createActions(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["default"]),r(t,[{key:"setLanguage",value:function(e){this.dispatch(e)}},{key:"setDateLocale",value:function(e,t){this.dispatch({dateLocale:e,use24hTimes:t})}},{key:"loadSections",value:function(e){this.dispatch(e)}}]),t}());t.default=s},function(e,t){e.exports=Math.scale||function(e,t,n,r,a){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||a!=a?NaN:e===1/0||e===-1/0?e:(e-t)*(a-r)/(n-t)+r}},function(e,t,n){var r=n(61);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){var r=n(88),a=n(222);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return a(this)}}},function(e,t,n){"use strict";var r=n(128),a=n(8),o=n(11),i=n(35),s=n(9)("isConcatSpreadable");e.exports=function e(t,n,u,l,c,d,f,p){for(var h,m,v=c,y=0,g=!!f&&i(f,p,3);y<l;){if(y in u){if(h=g?g(u[y],y,n):u[y],m=!1,a(h)&&(m=void 0!==(m=h[s])?!!m:r(h)),m&&d>0)v=e(t,n,h,o(h.length),v,d-1)-1;else{if(v>=9007199254740991)throw TypeError();t[v]=h}v++}y++}return v}},function(e,t,n){var r=n(20),a=n(15),o=n(89),i=n(11);e.exports=function(e,t,n,s,u){r(t);var l=a(e),c=o(l),d=i(l.length),f=u?d-1:0,p=u?-1:1;if(n<2)for(;;){if(f in c){s=c[f],f+=p;break}if(f+=p,u?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:d>f;f+=p)f in c&&(s=t(s,c[f],f,l));return s}},function(e,t,n){var r=n(34);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){var r=n(5).parseFloat,a=n(77).trim;e.exports=1/r(n(147)+"-0")!=-1/0?function(e){var t=a(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){var r=n(5).parseInt,a=n(77).trim,o=n(147),i=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=a(String(e),3);return r(n,t>>>0||(i.test(n)?16:10))}:r},function(e,t,n){for(var r=n(127),a=n(62),o=n(23),i=n(5),s=n(24),u=n(79),l=n(9),c=l("iterator"),d=l("toStringTag"),f=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=a(p),m=0;m<h.length;m++){var v,y=h[m],g=p[y],b=i[y],_=b&&b.prototype;if(_&&(_[c]||s(_,c,f),_[d]||s(_,d,y),u[y]=f,g))for(v in r)_[v]||o(_,v,r[v],!0)}},function(e,t,n){var r=n(2),a=n(159);r(r.G+r.B,{setImmediate:a.set,clearImmediate:a.clear})},function(e,t,n){var r=n(5),a=n(2),o=n(123),i=[].slice,s=/MSIE .\./.test(o),u=function(e){return function(t,n){var r=arguments.length>2,a=!!r&&i.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,a)}:t,n)}};a(a.G+a.B+a.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(e,t,n){"use strict";var r=n(2),a=n(233),o=n(123);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){var r=n(11),a=n(154),o=n(39);e.exports=function(e,t,n,i){var s=String(o(e)),u=s.length,l=void 0===n?" ":String(n),c=r(t);if(c<=u||""==l)return s;var d=c-u,f=a.call(l,Math.ceil(d/l.length));return f.length>d&&(f=f.slice(0,d)),i?f+s:s+f}},function(e,t,n){"use strict";var r=n(2),a=n(233),o=n(123);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){var r=n(2),a=n(307),o=n(30),i=n(28),s=n(150);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),u=i.f,l=a(r),c={},d=0;l.length>d;)void 0!==(n=u(r,t=l[d++]))&&s(c,t,n);return c}})},function(e,t,n){var r=n(2),a=n(237)(!0);r(r.S,"Object",{entries:function(e){return a(e)}})},function(e,t,n){var r=n(62),a=n(30),o=n(87).f;e.exports=function(e){return function(t){for(var n,i=a(t),s=r(i),u=s.length,l=0,c=[];u>l;)o.call(i,n=s[l++])&&c.push(e?[n,i[n]]:i[n]);return c}}},function(e,t,n){var r=n(2),a=n(237)(!1);r(r.S,"Object",{values:function(e){return a(e)}})},function(e,t,n){"use strict";var r=n(2),a=n(131)(!0);r(r.P,"Array",{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),n(53)("includes")},function(e,t,n){var r=n(2);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(2),a=n(148),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=a(e=+e),n=a(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},function(e,t,n){var r=n(2),a=n(148),o=Math.exp;r(r.S+r.F*n(7)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(a(e)-a(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(2);r(r.S,"Math",{sign:n(149)})},function(e,t,n){var r=n(2);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(2);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(2);r(r.S,"Math",{log1p:n(257)})},function(e,t,n){var r=n(2),a=Math.imul;r(r.S+r.F*n(7)(function(){return-5!=a(4294967295,5)||2!=a.length}),"Math",{imul:function(e,t){var n=+e,r=+t,a=65535&n,o=65535&r;return 0|a*o+((65535&n>>>16)*o+a*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){var r=n(2),a=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,i=0,s=arguments.length,u=0;i<s;)u<(n=a(arguments[i++]))?(o=o*(r=u/n)*r+1,u=n):o+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(o)}})},function(e,t,n){var r=n(149),a=Math.pow,o=a(2,-52),i=a(2,-23),s=a(2,127)*(2-i),u=a(2,-126);e.exports=Math.fround||function(e){var t,n,a=Math.abs(e),l=r(e);return a<u?l*(a/u/i+1/o-1/o)*u*i:(n=(t=(1+i/o)*a)-(t-a))>s||n!=n?l*(1/0):l*n}},function(e,t,n){var r=n(2);r(r.S,"Math",{fround:n(249)})},function(e,t,n){var r=n(2),a=n(148);r(r.S+r.F*(a!=Math.expm1),"Math",{expm1:a})},function(e,t,n){var r=n(2),a=Math.exp;r(r.S,"Math",{cosh:function(e){return(a(e=+e)+a(-e))/2}})},function(e,t,n){var r=n(2);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(2),a=n(149);r(r.S,"Math",{cbrt:function(e){return a(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(2),a=Math.atanh;r(r.S+r.F*!(a&&1/a(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(2),a=Math.asinh;r(r.S+r.F*!(a&&1/a(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var r=n(2),a=n(257),o=Math.sqrt,i=Math.acosh;r(r.S+r.F*!(i&&710==Math.floor(i(Number.MAX_VALUE))&&i(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:a(e-1+o(e-1)*o(e+1))}})},function(e,t,n){var r=n(2);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(2);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(2);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(2);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(2),a=n(264),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return a(e)&&o(e)<=9007199254740991}})},function(e,t,n){var r=n(8),a=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&a(e)===e}},function(e,t,n){var r=n(2);r(r.S,"Number",{isInteger:n(264)})},function(e,t,n){var r=n(2),a=n(5).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&a(e)}})},function(e,t,n){var r=n(2);r(r.P,"Array",{fill:n(171)}),n(53)("fill")},function(e,t,n){"use strict";var r=n(2),a=n(38)(6),o="findIndex",i=!0;o in[]&&Array(1)[o](function(){i=!1}),r(r.P+r.F*i,"Array",{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),n(53)(o)},function(e,t,n){"use strict";var r=n(2),a=n(38)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),n(53)("find")},function(e,t,n){var r=n(2);r(r.P,"Array",{copyWithin:n(333)}),n(53)("copyWithin")},function(e,t,n){"use strict";var r=n(2),a=n(150);r(r.S+r.F*n(7)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)a(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(35),a=n(2),o=n(15),i=n(323),s=n(170),u=n(11),l=n(150),c=n(168);a(a.S+a.F*!n(126)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,a,d,f=o(e),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m,y=0,g=c(f);if(v&&(m=r(m,h>2?arguments[2]:void 0,2)),void 0==g||p==Array&&s(g))for(n=new p(t=u(f.length));t>y;y++)l(n,y,v?m(f[y],y):f[y]);else for(d=g.call(f),n=new p;!(a=d.next()).done;y++)l(n,y,v?i(d,m,[a.value,y],!0):a.value);return n.length=y,n}})},function(e,t,n){n(120)("search",1,function(e,t,n){return[function(n){"use strict";var r=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){n(120)("split",2,function(e,t,r){"use strict";var a=n(122),o=r,i=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var s=void 0===/()??/.exec("")[1];r=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!a(e))return o.call(n,e,t);var r,u,l,c,d,f=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,m=void 0===t?4294967295:t>>>0,v=new RegExp(e.source,p+"g");for(s||(r=new RegExp("^"+v.source+"$(?!\\s)",p));(u=v.exec(n))&&!((l=u.index+u[0].length)>h&&(f.push(n.slice(h,u.index)),!s&&u.length>1&&u[0].replace(r,function(){for(d=1;d<arguments.length-2;d++)void 0===arguments[d]&&(u[d]=void 0)}),u.length>1&&u.index<n.length&&i.apply(f,u.slice(1)),c=u[0].length,h=l,f.length>=m));)v.lastIndex===u.index&&v.lastIndex++;return h===n.length?!c&&v.test("")||f.push(""):f.push(n.slice(h)),f.length>m?f.slice(0,m):f}}else"0".split(void 0,0).length&&(r=function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)});return[function(n,a){var o=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,o,a):r.call(String(o),n,a)},r]})},function(e,t,n){n(120)("replace",2,function(e,t,n){return[function(r,a){"use strict";var o=e(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,o,a):n.call(String(o),r,a)},n]})},function(e,t,n){n(120)("match",1,function(e,t,n){return[function(n){"use strict";var r=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){"use strict";var r=n(2),a=n(153);r(r.P+r.F*n(152)("includes"),"String",{includes:function(e){return!!~a(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(2),a=n(11),o=n(153),i="".endsWith;r(r.P+r.F*n(152)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=a(t.length),s=void 0===n?r:Math.min(a(n),r),u=String(e);return i?i.call(t,u,s):t.slice(s-u.length,s)===u}})},function(e,t,n){"use strict";var r=n(2),a=n(11),o=n(153),i="".startsWith;r(r.P+r.F*n(152)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),n=a(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return i?i.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){var r=n(2);r(r.P,"String",{repeat:n(154)})},function(e,t,n){"use strict";var r=n(2),a=n(155)(!1);r(r.P,"String",{codePointAt:function(e){return a(this,e)}})},function(e,t,n){var r=n(2),a=n(65),o=String.fromCharCode,i=String.fromCodePoint;r(r.S+r.F*(!!i&&1!=i.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,i=0;r>i;){if(t=+arguments[i++],a(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var r=n(2),a=n(30),o=n(11);r(r.S,"String",{raw:function(e){for(var t=a(e.raw),n=o(t.length),r=arguments.length,i=[],s=0;n>s;)i.push(String(t[s++])),s<r&&i.push(String(arguments[s]));return i.join("")}})},function(e,t,n){var r=n(13).f,a=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in a||n(12)&&r(a,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){var r=n(2);r(r.S,"Object",{setPrototypeOf:n(162).set})},function(e,t,n){var r=n(2);r(r.S,"Object",{is:n(575)})},function(e,t,n){var r=n(2);r(r.S+r.F,"Object",{assign:n(322)})},function(e,t,n){n(37)("getOwnPropertyNames",function(){return n(298).f})},function(e,t,n){var r=n(15),a=n(62);n(37)("keys",function(){return function(e){return a(r(e))}})},function(e,t,n){var r=n(15),a=n(29);n(37)("getPrototypeOf",function(){return function(e){return a(r(e))}})},function(e,t,n){var r=n(30),a=n(28).f;n(37)("getOwnPropertyDescriptor",function(){return function(e,t){return a(r(e),t)}})},function(e,t,n){var r=n(8);n(37)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},function(e,t,n){var r=n(8);n(37)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(8);n(37)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(8),a=n(52).onFreeze;n(37)("preventExtensions",function(e){return function(t){return e&&r(t)?e(a(t)):t}})},function(e,t,n){var r=n(8),a=n(52).onFreeze;n(37)("seal",function(e){return function(t){return e&&r(t)?e(a(t)):t}})},function(e,t,n){var r=n(8),a=n(52).onFreeze;n(37)("freeze",function(e){return function(t){return e&&r(t)?e(a(t)):t}})},function(e,t,n){var r=n(30),a=n(66).f,o={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return i&&"[object Window]"==o.call(e)?function(e){try{return a(e)}catch(e){return i.slice()}}(e):a(r(e))}},function(e,t,n){t.f=n(9)},function(e,t,n){"use strict";var r=n(5),a=n(31),o=n(12),i=n(2),s=n(23),u=n(52).KEY,l=n(7),c=n(130),d=n(80),f=n(69),p=n(9),h=n(299),m=n(156),v=n(576),y=n(128),g=n(3),b=n(8),_=n(30),w=n(41),E=n(70),k=n(63),S=n(298),O=n(28),C=n(13),D=n(62),T=O.f,M=C.f,P=S.f,x=r.Symbol,j=r.JSON,N=j&&j.stringify,A=p("_hidden"),R=p("toPrimitive"),L={}.propertyIsEnumerable,I=c("symbol-registry"),F=c("symbols"),Y=c("op-symbols"),U=Object.prototype,H="function"==typeof x,V=r.QObject,B=!V||!V.prototype||!V.prototype.findChild,W=o&&l(function(){return 7!=k(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=T(U,t);r&&delete U[t],M(e,t,n),r&&e!==U&&M(U,t,r)}:M,z=function(e){var t=F[e]=k(x.prototype);return t._k=e,t},G=H&&"symbol"==typeof x.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof x},q=function(e,t,n){return e===U&&q(Y,t,n),g(e),t=w(t,!0),g(n),a(F,t)?(n.enumerable?(a(e,A)&&e[A][t]&&(e[A][t]=!1),n=k(n,{enumerable:E(0,!1)})):(a(e,A)||M(e,A,E(1,{})),e[A][t]=!0),W(e,t,n)):M(e,t,n)},K=function(e,t){g(e);for(var n,r=v(t=_(t)),a=0,o=r.length;o>a;)q(e,n=r[a++],t[n]);return e},$=function(e){var t=L.call(this,e=w(e,!0));return!(this===U&&a(F,e)&&!a(Y,e))&&(!(t||!a(this,e)||!a(F,e)||a(this,A)&&this[A][e])||t)},J=function(e,t){if(e=_(e),t=w(t,!0),e!==U||!a(F,t)||a(Y,t)){var n=T(e,t);return!n||!a(F,t)||a(e,A)&&e[A][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=P(_(e)),r=[],o=0;n.length>o;)a(F,t=n[o++])||t==A||t==u||r.push(t);return r},X=function(e){for(var t,n=e===U,r=P(n?Y:_(e)),o=[],i=0;r.length>i;)!a(F,t=r[i++])||n&&!a(U,t)||o.push(F[t]);return o};H||(s((x=function(){if(this instanceof x)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===U&&t.call(Y,n),a(this,A)&&a(this[A],e)&&(this[A][e]=!1),W(this,e,E(1,n))};return o&&B&&W(U,e,{configurable:!0,set:t}),z(e)}).prototype,"toString",function(){return this._k}),O.f=J,C.f=q,n(66).f=S.f=Q,n(87).f=$,n(124).f=X,o&&!n(54)&&s(U,"propertyIsEnumerable",$,!0),h.f=function(e){return z(p(e))}),i(i.G+i.W+i.F*!H,{Symbol:x});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)p(Z[ee++]);for(var te=D(p.store),ne=0;te.length>ne;)m(te[ne++]);i(i.S+i.F*!H,"Symbol",{for:function(e){return a(I,e+="")?I[e]:I[e]=x(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in I)if(I[t]===e)return t},useSetter:function(){B=!0},useSimple:function(){B=!1}}),i(i.S+i.F*!H,"Object",{create:function(e,t){return void 0===t?k(e):K(k(e),t)},defineProperty:q,defineProperties:K,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:X}),j&&i(i.S+i.F*(!H||l(function(){var e=x();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],a=1;arguments.length>a;)r.push(arguments[a++]);if(n=t=r[1],(b(t)||void 0!==e)&&!G(e))return y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!G(t))return t}),r[1]=t,N.apply(j,r)}}),x.prototype[R]||n(24)(x.prototype,R,x.prototype.valueOf),d(x,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(3),a=n(8),o=n(157);e.exports=function(e,t){if(r(e),a(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){"use strict";var r,a,o,i,s=n(54),u=n(5),l=n(35),c=n(88),d=n(2),f=n(8),p=n(20),h=n(67),m=n(61),v=n(129),y=n(159).set,g=n(158)(),b=n(157),_=n(302),w=n(123),E=n(301),k=u.TypeError,S=u.process,O=S&&S.versions,C=O&&O.v8||"",D=u.Promise,T="process"==c(S),M=function(){},P=a=b.f,x=!!function(){try{var e=D.resolve(1),t=(e.constructor={})[n(9)("species")]=function(e){e(M,M)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(M)instanceof t&&0!==C.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),j=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},N=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var r=e._v,a=1==e._s,o=0,i=function(t){var n,o,i,s=a?t.ok:t.fail,u=t.resolve,l=t.reject,c=t.domain;try{s?(a||(2==e._h&&L(e),e._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),i=!0)),n===t.promise?l(k("Promise-chain cycle")):(o=j(n))?o.call(n,u,l):u(n)):l(r)}catch(e){c&&!i&&c.exit(),l(e)}};n.length>o;)i(n[o++]);e._c=[],e._n=!1,t&&!e._h&&A(e)})}},A=function(e){y.call(u,function(){var t,n,r,a=e._v,o=R(e);if(o&&(t=_(function(){T?S.emit("unhandledRejection",a,e):(n=u.onunhandledrejection)?n({promise:e,reason:a}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",a)}),e._h=T||R(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){y.call(u,function(){var t;T?S.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},I=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),N(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw k("Promise can't be resolved itself");(t=j(e))?g(function(){var r={_w:n,_d:!1};try{t.call(e,l(F,r,1),l(I,r,1))}catch(e){I.call(r,e)}}):(n._v=e,n._s=1,N(n,!1))}catch(e){I.call({_w:n,_d:!1},e)}}};x||(D=function(e){h(this,D,"Promise","_h"),p(e),r.call(this);try{e(l(F,this,1),l(I,this,1))}catch(e){I.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(68)(D.prototype,{then:function(e,t){var n=P(v(this,D));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=T?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=l(F,e,1),this.reject=l(I,e,1)},b.f=P=function(e){return e===D||e===i?new o(e):a(e)}),d(d.G+d.W+d.F*!x,{Promise:D}),n(80)(D,"Promise"),n(64)("Promise"),i=n(42).Promise,d(d.S+d.F*!x,"Promise",{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!x),"Promise",{resolve:function(e){return E(s&&this===i?D:this,e)}}),d(d.S+d.F*!(x&&n(126)(function(e){D.all(e).catch(M)})),"Promise",{all:function(e){var t=this,n=P(t),r=n.resolve,a=n.reject,o=_(function(){var n=[],o=0,i=1;m(e,!1,function(e){var s=o++,u=!1;n.push(void 0),i++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--i||r(n))},a)}),--i||r(n)});return o.e&&a(o.v),n.promise},race:function(e){var t=this,n=P(t),r=n.reject,a=_(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return a.e&&r(a.v),n.promise}})},function(e,t,n){var r=n(2),a=n(162);a&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){a.check(e,t);try{return a.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){var r=n(13),a=n(28),o=n(29),i=n(31),s=n(2),u=n(70),l=n(3),c=n(8);s(s.S,"Reflect",{set:function e(t,n,s){var d,f,p=arguments.length<4?t:arguments[3],h=a.f(l(t),n);if(!h){if(c(f=o(t)))return e(f,n,s,p);h=u(0)}if(i(h,"value")){if(!1===h.writable||!c(p))return!1;if(d=a.f(p,n)){if(d.get||d.set||!1===d.writable)return!1;d.value=s,r.f(p,n,d)}else r.f(p,n,u(0,s));return!0}return void 0!==h.set&&(h.set.call(p,s),!0)}})},function(e,t,n){var r=n(2),a=n(3),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){a(e);try{return o&&o(e),!0}catch(e){return!1}}})},function(e,t,n){var r=n(66),a=n(124),o=n(3),i=n(5).Reflect;e.exports=i&&i.ownKeys||function(e){var t=r.f(o(e)),n=a.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(2);r(r.S,"Reflect",{ownKeys:n(307)})},function(e,t,n){var r=n(2),a=n(3),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return a(e),!o||o(e)}})},function(e,t,n){var r=n(2);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(2),a=n(29),o=n(3);r(r.S,"Reflect",{getPrototypeOf:function(e){return a(o(e))}})},function(e,t,n){var r=n(28),a=n(2),o=n(3);a(a.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},function(e,t,n){var r=n(28),a=n(29),o=n(31),i=n(2),s=n(8),u=n(3);i(i.S,"Reflect",{get:function e(t,n){var i,l,c=arguments.length<3?t:arguments[2];return u(t)===c?t[n]:(i=r.f(t,n))?o(i,"value")?i.value:void 0!==i.get?i.get.call(c):void 0:s(l=a(t))?e(l,n,c):void 0}})},function(e,t,n){var r=n(2),a=n(28).f,o=n(3);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=a(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){var r=n(13),a=n(2),o=n(3),i=n(41);a(a.S+a.F*n(7)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){o(e),t=i(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){"use strict";var r=n(20),a=n(8),o=n(316),i=[].slice,s={};e.exports=Function.bind||function(e){var t=r(this),n=i.call(arguments,1),u=function(){var r=n.concat(i.call(arguments));return this instanceof u?function(e,t,n){if(!(t in s)){for(var r=[],a=0;a<t;a++)r[a]="a["+a+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)}(t,r.length,r):o(t,r,e)};return a(t.prototype)&&(u.prototype=t.prototype),u}},function(e,t,n){var r=n(2),a=n(63),o=n(20),i=n(3),s=n(8),u=n(7),l=n(317),c=(n(5).Reflect||{}).construct,d=u(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),f=!u(function(){c(function(){})});r(r.S+r.F*(d||f),"Reflect",{construct:function(e,t){o(e),i(t);var n=arguments.length<3?e:o(arguments[2]);if(f&&!d)return c(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(l.apply(e,r))}var u=n.prototype,p=a(s(u)?u:Object.prototype),h=Function.apply.call(e,p,t);return s(h)?h:p}})},function(e,t,n){var r=n(2),a=n(20),o=n(3),i=(n(5).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(7)(function(){i(function(){})}),"Reflect",{apply:function(e,t,n){var r=a(e),u=o(n);return i?i(r,t,u):s.call(r,t,u)}})},function(e,t,n){"use strict";var r=n(321),a=n(78);n(125)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(a(this,"WeakSet"),e,!0)}},r,!1,!0)},function(e,t,n){"use strict";var r=n(68),a=n(52).getWeak,o=n(3),i=n(8),s=n(67),u=n(61),l=n(38),c=n(31),d=n(78),f=l(5),p=l(6),h=0,m=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},y=function(e,t){return f(e.a,function(e){return e[0]===t})};v.prototype={get:function(e){var t=y(this,e);if(t)return t[1]},has:function(e){return!!y(this,e)},set:function(e,t){var n=y(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=h++,e._l=void 0,void 0!=r&&u(r,n,e[o],e)});return r(l.prototype,{delete:function(e){if(!i(e))return!1;var n=a(e);return!0===n?m(d(this,t)).delete(e):n&&c(n,this._i)&&delete n[this._i]},has:function(e){if(!i(e))return!1;var n=a(e);return!0===n?m(d(this,t)).has(e):n&&c(n,this._i)}}),l},def:function(e,t,n){var r=a(o(t),!0);return!0===r?m(e).set(t,n):r[e._i]=n,e},ufstore:m}},function(e,t,n){"use strict";var r=n(62),a=n(124),o=n(87),i=n(15),s=n(89),u=Object.assign;e.exports=!u||n(7)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=i(e),u=arguments.length,l=1,c=a.f,d=o.f;u>l;)for(var f,p=s(arguments[l++]),h=c?r(p).concat(c(p)):r(p),m=h.length,v=0;m>v;)d.call(p,f=h[v++])&&(n[f]=p[f]);return n}:u},function(e,t,n){var r=n(3);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){"use strict";var r=n(13).f,a=n(63),o=n(68),i=n(35),s=n(67),u=n(61),l=n(166),c=n(334),d=n(64),f=n(12),p=n(52).fastKey,h=n(78),m=f?"_s":"size",v=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,l){var c=e(function(e,r){s(e,c,t,"_i"),e._t=t,e._i=a(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=r&&u(r,n,e[l],e)});return o(c.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=h(this,t),r=v(n,e);if(r){var a=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=a),a&&(a.p=o),n._f==r&&(n._f=a),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(e){h(this,t);for(var n,r=i(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!v(h(this,t),e)}}),f&&r(c.prototype,"size",{get:function(){return h(this,t)[m]}}),c},def:function(e,t,n){var r,a,o=v(e,t);return o?o.v=n:(e._l=o={i:a=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[m]++,"F"!==a&&(e._i[a]=o)),e},getEntry:v,setStrong:function(e,t,n){l(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?c(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,c(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){n(47)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(47)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(47)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(47)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(47)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(47)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(47)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){n(47)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";var r=n(15),a=n(65),o=n(11);e.exports=[].copyWithin||function(e,t){var n=r(this),i=o(n.length),s=a(e,i),u=a(t,i),l=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===l?i:a(l,i))-u,i-s),d=1;for(u<s&&s<u+c&&(d=-1,u+=c-1,s+=c-1);c-- >0;)u in n?n[s]=n[u]:delete n[s],s+=d,u+=d;return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(13),a=n(3),o=n(62);e.exports=n(12)?Object.defineProperties:function(e,t){a(e);for(var n,i=o(t),s=i.length,u=0;s>u;)r.f(e,n=i[u++],t[n]);return e}},function(e,t,n){n(47)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){var r=n(2);r(r.G+r.W+r.F*!n(132).ABV,{DataView:n(174).DataView})},function(e,t,n){var r=n(31),a=n(30),o=n(131)(!1),i=n(173)("IE_PROTO");e.exports=function(e,t){var n,s=a(e),u=0,l=[];for(n in s)n!=i&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(l,n)||l.push(n));return l}},function(e,t,n){var r=n(40),a=n(11);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=a(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){e.exports=!n(12)&&!n(7)(function(){return 7!=Object.defineProperty(n(175)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var r=n(2),a=n(132),o=n(174),i=n(3),s=n(65),u=n(11),l=n(8),c=n(5).ArrayBuffer,d=n(129),f=o.ArrayBuffer,p=o.DataView,h=a.ABV&&c.isView,m=f.prototype.slice,v=a.VIEW;r(r.G+r.W+r.F*(c!==f),{ArrayBuffer:f}),r(r.S+r.F*!a.CONSTR,"ArrayBuffer",{isView:function(e){return h&&h(e)||l(e)&&v in e}}),r(r.P+r.U+r.F*n(7)(function(){return!new f(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(i(this),e);for(var n=i(this).byteLength,r=s(e,n),a=s(void 0===t?n:t,n),o=new(d(this,f))(u(a-r)),l=new p(this),c=new p(o),h=0;r<a;)c.setUint8(h++,l.getUint8(r++));return o}}),n(64)("ArrayBuffer")},function(e,t,n){"use strict";n.r(t);var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])});var a=void 0===t?"undefined":r(t);if(a!==(void 0===n?"undefined":r(n)))return!1;if("object"===a){var o=t.valueOf(),i=n.valueOf();if(o!==t||i!==n)return e(o,i);var s=Object.keys(t),u=Object.keys(n);return s.length===u.length&&s.every(function(r){return e(t[r],n[r])})}return!1}},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function a(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}n.r(t),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],o=t&&t.split("/")||[],i=e&&r(e),s=t&&r(t),u=i||s;if(e&&r(e)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";var l=void 0;if(o.length){var c=o[o.length-1];l="."===c||".."===c||""===c}else l=!1;for(var d=0,f=o.length;f>=0;f--){var p=o[f];"."===p?a(o,f):".."===p?(a(o,f),d++):d&&(a(o,f),d--)}if(!u)for(;d--;d)o.unshift("..");!u||""===o[0]||o[0]&&r(o[0])||o.unshift("");var h=o.join("/");return l&&"/"!==h.substr(-1)&&(h+="/"),h}},function(e,t,n){"use strict";var r="undefined"!=typeof Element?Element.prototype:{},a=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector;e.exports=function(e,t){if(!e||1!==e.nodeType)return!1;if(a)return a.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0;r<n.length;r++)if(n[r]==e)return!0;return!1}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=(r=o)&&r.__esModule?r:{default:r};function s(e){return i.default.createElement("option",{key:e.value,value:e.value},e.label)}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=function(e){n.setState({value:e.target.value}),n.props.onChange&&n.props.onChange(e)},n.state={value:n.props.defaultValue},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["default"].Component),a(t,[{key:"render",value:function(){var e=this.props.options,t=this.props.disabled||!1,n=Math.random();return"multiple"==this.props.selection?i.default.createElement("select",{name:this.props.name,ref:this.props.name,id:this.props.id,onChange:this.onChange,className:this.props.className||"settings__select settings__multiselect",multiple:!0,disabled:t,value:this.state.value,required:this.props.required},e.map(function(e,t){return i.default.createElement(s,{label:e.label,value:e.value,key:t+n})})):i.default.createElement("select",{name:this.props.name,ref:this.props.name,id:this.props.id,onChange:this.onChange,className:this.props.className||"settings__select",disabled:t,value:this.state.value,required:this.props.required},e.map(function(e,t){return i.default.createElement(s,{label:e.label,value:e.value,key:t+n})}))}}]),t}();u.defaultProps={selection:"single",defaultValue:"",required:!1},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(1)),o=l(n(4)),i=l(n(6)),s=l(n(45)),u=l(n(453));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.datePicker=null,n.datePickerInput=null,n.handlePickerKeyDown=function(e){9!==e.keyCode&&13!==e.keyCode||(clearTimeout(n.typingTimeout),n.setValueFromInput(),n.datePicker&&n.datePicker.close()),38===e.keyCode&&(e.preventDefault(),e.stopImmediatePropagation(),n.setValue(n.getValue().clone().subtract(12,"hours").startOf("day"))),40===e.keyCode&&(e.preventDefault(),e.stopImmediatePropagation(),n.setValue(n.getValue().clone().add(36,"hours").startOf("day")))},n.handlePickerKeyUp=function(e){var t=e.target.value;clearTimeout(n.typingTimeout),t.match(/^(\d{2})?\d{2}[.-\/]\d{2}[.-\/]\d{2}(\d{2})?$/)&&(n.typingTimeout=window.setTimeout(n.setValueFromInput,500))},n.handlePickerBlur=function(e){n.setValueFromInput()},n.setValueFromInput=function(){if(n.datePickerInput){var e=n.datePickerInput.value,t=(0,o.default)(n.parseDate(e));""==e||t.year()<1900||!t.isValid()?n.setValue(n.getValue()):e!==n.getValue().format(s.default.get("date_year_moment"))&&n.setValue(t)}},n.handleChange=function(e){var t=(0,o.default)(e[0]);n.setState({value:t})},n.handleCalendarClose=function(){n.datePicker&&n.datePicker.jumpToDate(n.getValue().toDate())},n.initPicker=function(e){if(e){var t={firstDayOfWeek:Number(n.props.weekStart),weekdays:{shorthand:o.default.weekdaysShort(),longhand:o.default.weekdays()},months:{shorthand:o.default.monthsShort(),longhand:o.default.months()}};n.minDate=n.props.minDate?n.props.minDate.clone().startOf("day").toDate():void 0,n.maxDate=n.props.maxDate?n.props.maxDate.clone().endOf("day").toDate():void 0,n.datePicker=new u.default(e,{allowInput:!0,dateFormat:"Y-m-d",minDate:n.minDate,maxDate:n.maxDate,onChange:function(e){n.handleChange(e)},onClose:function(){n.handleCalendarClose()},altInput:!0,altFormat:s.default.get("date_year_moment").replace("MM","m").replace("YYYY","Y").replace("DD","d"),parseDate:n.parseDate,defaultDate:n.state.value.toDate(),disableMobile:!0,locale:t}),n.datePickerInput=n.datePicker.altInput,n.datePickerInput.addEventListener("keydown",n.handlePickerKeyDown,!1),n.datePickerInput.addEventListener("keyup",n.handlePickerKeyUp,!1),n.datePickerInput.addEventListener("blur",n.handlePickerBlur,!1)}else n.destroyPicker(),n.datePickerInput=n.datePicker=null},n.state={value:n.props.defaultValue?n.props.defaultValue:(0,o.default)()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"componentWillUnmount",value:function(){this.destroyPicker(),this.datePicker=null}},{key:"componentWillReceiveProps",value:function(e,t){!this.datePicker||!e.minDate||this.minDate&&e.minDate.isSame(this.minDate)||this.setMinDate(e.minDate),!this.datePicker||!e.maxDate||this.maxDate&&e.maxDate.isSame(this.maxDate)||this.setMaxDate(e.maxDate)}},{key:"componentWillUpdate",value:function(e,t){var n=this;if(this.props.onChange&&!t.value.isSame(this.state.value)){var r=t.value.clone();setTimeout(function(){n.props.onChange&&n.props.onChange(r)},0)}}},{key:"getValue",value:function(){return this.state.value}},{key:"setValue",value:function(e){this.minDate&&e.isBefore(this.minDate)&&(e=(0,o.default)(this.minDate)),this.datePicker&&this.datePicker.setDate(e.toDate()),this.setState({value:e})}},{key:"setMinDate",value:function(e){this.minDate=e.clone().startOf("day").toDate(),this.datePicker&&this.datePicker.set("minDate",this.minDate)}},{key:"setMaxDate",value:function(e){this.maxDate=e.clone().endOf("day").toDate(),this.datePicker&&this.datePicker.set("maxDate",this.maxDate)}},{key:"parseDate",value:function(e){return(0,o.default)(e,s.default.get("date_year_moment")).toDate()}},{key:"destroyPicker",value:function(){this.datePicker&&this.datePicker.destroy(),this.datePickerInput&&(this.datePickerInput.removeEventListener("keydown",this.handlePickerKeyDown,!1),this.datePickerInput.removeEventListener("keyup",this.handlePickerKeyUp,!1),this.datePickerInput.removeEventListener("blur",this.handlePickerBlur,!1))}},{key:"render",value:function(){var e="datepicker";return this.props.className&&(e+=" "+this.props.className),a.default.createElement("div",{className:e},this.props.label?a.default.createElement(i.default,{htmlFor:this.props.name,component:"label",message:this.props.label}):null,this.props.label?a.default.createElement("br",null):null,a.default.createElement("input",{name:this.props.name,ref:this.initPicker}))}}]),t}();c.defaultPrpos={defaultValue:(0,o.default)()},t.default=c},function(e,t,n){e.exports=n(356)},function(e,t,n){var r=n(48),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=a},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(1)),o=s(n(135)),i=s(n(6));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){var e={style:this.props.style};return a.default.createElement("p",Object.assign({className:"info-text info-text-"+this.props.type},e),a.default.createElement("i",{className:this.props.iconClassName}),a.default.createElement(i.default,{message:this.props.text}))}}]),t}();u.defaultProps={type:"warning",style:null},t.default=(0,o.default)(u)},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(99),a=n(100),o=n(353);e.exports=function(){function e(e,t,n,r,i,s){s!==o&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){var r,a;(a=function(){"use strict";var e={DAY:864e5,HOUR:36e5,MINUTE:6e4,SECOND:1e3,BASELINE_YEAR:2014,MAX_SCORE:864e6,AMBIGUITIES:{"America/Denver":["America/Mazatlan"],"Europe/London":["Africa/Casablanca"],"America/Chicago":["America/Mexico_City"],"America/Asuncion":["America/Campo_Grande","America/Santiago"],"America/Montevideo":["America/Sao_Paulo","America/Santiago"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Europe/Helsinki","Asia/Damascus","Africa/Cairo","Asia/Gaza","Europe/Minsk"],"Pacific/Auckland":["Pacific/Fiji"],"America/Los_Angeles":["America/Santa_Isabel"],"America/New_York":["America/Havana"],"America/Halifax":["America/Goose_Bay"],"America/Godthab":["America/Miquelon"],"Asia/Dubai":["Asia/Yerevan"],"Asia/Jakarta":["Asia/Krasnoyarsk"],"Asia/Shanghai":["Asia/Irkutsk","Australia/Perth"],"Australia/Sydney":["Australia/Lord_Howe"],"Asia/Tokyo":["Asia/Yakutsk"],"Asia/Dhaka":["Asia/Omsk"],"Asia/Baku":["Asia/Yerevan"],"Australia/Brisbane":["Asia/Vladivostok"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Majuro":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk","Europe/Moscow"],"Asia/Karachi":["Asia/Yekaterinburg"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]}},t=function(e){var t=-e.getTimezoneOffset();return null!==t?t:0},n=function(e){for(var t=new Date(e,0,1,0,0,1,0).getTime(),n=new Date(e,12,31,23,59,59).getTime(),a=t,o=new Date(a).getTimezoneOffset(),i=null,s=null;a<n-864e5;){var u=new Date(a),l=u.getTimezoneOffset();l!==o&&(l<o&&(i=u),l>o&&(s=u),o=l),a+=864e5}return!(!i||!s)&&{s:r(i).getTime(),e:r(s).getTime()}},r=function t(n,r,a){void 0===r&&(r=e.DAY,a=e.HOUR);for(var o=new Date(n.getTime()-r).getTime(),i=n.getTime()+r,s=new Date(o).getTimezoneOffset(),u=o,l=null;u<i-a;){var c=new Date(u);if(c.getTimezoneOffset()!==s){l=c;break}u+=a}return r===e.DAY?t(l,e.HOUR,e.MINUTE):r===e.HOUR?t(l,e.MINUTE,e.SECOND):l},o=function(t){var r=function(){for(var e=[],t=0;t<a.olson.dst_rules.years.length;t++){var r=n(a.olson.dst_rules.years[t]);e.push(r)}return e}();return function(e){for(var t=0;t<e.length;t++)if(!1!==e[t])return!0;return!1}(r)?function(t,n){for(var r=function(r){for(var a=0,o=0;o<t.length;o++)if(r.rules[o]&&t[o]){if(!(t[o].s>=r.rules[o].s&&t[o].e<=r.rules[o].e)){a="N/A";break}if(a=0,a+=Math.abs(t[o].s-r.rules[o].s),(a+=Math.abs(r.rules[o].e-t[o].e))>e.MAX_SCORE){a="N/A";break}}return a=function(e,t,n,r){if("N/A"!==n)return n;if("Asia/Beirut"===t){if("Africa/Cairo"===r.name&&13983768e5===e[6].s&&14116788e5===e[6].e)return 0;if("Asia/Jerusalem"===r.name&&13959648e5===e[6].s&&14118588e5===e[6].e)return 0}else if("America/Santiago"===t){if("America/Asuncion"===r.name&&14124816e5===e[6].s&&1397358e6===e[6].e)return 0;if("America/Campo_Grande"===r.name&&14136912e5===e[6].s&&13925196e5===e[6].e)return 0}else if("America/Montevideo"===t){if("America/Sao_Paulo"===r.name&&14136876e5===e[6].s&&1392516e6===e[6].e)return 0}else if("Pacific/Auckland"===t&&"Pacific/Fiji"===r.name&&14142456e5===e[6].s&&13961016e5===e[6].e)return 0;return n}(t,n,a,r)},o={},i=a.olson.dst_rules.zones,s=i.length,u=e.AMBIGUITIES[n],l=0;l<s;l++){var c=i[l],d=r(i[l]);"N/A"!==d&&(o[c.name]=d)}for(var f in o)if(o.hasOwnProperty(f))for(var p=0;p<u.length;p++)if(u[p]===f)return f;return n}(r,t):t};return{determine:function(){var n,r,i,s=function(){var e,t;if("undefined"!=typeof Intl&&void 0!==Intl.DateTimeFormat&&void 0!==(e=Intl.DateTimeFormat())&&void 0!==e.resolvedOptions)return(t=e.resolvedOptions().timeZone)&&(t.indexOf("/")>-1||"UTC"===t)?t:void 0}();return s||(s=a.olson.timezones[(n=t(new Date(e.BASELINE_YEAR,0,2)),r=t(new Date(e.BASELINE_YEAR,5,2)),i=n-r,i<0?n+",1":i>0?r+",1,s":n+",0")],void 0!==e.AMBIGUITIES[s]&&(s=o(s))),{name:function(){return s}}}}}()).olson=a.olson||{},a.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-660,1,s":"Pacific/Apia","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Majuro","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},a.olson.dst_rules={years:[2008,2009,2010,2011,2012,2013,2014],zones:[{name:"Africa/Cairo",rules:[{e:12199572e5,s:12090744e5},{e:1250802e6,s:1240524e6},{e:12858804e5,s:12840696e5},!1,!1,!1,{e:14116788e5,s:1406844e6}]},{name:"Africa/Casablanca",rules:[{e:12202236e5,s:12122784e5},{e:12508092e5,s:12438144e5},{e:1281222e6,s:12727584e5},{e:13120668e5,s:13017888e5},{e:13489704e5,s:1345428e6},{e:13828392e5,s:13761e8},{e:14142888e5,s:14069448e5}]},{name:"America/Asuncion",rules:[{e:12050316e5,s:12243888e5},{e:12364812e5,s:12558384e5},{e:12709548e5,s:12860784e5},{e:13024044e5,s:1317528e6},{e:1333854e6,s:13495824e5},{e:1364094e6,s:1381032e6},{e:13955436e5,s:14124816e5}]},{name:"America/Campo_Grande",rules:[{e:12032172e5,s:12243888e5},{e:12346668e5,s:12558384e5},{e:12667212e5,s:1287288e6},{e:12981708e5,s:13187376e5},{e:13302252e5,s:1350792e6},{e:136107e7,s:13822416e5},{e:13925196e5,s:14136912e5}]},{name:"America/Goose_Bay",rules:[{e:122559486e4,s:120503526e4},{e:125704446e4,s:123648486e4},{e:128909886e4,s:126853926e4},{e:13205556e5,s:129998886e4},{e:13520052e5,s:13314456e5},{e:13834548e5,s:13628952e5},{e:14149044e5,s:13943448e5}]},{name:"America/Havana",rules:[{e:12249972e5,s:12056436e5},{e:12564468e5,s:12364884e5},{e:12885012e5,s:12685428e5},{e:13211604e5,s:13005972e5},{e:13520052e5,s:13332564e5},{e:13834548e5,s:13628916e5},{e:14149044e5,s:13943412e5}]},{name:"America/Mazatlan",rules:[{e:1225008e6,s:12074724e5},{e:12564576e5,s:1238922e6},{e:1288512e6,s:12703716e5},{e:13199616e5,s:13018212e5},{e:13514112e5,s:13332708e5},{e:13828608e5,s:13653252e5},{e:14143104e5,s:13967748e5}]},{name:"America/Mexico_City",rules:[{e:12250044e5,s:12074688e5},{e:1256454e6,s:12389184e5},{e:12885084e5,s:1270368e6},{e:1319958e6,s:13018176e5},{e:13514076e5,s:13332672e5},{e:13828572e5,s:13653216e5},{e:14143068e5,s:13967712e5}]},{name:"America/Miquelon",rules:[{e:12255984e5,s:12050388e5},{e:1257048e6,s:12364884e5},{e:12891024e5,s:12685428e5},{e:1320552e6,s:12999924e5},{e:13520016e5,s:1331442e6},{e:13834512e5,s:13628916e5},{e:14149008e5,s:13943412e5}]},{name:"America/Santa_Isabel",rules:[{e:12250116e5,s:1207476e6},{e:12564612e5,s:12389256e5},{e:12885156e5,s:12703752e5},{e:13199652e5,s:13018248e5},{e:13514148e5,s:13332744e5},{e:13828644e5,s:13653288e5},{e:1414314e6,s:13967784e5}]},{name:"America/Santiago",rules:[{e:1206846e6,s:1223784e6},{e:1237086e6,s:12552336e5},{e:127035e7,s:12866832e5},{e:13048236e5,s:13138992e5},{e:13356684e5,s:13465584e5},{e:1367118e6,s:13786128e5},{e:13985676e5,s:14100624e5}]},{name:"America/Sao_Paulo",rules:[{e:12032136e5,s:12243852e5},{e:12346632e5,s:12558348e5},{e:12667176e5,s:12872844e5},{e:12981672e5,s:1318734e6},{e:13302216e5,s:13507884e5},{e:13610664e5,s:1382238e6},{e:1392516e6,s:14136876e5}]},{name:"Asia/Amman",rules:[{e:1225404e6,s:12066552e5},{e:12568536e5,s:12381048e5},{e:12883032e5,s:12695544e5},{e:13197528e5,s:13016088e5},!1,!1,{e:14147064e5,s:13959576e5}]},{name:"Asia/Damascus",rules:[{e:12254868e5,s:120726e7},{e:125685e7,s:12381048e5},{e:12882996e5,s:12701592e5},{e:13197492e5,s:13016088e5},{e:13511988e5,s:13330584e5},{e:13826484e5,s:1364508e6},{e:14147028e5,s:13959576e5}]},{name:"Asia/Dubai",rules:[!1,!1,!1,!1,!1,!1,!1]},{name:"Asia/Gaza",rules:[{e:12199572e5,s:12066552e5},{e:12520152e5,s:12381048e5},{e:1281474e6,s:126964086e4},{e:1312146e6,s:130160886e4},{e:13481784e5,s:13330584e5},{e:13802292e5,s:1364508e6},{e:1414098e6,s:13959576e5}]},{name:"Asia/Irkutsk",rules:[{e:12249576e5,s:12068136e5},{e:12564072e5,s:12382632e5},{e:12884616e5,s:12697128e5},!1,!1,!1,!1]},{name:"Asia/Jerusalem",rules:[{e:12231612e5,s:12066624e5},{e:1254006e6,s:1238112e6},{e:1284246e6,s:12695616e5},{e:131751e7,s:1301616e6},{e:13483548e5,s:13330656e5},{e:13828284e5,s:13645152e5},{e:1414278e6,s:13959648e5}]},{name:"Asia/Kamchatka",rules:[{e:12249432e5,s:12067992e5},{e:12563928e5,s:12382488e5},{e:12884508e5,s:12696984e5},!1,!1,!1,!1]},{name:"Asia/Krasnoyarsk",rules:[{e:12249612e5,s:12068172e5},{e:12564108e5,s:12382668e5},{e:12884652e5,s:12697164e5},!1,!1,!1,!1]},{name:"Asia/Omsk",rules:[{e:12249648e5,s:12068208e5},{e:12564144e5,s:12382704e5},{e:12884688e5,s:126972e7},!1,!1,!1,!1]},{name:"Asia/Vladivostok",rules:[{e:12249504e5,s:12068064e5},{e:12564e8,s:1238256e6},{e:12884544e5,s:12697056e5},!1,!1,!1,!1]},{name:"Asia/Yakutsk",rules:[{e:1224954e6,s:120681e7},{e:12564036e5,s:12382596e5},{e:1288458e6,s:12697092e5},!1,!1,!1,!1]},{name:"Asia/Yekaterinburg",rules:[{e:12249684e5,s:12068244e5},{e:1256418e6,s:1238274e6},{e:12884724e5,s:12697236e5},!1,!1,!1,!1]},{name:"Asia/Yerevan",rules:[{e:1224972e6,s:1206828e6},{e:12564216e5,s:12382776e5},{e:1288476e6,s:12697272e5},{e:13199256e5,s:13011768e5},!1,!1,!1]},{name:"Australia/Lord_Howe",rules:[{e:12074076e5,s:12231342e5},{e:12388572e5,s:12545838e5},{e:12703068e5,s:12860334e5},{e:13017564e5,s:1317483e6},{e:1333206e6,s:13495374e5},{e:13652604e5,s:1380987e6},{e:139671e7,s:14124366e5}]},{name:"Australia/Perth",rules:[{e:12068136e5,s:12249576e5},!1,!1,!1,!1,!1,!1]},{name:"Europe/Helsinki",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]},{name:"Europe/Minsk",rules:[{e:12249792e5,s:12068352e5},{e:12564288e5,s:12382848e5},{e:12884832e5,s:12697344e5},!1,!1,!1,!1]},{name:"Europe/Moscow",rules:[{e:12249756e5,s:12068316e5},{e:12564252e5,s:12382812e5},{e:12884796e5,s:12697308e5},!1,!1,!1,!1]},{name:"Pacific/Apia",rules:[!1,!1,!1,{e:13017528e5,s:13168728e5},{e:13332024e5,s:13489272e5},{e:13652568e5,s:13803768e5},{e:13967064e5,s:14118264e5}]},{name:"Pacific/Fiji",rules:[!1,!1,{e:12696984e5,s:12878424e5},{e:13271544e5,s:1319292e6},{e:1358604e6,s:13507416e5},{e:139005e7,s:1382796e6},{e:14215032e5,s:14148504e5}]},{name:"Europe/London",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]}]},void 0!==e&&void 0!==e.exports?e.exports=a:null!==n(355)&&null!=n(206)?void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r):window.jstz=a},function(e,t,n){var r=n(208),a=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}},function(e,t,n){var r=n(48)(n(25),"WeakMap");e.exports=r},function(e,t,n){var r=n(48)(n(25),"Set");e.exports=r},function(e,t,n){var r=n(48)(n(25),"Promise");e.exports=r},function(e,t,n){var r=n(48)(n(25),"DataView");e.exports=r},function(e,t,n){var r=n(209)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(144),a=n(362),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(75),a=n(139),o=n(49),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&a(e.length)&&!!i[r(e)]}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(75),a=n(49),o="[object Arguments]";e.exports=function(e){return a(e)&&r(e)==o}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(214),a=1,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,s,u){var l=n&a,c=r(e),d=c.length;if(d!=r(t).length&&!l)return!1;for(var f=d;f--;){var p=c[f];if(!(l?p in t:o.call(t,p)))return!1}var h=u.get(e);if(h&&u.get(t))return h==t;var m=!0;u.set(e,t),u.set(t,e);for(var v=l;++f<d;){var y=e[p=c[f]],g=t[p];if(i)var b=l?i(g,y,p,t,e,u):i(y,g,p,e,t,u);if(!(void 0===b?y===g||s(y,g,n,i,u):b)){m=!1;break}v||(v="constructor"==p)}if(m&&!v){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(m=!1)}return u.delete(e),u.delete(t),m}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},function(e,t,n){var r=n(81),a=n(215),o=n(96),i=n(184),s=n(370),u=n(369),l=1,c=2,d="[object Boolean]",f="[object Date]",p="[object Error]",h="[object Map]",m="[object Number]",v="[object RegExp]",y="[object Set]",g="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",w="[object DataView]",E=r?r.prototype:void 0,k=E?E.valueOf:void 0;e.exports=function(e,t,n,r,E,S,O){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!S(new a(e),new a(t)));case d:case f:case m:return o(+e,+t);case p:return e.name==t.name&&e.message==t.message;case v:case g:return e==t+"";case h:var C=s;case y:var D=r&l;if(C||(C=u),e.size!=t.size&&!D)return!1;var T=O.get(e);if(T)return T==t;r|=c,O.set(e,t);var M=i(C(e),C(t),r,E,S,O);return O.delete(e),M;case b:if(k)return k.call(e)==k.call(t)}return!1}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}},function(e,t,n){var r=n(82);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},function(e,t,n){var r=n(82);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(82);e.exports=function(e){return r(this,e).get(e)}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(82);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t,n){var r=n(83),a="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?a:t,this}},function(e,t,n){var r=n(83),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},function(e,t,n){var r=n(83),a="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===a?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(83);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t,n){var r=n(384),a=n(383),o=n(382),i=n(381),s=n(380);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=a,u.prototype.get=o,u.prototype.has=i,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(385),a=n(85),o=n(95);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||a),string:new r}}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(25)["__core-js_shared__"];e.exports=r},function(e,t,n){var r,a=n(388),o=(r=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(81),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var a=i.call(e);return r&&(t?e[s]=n:delete e[s]),a}},function(e,t,n){var r=n(187),a=n(389),o=n(44),i=n(185),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,d=l.hasOwnProperty,f=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||a(e))&&(r(e)?f:s).test(i(e))}},function(e,t,n){var r=n(85),a=n(95),o=n(140),i=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!a||s.length<i-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t,n){var r=n(85);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t,n){var r=n(84);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},function(e,t,n){var r=n(84);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(84);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(84),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():a.call(t,n,1),--this.size,0))}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(188),a=n(184),o=n(371),i=n(368),s=n(133),u=n(50),l=n(138),c=n(183),d=1,f="[object Arguments]",p="[object Array]",h="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,y,g){var b=u(e),_=u(t),w=b?p:s(e),E=_?p:s(t),k=(w=w==f?h:w)==h,S=(E=E==f?h:E)==h,O=w==E;if(O&&l(e)){if(!l(t))return!1;b=!0,k=!1}if(O&&!k)return g||(g=new r),b||c(e)?a(e,t,n,v,y,g):o(e,t,w,n,v,y,g);if(!(n&d)){var C=k&&m.call(e,"__wrapped__"),D=S&&m.call(t,"__wrapped__");if(C||D){var T=C?e.value():e,M=D?t.value():t;return g||(g=new r),y(T,M,n,v,g)}}return!!O&&(g||(g=new r),i(e,t,n,v,y,g))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.default=function(e,t,n,r,a){var o=l.uid(e[u.ACTIONS_REGISTRY],t+"."+n);e[u.ACTIONS_REGISTRY][o]=1;var i=s.default.for("alt/"+o),d={namespace:t,name:n,id:o,symbol:i},f=new c(e,i,r,a,d),p=f[u.ACTION_HANDLER];p.defer=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];setTimeout(function(){f[u.ACTION_HANDLER].apply(null,t)})},p[u.ACTION_KEY]=i,p.data=d;var h=e.actions[t],m=l.uid(h,n);return h[m]=p,p};var o,i=n(86),s=(o=i)&&o.__esModule?o:{default:o},u=a(n(58)),l=a(n(98)),c=function(){function e(t,n,r,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this[u.ACTION_UID]=n,this[u.ACTION_HANDLER]=r.bind(this),this.actions=a,this.actionDetails=o,this.alt=t}return r(e,[{key:"dispatch",value:function(e){this.alt.dispatch(this[u.ACTION_UID],e,this.actionDetails)}}]),e}();e.exports=t.default},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(86),i=(a=o)&&a.__esModule?a:{default:a},s=r(n(58)),u=r(n(71)),l={waitFor:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)throw new ReferenceError("Dispatch tokens not provided");var r=t;1===t.length&&(r=Array.isArray(t[0])?t[0]:t);var a=r.map(function(e){return e.dispatchToken||e});this.dispatcher.waitFor(a)},exportAsync:function(e){this.registerAsync(e)},registerAsync:function(e){var t=this,n=0,r=u.isFunction(e)?e(this.alt):e,a=Object.keys(r).reduce(function(e,a){var o=r[a],i=u.isFunction(o)?o(t):o;return["success","error","loading"].forEach(function(e){if(i[e]&&!i[e][s.ACTION_KEY])throw new Error(e+" handler must be an action function")}),e[a]=function(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];var o=t.getInstance().getState(),s=i.local&&i.local.apply(i,[o].concat(r)),u=i.shouldFetch?i.shouldFetch.apply(i,[o].concat(r)):null==s,l=i.interceptResponse||function(e){return e},c=function(e,t){return function(a){var o=function(){if(n-=1,e(l(a,e,r)),t)throw a};return"undefined"==typeof window?function(){return o()}:o()}};if(u)return n+=1,i.loading&&i.loading(l(null,i.loading,r)),i.remote.apply(i,[o].concat(r)).catch(c(i.error,1)).then(c(i.success));t.emitChange()},e},{});this.exportPublicMethods(a),this.exportPublicMethods({isLoading:function(){return n>0}})},exportPublicMethods:function(e){var t=this;u.eachObject(function(e,n){if(!u.isFunction(n))throw new TypeError("exportPublicMethods expects a function");t[s.PUBLIC_METHODS][e]=n},[e])},emitChange:function(){this.getInstance().emitChange()},on:function(e,t){"error"===e&&(this[s.HANDLING_ERRORS]=!0),this[s.LIFECYCLE].on(e,t.bind(this))},bindAction:function(e,t){if(!e)throw new ReferenceError("Invalid action reference passed in");if(!u.isFunction(t))throw new TypeError("bindAction expects a function");if(t.length>1)throw new TypeError("Action handler in store "+this._storeName+" for "+(e[s.ACTION_KEY]||e).toString()+" was defined with two parameters. Only a single parameter is passed through the dispatcher, did you mean to pass in an Object instead?");var n=e[s.ACTION_KEY]?e[s.ACTION_KEY]:e;this[s.LISTENERS][n]=t.bind(this),this[s.ALL_LISTENERS].push(i.default.keyFor(n))},bindActions:function(e){var t=this;u.eachObject(function(e,n){var r=e.replace(/./,function(e){return"on"+e[0].toUpperCase()}),a=null;if(t[e]&&t[r])throw new ReferenceError("You have multiple action handlers bound to an action: "+e+" and "+r);t[e]?a=t[e]:t[r]&&(a=t[r]),a&&t.bindAction(n,a)},[e])},bindListeners:function(e){var t=this;u.eachObject(function(e,n){var r=t[e];if(!r)throw new ReferenceError(e+" defined but does not exist in "+t._storeName);Array.isArray(n)?n.forEach(function(e){t.bindAction(e,r)}):t.bindAction(n,r)},[e])}};t.default=l,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}var i=o(n(191)),s=o(n(86)),u=a(n(58)),l=a(n(71)),c=(0,s.default)(),d=function(){function e(t,n,r,a){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this[c]=new i.default,this[u.LIFECYCLE]=n[u.LIFECYCLE],this[u.STATE_CONTAINER]=r||n,this.preventDefault=!1,this._storeName=n._storeName,this.boundListeners=n[u.ALL_LISTENERS],this.StoreModel=a;var s=n.output||function(e){return e};this.emitChange=function(){o[c].emit("change",s.call(n,o[u.STATE_CONTAINER]))};var d=function(e,t){try{return e()}catch(e){if(n[u.HANDLING_ERRORS])return o[u.LIFECYCLE].emit("error",e,t,o[u.STATE_CONTAINER]),!1;throw e}};l.assign(this,n[u.PUBLIC_METHODS]),this.dispatchToken=t.dispatcher.register(function(e){o.preventDefault=!1,o[u.LIFECYCLE].emit("beforeEach",e,o[u.STATE_CONTAINER]);var t=n[u.LISTENERS][e.action]||n.otherwise;t&&(!1===d(function(){return t.call(n,e.data,e.action)},e)||o.preventDefault||o.emitChange());n.reduce&&(d(function(){n.setState(n.reduce(o[u.STATE_CONTAINER],e))},e),o.preventDefault||o.emitChange()),o[u.LIFECYCLE].emit("afterEach",e,o[u.STATE_CONTAINER])}),this[u.LIFECYCLE].emit("init")}return r(e,[{key:"getEventEmitter",value:function(){return this[c]}},{key:"listen",value:function(e){var t=this;return this[c].on("change",e),function(){return t.unlisten(e)}}},{key:"unlisten",value:function(e){if(!e)throw new TypeError("Unlisten must receive a function");this[u.LIFECYCLE].emit("unlisten"),this[c].removeListener("change",e)}},{key:"getState",value:function(){return this.StoreModel.config.getState.call(this,this[u.STATE_CONTAINER])}}]),e}();t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Function.prototype.bind,a=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;l=u=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0}};function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}t.createStoreConfig=function(e,t){t.config=c.assign({getState:function(e){return c.assign({},e)},setState:c.assign},e,t.config)},t.transformStore=function(e,t){return e.reduce(function(e,t){return t(e)},t)},t.createStoreFromObject=function(e,t,n){var r=void 0,a=h({},e,n,c.assign({getInstance:function(){return r},setState:function(e){p(this,r,e)}},t));a.bindListeners&&f.default.bindListeners.call(a,a.bindListeners);a.observe&&f.default.bindListeners.call(a,a.observe(e));a.lifecycle&&c.eachObject(function(e,t){f.default.on.call(a,e,t)},[a.lifecycle]);return r=c.assign(new d.default(e,a,a.state||{},t),a.publicMethods,{displayName:n})},t.createStoreFromClass=function(e,t,n){for(var o=arguments.length,i=Array(o>3?o-3:0),s=3;s<o;s++)i[s-3]=arguments[s];var u=void 0,f=t.config,m=function(e){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),t}(t);h(m.prototype,e,n,{getInstance:function(){return u},setState:function(e){p(this,u,e)}});var v=new(r.apply(m,[null].concat(i)));f.bindListeners&&v.bindListeners(f.bindListeners);f.datasource&&v.registerAsync(f.datasource);return u=c.assign(new d.default(e,v,v[e.config.stateKey]||v[f.stateKey]||null,t),l.getInternalMethods(t),f.publicMethods,{displayName:n})};var s=i(n(191)),u=o(n(58)),l=o(n(98)),c=o(n(71)),d=i(n(406)),f=i(n(405));function p(e,t,n){if(n){var r=t.StoreModel.config,a=c.isFunction(n)?n(t[u.STATE_CONTAINER]):n;t[u.STATE_CONTAINER]=r.setState.call(e,t[u.STATE_CONTAINER],a),e.alt.dispatcher.isDispatching()||e.emitChange()}}function h(e,t,n,r){return e[u.ALL_LISTENERS]=[],e[u.LIFECYCLE]=new s.default,e[u.LISTENERS]={},e[u.PUBLIC_METHODS]={},c.assign(e,f.default,{_storeName:n,alt:t,dispatcher:t.dispatcher,preventDefault:function(){this.getInstance().preventDefault=!0}},r)}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.setAppState=function(e,t,n){var r=e.deserialize(t);o.eachObject(function(t,i){var s=e.stores[t];if(s){var u=s.StoreModel.config;u.onDeserialize&&(r[t]=u.onDeserialize(i)||i),o.assign(s[a.STATE_CONTAINER],r[t]),n(s)}},[r])},t.snapshot=function(e){var t=void 0===arguments[1]?[]:arguments[1];return(t.length?t:Object.keys(e.stores)).reduce(function(t,n){var r=n.displayName||n,o=e.stores[r],i=o.StoreModel.config;o[a.LIFECYCLE].emit("snapshot");var s=i.onSerialize&&i.onSerialize(o[a.STATE_CONTAINER]);return t[r]=s||o.getState(),t},{})},t.saveInitialSnapshot=function(e,t){var n=e.deserialize(e.serialize(e.stores[t][a.STATE_CONTAINER]));e[a.INIT_SNAPSHOT][t]=n,e[a.LAST_SNAPSHOT][t]=n},t.filterSnapshots=function(e,t,n){return n.reduce(function(e,n){var r=n.displayName||n;if(!t[r])throw new ReferenceError(r+" is not a valid store");return e[r]=t[r],e},{})};var a=r(n(58)),o=r(n(71))},function(e,t,n){"use strict";e.exports=function(e,t,n,r,a,o,i,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,a,o,i,s],c=0;u=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return l[c++]}))}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";var r=n(409),a=1;function o(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}o.prototype.register=function(e){var t="ID_"+a++;return this.$Dispatcher_callbacks[t]=e,t},o.prototype.unregister=function(e){r(this.$Dispatcher_callbacks[e],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this.$Dispatcher_callbacks[e]},o.prototype.waitFor=function(e){r(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<e.length;t++){var n=e[t];this.$Dispatcher_isPending[n]?r(this.$Dispatcher_isHandled[n],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):(r(this.$Dispatcher_callbacks[n],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n),this.$Dispatcher_invokeCallback(n))}},o.prototype.dispatch=function(e){r(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(e);try{for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]||this.$Dispatcher_invokeCallback(t)}finally{this.$Dispatcher_stopDispatching()}},o.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},o.prototype.$Dispatcher_invokeCallback=function(e){this.$Dispatcher_isPending[e]=!0,this.$Dispatcher_callbacks[e](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[e]=!0},o.prototype.$Dispatcher_startDispatching=function(e){for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]=!1,this.$Dispatcher_isHandled[t]=!1;this.$Dispatcher_pendingPayload=e,this.$Dispatcher_isDispatching=!0},o.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},e.exports=o},function(e,t,n){e.exports.Dispatcher=n(410)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Function.prototype.bind,a=function(e,t,n){for(var r=!0;r;){var a=e,o=t,i=n;l=u=void 0,r=!1;var s=Object.getOwnPropertyDescriptor(a,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(i)}var l=Object.getPrototypeOf(a);if(null===l)return;e=l,t=o,n=i,r=!0}},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u,l=n(411),c=i(n(408)),d=i(n(58)),f=i(n(71)),p=i(n(407)),h=i(n(98)),m=n(404),v=(u=m)&&u.__esModule?u:{default:u},y=function(){function e(){var t=void 0===arguments[0]?{}:arguments[0];s(this,e),this.config=t,this.serialize=t.serialize||JSON.stringify,this.deserialize=t.deserialize||JSON.parse,this.dispatcher=t.dispatcher||new l.Dispatcher,this.batchingFunction=t.batchingFunction||function(e){return e()},this.actions={global:{}},this.stores={},this.storeTransforms=t.storeTransforms||[],this[d.ACTIONS_REGISTRY]={},this[d.INIT_SNAPSHOT]={},this[d.LAST_SNAPSHOT]={}}return o(e,[{key:"dispatch",value:function(e,t,n){var r=this;this.batchingFunction(function(){return r.dispatcher.dispatch({action:e,data:t,details:n})})}},{key:"createUnsavedStore",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=e.displayName||"";p.createStoreConfig(this.config,e);var o=p.transformStore(this.storeTransforms,e);return f.isFunction(o)?p.createStoreFromClass.apply(p,[this,o,a].concat(n)):p.createStoreFromObject(this,o,a)}},{key:"createStore",value:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var o=t||e.displayName||e.name||"";p.createStoreConfig(this.config,e);var i=p.transformStore(this.storeTransforms,e);!this.stores[o]&&o||(this.stores[o]?h.warn("A store named "+o+" already exists, double check your store names or pass in your own custom identifier for each store"):h.warn("Store name was not specified"),o=h.uid(this.stores,o));var s=f.isFunction(i)?p.createStoreFromClass.apply(p,[this,i,o].concat(r)):p.createStoreFromObject(this,i,o);return this.stores[o]=s,c.saveInitialSnapshot(this,o),s}},{key:"generateActions",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.createActions(t.reduce(function(e,t){return e[t]=h.dispatchIdentity,e},{name:"global"}))}},{key:"createAction",value:function(e,t,n){return(0,v.default)(this,"global",e,t,n)}},{key:"createActions",value:function(e){for(var t=arguments.length,n=Array(t>2?t-2:0),i=2;i<t;i++)n[i-2]=arguments[i];var u=this,l=void 0===arguments[1]?{}:arguments[1],c={},p=h.uid(this[d.ACTIONS_REGISTRY],e.displayName||e.name||"Unknown");return f.isFunction(e)?function(){f.assign(c,h.getInternalMethods(e,!0));var t=function(t){function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];s(this,n),a(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(n,e),o(n,[{key:"generateActions",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){c[e]=h.dispatchIdentity})}}]),n}();f.assign(c,new(r.apply(t,[null].concat(n))))}():f.assign(c,e),this.actions[p]=this.actions[p]||{},f.eachObject(function(e,t){if(f.isFunction(t)){l[e]=(0,v.default)(u,p,e,t,l);var n=h.formatAsConstant(e);l[n]=l[e][d.ACTION_KEY]}},[c]),l}},{key:"takeSnapshot",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=c.snapshot(this,t);return f.assign(this[d.LAST_SNAPSHOT],r),this.serialize(r)}},{key:"rollback",value:function(){c.setAppState(this,this.serialize(this[d.LAST_SNAPSHOT]),function(e){e[d.LIFECYCLE].emit("rollback"),e.emitChange()})}},{key:"recycle",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.length?c.filterSnapshots(this,this[d.INIT_SNAPSHOT],t):this[d.INIT_SNAPSHOT];c.setAppState(this,this.serialize(r),function(e){e[d.LIFECYCLE].emit("init"),e.emitChange()})}},{key:"flush",value:function(){var e=this.serialize(c.snapshot(this));return this.recycle(),e}},{key:"bootstrap",value:function(e){c.setAppState(this,e,function(e){e[d.LIFECYCLE].emit("bootstrap"),e.emitChange()})}},{key:"prepare",value:function(e,t){var n={};if(!e.displayName)throw new ReferenceError("Store provided does not have a name");return n[e.displayName]=t,this.serialize(n)}},{key:"addActions",value:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];this.actions[e]=Array.isArray(t)?this.generateActions.apply(this,t):this.createActions.apply(this,[t].concat(r))}},{key:"addStore",value:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];this.createStore.apply(this,[t,e].concat(r))}},{key:"getActions",value:function(e){return this.actions[e]}},{key:"getStore",value:function(e){return this.stores[e]}}],[{key:"debug",value:function(e,t){var n="alt.js.org";return"undefined"!=typeof window&&(window[n]=window[n]||[],window[n].push({name:e,alt:t})),t}}]),e}();t.default=y,e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},function(e,t,n){"use strict";var r=n(413);e.exports=function(e){return r(e)&&3==e.nodeType}},function(e,t,n){"use strict";var r=n(414);e.exports=function e(t,n){return!(!t||!n)&&(t===n||!r(t)&&(r(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function a(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(a(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var i=0;i<n.length;i++)if(!r.call(t,n[i])||!a(e[n[i]],t[n[i]]))return!1;return!0}},function(e,t,n){"use strict";e.exports=function(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),a={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=a},function(e,t,n){"use strict";
/** @license React v16.4.0
 * react-dom.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(100),a=n(1),o=n(418),i=n(16),s=n(99),u=n(417),l=n(416),c=n(415),d=n(192);function f(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=0;a<t;a++)n+="&args[]="+encodeURIComponent(arguments[a+1]);r(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}a||f("227");var p={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(e,t,n,r,a,o,i,s,u){(function(e,t,n,r,a,o,i,s,u){this._hasCaughtError=!1,this._caughtError=null;var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this._caughtError=e,this._hasCaughtError=!0}}).apply(p,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,n,r,a,o,i,s,u){if(p.invokeGuardedCallback.apply(this,arguments),p.hasCaughtError()){var l=p.clearCaughtError();p._hasRethrowError||(p._hasRethrowError=!0,p._rethrowError=l)}},rethrowCaughtError:function(){return function(){if(p._hasRethrowError){var e=p._rethrowError;throw p._rethrowError=null,p._hasRethrowError=!1,e}}.apply(p,arguments)},hasCaughtError:function(){return p._hasCaughtError},clearCaughtError:function(){if(p._hasCaughtError){var e=p._caughtError;return p._caughtError=null,p._hasCaughtError=!1,e}f("198")}};var h=null,m={};function v(){if(h)for(var e in m){var t=m[e],n=h.indexOf(e);if(-1<n||f("96",e),!g[n])for(var r in t.extractEvents||f("97",e),g[n]=t,n=t.eventTypes){var a=void 0,o=n[r],i=t,s=r;b.hasOwnProperty(s)&&f("99",s),b[s]=o;var u=o.phasedRegistrationNames;if(u){for(a in u)u.hasOwnProperty(a)&&y(u[a],i,s);a=!0}else o.registrationName?(y(o.registrationName,i,s),a=!0):a=!1;a||f("98",r,e)}}}function y(e,t,n){_[e]&&f("100",e),_[e]=t,w[e]=t.eventTypes[n].dependencies}var g=[],b={},_={},w={};function E(e){h&&f("101"),h=Array.prototype.slice.call(e),v()}function k(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];m.hasOwnProperty(t)&&m[t]===r||(m[t]&&f("102",t),m[t]=r,n=!0)}n&&v()}var S={plugins:g,eventNameDispatchConfigs:b,registrationNameModules:_,registrationNameDependencies:w,possibleRegistrationNames:null,injectEventPluginOrder:E,injectEventPluginsByName:k},O=null,C=null,D=null;function T(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=D(r),p.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function M(e,t){return null==t&&f("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function P(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var x=null;function j(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var a=0;a<n.length&&!e.isPropagationStopped();a++)T(e,t,n[a],r[a]);else n&&T(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function N(e){return j(e,!0)}function A(e){return j(e,!1)}var R={injectEventPluginOrder:E,injectEventPluginsByName:k};function L(e,t){var n=e.stateNode;if(!n)return null;var r=O(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&f("231",t,typeof n),n)}function I(e,t){null!==e&&(x=M(x,e)),e=x,x=null,e&&(P(e,t?N:A),x&&f("95"),p.rethrowCaughtError())}function F(e,t,n,r){for(var a=null,o=0;o<g.length;o++){var i=g[o];i&&(i=i.extractEvents(e,t,n,r))&&(a=M(a,i))}I(a,!1)}var Y={injection:R,getListener:L,runEventsInBatch:I,runExtractedEventsInBatch:F},U=Math.random().toString(36).slice(2),H="__reactInternalInstance$"+U,V="__reactEventHandlers$"+U;function B(e){if(e[H])return e[H];for(;!e[H];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[H]).tag||6===e.tag?e:null}function W(e){if(5===e.tag||6===e.tag)return e.stateNode;f("33")}function z(e){return e[V]||null}var G={precacheFiberNode:function(e,t){t[H]=e},getClosestInstanceFromNode:B,getInstanceFromNode:function(e){return!(e=e[H])||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:W,getFiberCurrentPropsFromNode:z,updateFiberProps:function(e,t){e[V]=t}};function q(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function K(e,t,n){for(var r=[];e;)r.push(e),e=q(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function $(e,t,n){(t=L(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=M(n._dispatchListeners,t),n._dispatchInstances=M(n._dispatchInstances,e))}function J(e){e&&e.dispatchConfig.phasedRegistrationNames&&K(e._targetInst,$,e)}function Q(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;K(t=t?q(t):null,$,e)}}function X(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=L(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=M(n._dispatchListeners,t),n._dispatchInstances=M(n._dispatchInstances,e))}function Z(e){e&&e.dispatchConfig.registrationName&&X(e._targetInst,null,e)}function ee(e){P(e,J)}function te(e,t,n,r){if(n&&r)e:{for(var a=n,o=r,i=0,s=a;s;s=q(s))i++;s=0;for(var u=o;u;u=q(u))s++;for(;0<i-s;)a=q(a),i--;for(;0<s-i;)o=q(o),s--;for(;i--;){if(a===o||a===o.alternate)break e;a=q(a),o=q(o)}a=null}else a=null;for(o=a,a=[];n&&n!==o&&(null===(i=n.alternate)||i!==o);)a.push(n),n=q(n);for(n=[];r&&r!==o&&(null===(i=r.alternate)||i!==o);)n.push(r),r=q(r);for(r=0;r<a.length;r++)X(a[r],"bubbled",e);for(e=n.length;0<e--;)X(n[e],"captured",t)}var ne={accumulateTwoPhaseDispatches:ee,accumulateTwoPhaseDispatchesSkipTarget:function(e){P(e,Q)},accumulateEnterLeaveDispatches:te,accumulateDirectDispatches:function(e){P(e,Z)}};function re(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}var ae={animationend:re("Animation","AnimationEnd"),animationiteration:re("Animation","AnimationIteration"),animationstart:re("Animation","AnimationStart"),transitionend:re("Transition","TransitionEnd")},oe={},ie={};function se(e){if(oe[e])return oe[e];if(!ae[e])return e;var t,n=ae[e];for(t in n)if(n.hasOwnProperty(t)&&t in ie)return oe[e]=n[t];return e}o.canUseDOM&&(ie=document.createElement("div").style,"AnimationEvent"in window||(delete ae.animationend.animation,delete ae.animationiteration.animation,delete ae.animationstart.animation),"TransitionEvent"in window||delete ae.transitionend.transition);var ue=se("animationend"),le=se("animationiteration"),ce=se("animationstart"),de=se("transitionend"),fe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pe=null;function he(){return!pe&&o.canUseDOM&&(pe="textContent"in document.documentElement?"textContent":"innerText"),pe}var me={_root:null,_startText:null,_fallbackText:null};function ve(){if(me._fallbackText)return me._fallbackText;var e,t,n=me._startText,r=n.length,a=ye(),o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return me._fallbackText=a.slice(e,1<t?1-t:void 0),me._fallbackText}function ye(){return"value"in me._root?me._root.value:me._root[he()]}var ge="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),be={type:null,target:null,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function _e(e,t,n,r){for(var a in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(a)&&((t=e[a])?this[a]=t(n):"target"===a?this.target=r:this[a]=n[a]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?s.thatReturnsTrue:s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse,this}function we(e,t,n,r){if(this.eventPool.length){var a=this.eventPool.pop();return this.call(a,e,t,n,r),a}return new this(e,t,n,r)}function Ee(e){e instanceof this||f("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function ke(e){e.eventPool=[],e.getPooled=we,e.release=Ee}i(_e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=s.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=s.thatReturnsTrue)},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<ge.length;t++)this[ge[t]]=null}}),_e.Interface=be,_e.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,ke(n),n},ke(_e);var Se=_e.extend({data:null}),Oe=_e.extend({data:null}),Ce=[9,13,27,32],De=o.canUseDOM&&"CompositionEvent"in window,Te=null;o.canUseDOM&&"documentMode"in document&&(Te=document.documentMode);var Me=o.canUseDOM&&"TextEvent"in window&&!Te,Pe=o.canUseDOM&&(!De||Te&&8<Te&&11>=Te),xe=String.fromCharCode(32),je={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ne=!1;function Ae(e,t){switch(e){case"keyup":return-1!==Ce.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Re(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Le=!1;var Ie={eventTypes:je,extractEvents:function(e,t,n,r){var a=void 0,o=void 0;if(De)e:{switch(e){case"compositionstart":a=je.compositionStart;break e;case"compositionend":a=je.compositionEnd;break e;case"compositionupdate":a=je.compositionUpdate;break e}a=void 0}else Le?Ae(e,n)&&(a=je.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=je.compositionStart);return a?(Pe&&(Le||a!==je.compositionStart?a===je.compositionEnd&&Le&&(o=ve()):(me._root=r,me._startText=ye(),Le=!0)),a=Se.getPooled(a,t,n,r),o?a.data=o:null!==(o=Re(n))&&(a.data=o),ee(a),o=a):o=null,(e=Me?function(e,t){switch(e){case"compositionend":return Re(t);case"keypress":return 32!==t.which?null:(Ne=!0,xe);case"textInput":return(e=t.data)===xe&&Ne?null:e;default:return null}}(e,n):function(e,t){if(Le)return"compositionend"===e||!De&&Ae(e,t)?(e=ve(),me._root=null,me._startText=null,me._fallbackText=null,Le=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pe?null:t.data;default:return null}}(e,n))?((t=Oe.getPooled(je.beforeInput,t,n,r)).data=e,ee(t)):t=null,null===o?t:null===t?o:[o,t]}},Fe=null,Ye={injectFiberControlledHostComponent:function(e){Fe=e}},Ue=null,He=null;function Ve(e){if(e=C(e)){Fe&&"function"==typeof Fe.restoreControlledState||f("194");var t=O(e.stateNode);Fe.restoreControlledState(e.stateNode,e.type,t)}}function Be(e){Ue?He?He.push(e):He=[e]:Ue=e}function We(){return null!==Ue||null!==He}function ze(){if(Ue){var e=Ue,t=He;if(He=Ue=null,Ve(e),t)for(e=0;e<t.length;e++)Ve(t[e])}}var Ge={injection:Ye,enqueueStateRestore:Be,needsStateRestore:We,restoreStateIfNeeded:ze};function qe(e,t){return e(t)}function Ke(e,t,n){return e(t,n)}function $e(){}var Je=!1;function Qe(e,t){if(Je)return e(t);Je=!0;try{return qe(e,t)}finally{Je=!1,We()&&($e(),ze())}}var Xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ze(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Xe[e.type]:"textarea"===t}function et(e){return(e=e.target||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function tt(e,t){return!(!o.canUseDOM||t&&!("addEventListener"in document))&&((t=(e="on"+e)in document)||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t)}function nt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function rt(e){e._valueTracker||(e._valueTracker=function(e){var t=nt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function at(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=nt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var ot=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,it="function"==typeof Symbol&&Symbol.for,st=it?Symbol.for("react.element"):60103,ut=it?Symbol.for("react.portal"):60106,lt=it?Symbol.for("react.fragment"):60107,ct=it?Symbol.for("react.strict_mode"):60108,dt=it?Symbol.for("react.profiler"):60114,ft=it?Symbol.for("react.provider"):60109,pt=it?Symbol.for("react.context"):60110,ht=it?Symbol.for("react.async_mode"):60111,mt=it?Symbol.for("react.forward_ref"):60112,vt=it?Symbol.for("react.timeout"):60113,yt="function"==typeof Symbol&&Symbol.iterator;function gt(e){return null===e||void 0===e?null:"function"==typeof(e=yt&&e[yt]||e["@@iterator"])?e:null}function bt(e){var t=e.type;if("function"==typeof t)return t.displayName||t.name;if("string"==typeof t)return t;switch(t){case ht:return"AsyncMode";case pt:return"Context.Consumer";case lt:return"ReactFragment";case ut:return"ReactPortal";case dt:return"Profiler("+e.pendingProps.id+")";case ft:return"Context.Provider";case ct:return"StrictMode";case vt:return"Timeout"}if("object"==typeof t&&null!==t)switch(t.$$typeof){case mt:return""!==(e=t.render.displayName||t.render.name||"")?"ForwardRef("+e+")":"ForwardRef"}return null}function _t(e){var t="";do{e:switch(e.tag){case 0:case 1:case 2:case 5:var n=e._debugOwner,r=e._debugSource,a=bt(e),o=null;n&&(o=bt(n)),n=r,a="\n    in "+(a||"Unknown")+(n?" (at "+n.fileName.replace(/^.*[\\\/]/,"")+":"+n.lineNumber+")":o?" (created by "+o+")":"");break e;default:a=""}t+=a,e=e.return}while(e);return t}var wt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Et={},kt={};function St(e,t,n,r,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ot[e]=new St(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ot[t]=new St(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ot[e]=new St(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(e){Ot[e]=new St(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ot[e]=new St(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){Ot[e]=new St(e,3,!0,e.toLowerCase(),null)}),["capture","download"].forEach(function(e){Ot[e]=new St(e,4,!1,e.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(e){Ot[e]=new St(e,6,!1,e.toLowerCase(),null)}),["rowSpan","start"].forEach(function(e){Ot[e]=new St(e,5,!1,e.toLowerCase(),null)});var Ct=/[\-:]([a-z])/g;function Dt(e){return e[1].toUpperCase()}function Tt(e,t,n,r){var a=Ot.hasOwnProperty(t)?Ot[t]:null;(null!==a?0===a.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||void 0===t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!kt.hasOwnProperty(e)||!Et.hasOwnProperty(e)&&(wt.test(e)?kt[e]=!0:(Et[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function Mt(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Pt(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Rt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function xt(e,t){null!=(t=t.checked)&&Tt(e,"checked",t,!1)}function jt(e,t){xt(e,t);var n=Rt(t.value);null!=n&&("number"===t.type?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n)),t.hasOwnProperty("value")?At(e,t.type,n):t.hasOwnProperty("defaultValue")&&At(e,t.type,Rt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Nt(e,t){(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue"))&&(""===e.value&&(e.value=""+e._wrapperState.initialValue),e.defaultValue=""+e._wrapperState.initialValue),""!==(t=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==t&&(e.name=t)}function At(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Rt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ct,Dt);Ot[t]=new St(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ct,Dt);Ot[t]=new St(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ct,Dt);Ot[t]=new St(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),Ot.tabIndex=new St("tabIndex",1,!1,"tabindex",null);var Lt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function It(e,t,n){return(e=_e.getPooled(Lt.change,e,t,n)).type="change",Be(n),ee(e),e}var Ft=null,Yt=null;function Ut(e){I(e,!1)}function Ht(e){if(at(W(e)))return e}function Vt(e,t){if("change"===e)return t}var Bt=!1;function Wt(){Ft&&(Ft.detachEvent("onpropertychange",zt),Yt=Ft=null)}function zt(e){"value"===e.propertyName&&Ht(Yt)&&Qe(Ut,e=It(Yt,e,et(e)))}function Gt(e,t,n){"focus"===e?(Wt(),Yt=n,(Ft=t).attachEvent("onpropertychange",zt)):"blur"===e&&Wt()}function qt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ht(Yt)}function Kt(e,t){if("click"===e)return Ht(t)}function $t(e,t){if("input"===e||"change"===e)return Ht(t)}o.canUseDOM&&(Bt=tt("input")&&(!document.documentMode||9<document.documentMode));var Jt={eventTypes:Lt,_isInputEventSupported:Bt,extractEvents:function(e,t,n,r){var a=t?W(t):window,o=void 0,i=void 0,s=a.nodeName&&a.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===a.type?o=Vt:Ze(a)?Bt?o=$t:(o=qt,i=Gt):(s=a.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(o=Kt),o&&(o=o(e,t)))return It(o,n,r);i&&i(e,a,t),"blur"===e&&null!=t&&(e=t._wrapperState||a._wrapperState)&&e.controlled&&"number"===a.type&&At(a,"number",a.value)}},Qt=_e.extend({view:null,detail:null}),Xt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Xt[e])&&!!t[e]}function en(){return Zt}var tn=Qt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:en,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}}),nn=tn.extend({pointerId:null,width:null,height:null,pressure:null,tiltX:null,tiltY:null,pointerType:null,isPrimary:null}),rn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},an={eventTypes:rn,extractEvents:function(e,t,n,r){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;if(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?B(t):null):o=null,o===t)return null;var i=void 0,s=void 0,u=void 0,l=void 0;return"mouseout"===e||"mouseover"===e?(i=tn,s=rn.mouseLeave,u=rn.mouseEnter,l="mouse"):"pointerout"!==e&&"pointerover"!==e||(i=nn,s=rn.pointerLeave,u=rn.pointerEnter,l="pointer"),e=null==o?a:W(o),a=null==t?a:W(t),(s=i.getPooled(s,o,n,r)).type=l+"leave",s.target=e,s.relatedTarget=a,(n=i.getPooled(u,t,n,r)).type=l+"enter",n.target=a,n.relatedTarget=e,te(s,n,o,t),[s,n]}};function on(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function sn(e){2!==on(e)&&f("188")}function un(e){var t=e.alternate;if(!t)return 3===(t=on(e))&&f("188"),1===t?null:e;for(var n=e,r=t;;){var a=n.return,o=a?a.alternate:null;if(!a||!o)break;if(a.child===o.child){for(var i=a.child;i;){if(i===n)return sn(a),e;if(i===r)return sn(a),t;i=i.sibling}f("188")}if(n.return!==r.return)n=a,r=o;else{i=!1;for(var s=a.child;s;){if(s===n){i=!0,n=a,r=o;break}if(s===r){i=!0,r=a,n=o;break}s=s.sibling}if(!i){for(s=o.child;s;){if(s===n){i=!0,n=o,r=a;break}if(s===r){i=!0,r=o,n=a;break}s=s.sibling}i||f("189")}}n.alternate!==r&&f("190")}return 3!==n.tag&&f("188"),n.stateNode.current===n?e:t}function ln(e){if(!(e=un(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var cn=_e.extend({animationName:null,elapsedTime:null,pseudoElement:null}),dn=_e.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fn=Qt.extend({relatedTarget:null});function pn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vn=Qt.extend({key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=pn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:en,charCode:function(e){return"keypress"===e.type?pn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?pn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),yn=tn.extend({dataTransfer:null}),gn=Qt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:en}),bn=_e.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),_n=tn.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),wn=[["abort","abort"],[ue,"animationEnd"],[le,"animationIteration"],[ce,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[de,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],En={},kn={};function Sn(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},En[e]=t,kn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){Sn(e,!0)}),wn.forEach(function(e){Sn(e,!1)});var On={eventTypes:En,isInteractiveTopLevelEventType:function(e){return void 0!==(e=kn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var a=kn[e];if(!a)return null;switch(e){case"keypress":if(0===pn(n))return null;case"keydown":case"keyup":e=vn;break;case"blur":case"focus":e=fn;break;case"click":if(2===n.button)return null;case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=gn;break;case ue:case le:case ce:e=cn;break;case de:e=bn;break;case"scroll":e=Qt;break;case"wheel":e=_n;break;case"copy":case"cut":case"paste":e=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=nn;break;default:e=_e}return ee(t=e.getPooled(a,t,n,r)),t}},Cn=On.isInteractiveTopLevelEventType,Dn=[];function Tn(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(t),t=B(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],F(e.topLevelType,t,e.nativeEvent,et(e.nativeEvent))}var Mn=!0;function Pn(e){Mn=!!e}function xn(e,t){if(!t)return null;var n=(Cn(e)?Nn:An).bind(null,e);t.addEventListener(e,n,!1)}function jn(e,t){if(!t)return null;var n=(Cn(e)?Nn:An).bind(null,e);t.addEventListener(e,n,!0)}function Nn(e,t){Ke(An,e,t)}function An(e,t){if(Mn){var n=et(t);if(null===(n=B(n))||"number"!=typeof n.tag||2===on(n)||(n=null),Dn.length){var r=Dn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Qe(Tn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Dn.length&&Dn.push(e)}}}var Rn={get _enabled(){return Mn},setEnabled:Pn,isEnabled:function(){return Mn},trapBubbledEvent:xn,trapCapturedEvent:jn,dispatchEvent:An},Ln={},In=0,Fn="_reactListenersID"+(""+Math.random()).slice(2);function Yn(e){return Object.prototype.hasOwnProperty.call(e,Fn)||(e[Fn]=In++,Ln[e[Fn]]={}),Ln[e[Fn]]}function Un(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hn(e,t){var n,r=Un(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Un(r)}}function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)}var Bn=o.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Wn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu focus keydown keyup mousedown mouseup selectionchange".split(" ")}},zn=null,Gn=null,qn=null,Kn=!1;function $n(e,t){if(Kn||null==zn||zn!==u())return null;var n=zn;return"selectionStart"in n&&Vn(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?n={anchorNode:(n=window.getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}:n=void 0,qn&&l(qn,n)?null:(qn=n,(e=_e.getPooled(Wn.select,Gn,e,t)).type="select",e.target=zn,ee(e),e)}var Jn={eventTypes:Wn,extractEvents:function(e,t,n,r){var a,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(a=!o)){e:{o=Yn(o),a=w.onSelect;for(var i=0;i<a.length;i++){var s=a[i];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}a=!o}if(a)return null;switch(o=t?W(t):window,e){case"focus":(Ze(o)||"true"===o.contentEditable)&&(zn=o,Gn=t,qn=null);break;case"blur":qn=Gn=zn=null;break;case"mousedown":Kn=!0;break;case"contextmenu":case"mouseup":return Kn=!1,$n(n,r);case"selectionchange":if(Bn)break;case"keydown":case"keyup":return $n(n,r)}return null}};R.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),O=G.getFiberCurrentPropsFromNode,C=G.getInstanceFromNode,D=G.getNodeFromInstance,R.injectEventPluginsByName({SimpleEventPlugin:On,EnterLeaveEventPlugin:an,ChangeEventPlugin:Jt,SelectEventPlugin:Jn,BeforeInputEventPlugin:Ie});var Qn=void 0;Qn="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};var Xn=void 0,Zn=void 0;if(o.canUseDOM){var er=[],tr=0,nr={},rr=-1,ar=!1,or=!1,ir=0,sr=33,ur=33,lr={didTimeout:!1,timeRemaining:function(){var e=ir-Qn();return 0<e?e:0}},cr=function(e,t){if(nr[t])try{e(lr)}finally{delete nr[t]}},dr="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===dr&&(ar=!1,0!==er.length)){if(0!==er.length&&(e=Qn(),!(-1===rr||rr>e))){rr=-1,lr.didTimeout=!0;for(var t=0,n=er.length;t<n;t++){var r=er[t],a=r.timeoutTime;-1!==a&&a<=e?cr(r.scheduledCallback,r.callbackId):-1!==a&&(-1===rr||a<rr)&&(rr=a)}}for(e=Qn();0<ir-e&&0<er.length;)e=er.shift(),lr.didTimeout=!1,cr(e.scheduledCallback,e.callbackId),e=Qn();0<er.length&&!or&&(or=!0,requestAnimationFrame(fr))}},!1);var fr=function(e){or=!1;var t=e-ir+ur;t<ur&&sr<ur?(8>t&&(t=8),ur=t<sr?sr:t):sr=t,ir=e+ur,ar||(ar=!0,window.postMessage(dr,"*"))};Xn=function(e,t){var n=-1;return null!=t&&"number"==typeof t.timeout&&(n=Qn()+t.timeout),(-1===rr||-1!==n&&n<rr)&&(rr=n),t=++tr,er.push({scheduledCallback:e,callbackId:t,timeoutTime:n}),nr[t]=!0,or||(or=!0,requestAnimationFrame(fr)),t},Zn=function(e){delete nr[e]}}else{var pr=0,hr={};Xn=function(e){var t=pr++,n=setTimeout(function(){e({timeRemaining:function(){return 1/0},didTimeout:!1})});return hr[t]=n,t},Zn=function(e){var t=hr[e];delete hr[e],clearTimeout(t)}}function mr(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return a.Children.forEach(e,function(e){null==e||"string"!=typeof e&&"number"!=typeof e||(t+=e)}),t}(t.children))&&(e.children=t),e}function vr(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+n,t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function yr(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}}function gr(e,t){return null!=t.dangerouslySetInnerHTML&&f("91"),i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function br(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&f("92"),Array.isArray(t)&&(1>=t.length||f("93"),t=t[0]),n=""+t),null==n&&(n="")),e._wrapperState={initialValue:""+n}}function _r(e,t){var n=t.value;null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function wr(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}var Er={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function kr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sr(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?kr(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Or,Cr=void 0,Dr=(Or=function(e,t){if(e.namespaceURI!==Er.svg||"innerHTML"in e)e.innerHTML=t;else{for((Cr=Cr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=Cr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return Or(e,t)})}:Or);function Tr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Mr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pr=["Webkit","ms","Moz","O"];function xr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=n,o=t[n];a=null==o||"boolean"==typeof o||""===o?"":r||"number"!=typeof o||0===o||Mr.hasOwnProperty(a)&&Mr[a]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(Mr).forEach(function(e){Pr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mr[t]=Mr[e]})});var jr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nr(e,t,n){t&&(jr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&f("137",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&f("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||f("61")),null!=t.style&&"object"!=typeof t.style&&f("62",n()))}function Ar(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rr=s.thatReturns("");function Lr(e,t){var n=Yn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=w[t];for(var r=0;r<t.length;r++){var a=t[r];if(!n.hasOwnProperty(a)||!n[a]){switch(a){case"scroll":jn("scroll",e);break;case"focus":case"blur":jn("focus",e),jn("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":tt(a,!0)&&jn(a,e);break;case"invalid":case"submit":case"reset":break;default:-1===fe.indexOf(a)&&xn(a,e)}n[a]=!0}}}function Ir(e,t,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===Er.html&&(r=kr(e)),r===Er.html?"script"===e?((e=n.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):e="string"==typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(r,e),e}function Fr(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function Yr(e,t,n,r){var a=Ar(t,n);switch(t){case"iframe":case"object":xn("load",e);var o=n;break;case"video":case"audio":for(o=0;o<fe.length;o++)xn(fe[o],e);o=n;break;case"source":xn("error",e),o=n;break;case"img":case"image":case"link":xn("error",e),xn("load",e),o=n;break;case"form":xn("reset",e),xn("submit",e),o=n;break;case"details":xn("toggle",e),o=n;break;case"input":Pt(e,n),o=Mt(e,n),xn("invalid",e),Lr(r,"onChange");break;case"option":o=mr(e,n);break;case"select":yr(e,n),o=i({},n,{value:void 0}),xn("invalid",e),Lr(r,"onChange");break;case"textarea":br(e,n),o=gr(e,n),xn("invalid",e),Lr(r,"onChange");break;default:o=n}Nr(t,o,Rr);var u,l=o;for(u in l)if(l.hasOwnProperty(u)){var c=l[u];"style"===u?xr(e,c):"dangerouslySetInnerHTML"===u?null!=(c=c?c.__html:void 0)&&Dr(e,c):"children"===u?"string"==typeof c?("textarea"!==t||""!==c)&&Tr(e,c):"number"==typeof c&&Tr(e,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(_.hasOwnProperty(u)?null!=c&&Lr(r,u):null!=c&&Tt(e,u,c,a))}switch(t){case"input":rt(e),Nt(e,n);break;case"textarea":rt(e),wr(e);break;case"option":null!=n.value&&e.setAttribute("value",n.value);break;case"select":e.multiple=!!n.multiple,null!=(t=n.value)?vr(e,!!n.multiple,t,!1):null!=n.defaultValue&&vr(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=s)}}function Ur(e,t,n,r,a){var o=null;switch(t){case"input":n=Mt(e,n),r=Mt(e,r),o=[];break;case"option":n=mr(e,n),r=mr(e,r),o=[];break;case"select":n=i({},n,{value:void 0}),r=i({},r,{value:void 0}),o=[];break;case"textarea":n=gr(e,n),r=gr(e,r),o=[];break;default:"function"!=typeof n.onClick&&"function"==typeof r.onClick&&(e.onclick=s)}Nr(t,r,Rr),t=e=void 0;var u=null;for(e in n)if(!r.hasOwnProperty(e)&&n.hasOwnProperty(e)&&null!=n[e])if("style"===e){var l=n[e];for(t in l)l.hasOwnProperty(t)&&(u||(u={}),u[t]="")}else"dangerouslySetInnerHTML"!==e&&"children"!==e&&"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&"autoFocus"!==e&&(_.hasOwnProperty(e)?o||(o=[]):(o=o||[]).push(e,null));for(e in r){var c=r[e];if(l=null!=n?n[e]:void 0,r.hasOwnProperty(e)&&c!==l&&(null!=c||null!=l))if("style"===e)if(l){for(t in l)!l.hasOwnProperty(t)||c&&c.hasOwnProperty(t)||(u||(u={}),u[t]="");for(t in c)c.hasOwnProperty(t)&&l[t]!==c[t]&&(u||(u={}),u[t]=c[t])}else u||(o||(o=[]),o.push(e,u)),u=c;else"dangerouslySetInnerHTML"===e?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(e,""+c)):"children"===e?l===c||"string"!=typeof c&&"number"!=typeof c||(o=o||[]).push(e,""+c):"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&(_.hasOwnProperty(e)?(null!=c&&Lr(a,e),o||l===c||(o=[])):(o=o||[]).push(e,c))}return u&&(o=o||[]).push("style",u),o}function Hr(e,t,n,r,a){"input"===n&&"radio"===a.type&&null!=a.name&&xt(e,a),Ar(n,r),r=Ar(n,a);for(var o=0;o<t.length;o+=2){var i=t[o],s=t[o+1];"style"===i?xr(e,s):"dangerouslySetInnerHTML"===i?Dr(e,s):"children"===i?Tr(e,s):Tt(e,i,s,r)}switch(n){case"input":jt(e,a);break;case"textarea":_r(e,a);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!a.multiple,null!=(n=a.value)?vr(e,!!a.multiple,n,!1):t!==!!a.multiple&&(null!=a.defaultValue?vr(e,!!a.multiple,a.defaultValue,!0):vr(e,!!a.multiple,a.multiple?[]:"",!1))}}function Vr(e,t,n,r,a){switch(t){case"iframe":case"object":xn("load",e);break;case"video":case"audio":for(r=0;r<fe.length;r++)xn(fe[r],e);break;case"source":xn("error",e);break;case"img":case"image":case"link":xn("error",e),xn("load",e);break;case"form":xn("reset",e),xn("submit",e);break;case"details":xn("toggle",e);break;case"input":Pt(e,n),xn("invalid",e),Lr(a,"onChange");break;case"select":yr(e,n),xn("invalid",e),Lr(a,"onChange");break;case"textarea":br(e,n),xn("invalid",e),Lr(a,"onChange")}for(var o in Nr(t,n,Rr),r=null,n)if(n.hasOwnProperty(o)){var i=n[o];"children"===o?"string"==typeof i?e.textContent!==i&&(r=["children",i]):"number"==typeof i&&e.textContent!==""+i&&(r=["children",""+i]):_.hasOwnProperty(o)&&null!=i&&Lr(a,o)}switch(t){case"input":rt(e),Nt(e,n);break;case"textarea":rt(e),wr(e);break;case"select":case"option":break;default:"function"==typeof n.onClick&&(e.onclick=s)}return r}function Br(e,t){return e.nodeValue!==t}var Wr={createElement:Ir,createTextNode:Fr,setInitialProperties:Yr,diffProperties:Ur,updateProperties:Hr,diffHydratedProperties:Vr,diffHydratedText:Br,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":if(jt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=z(r);a||f("90"),at(r),jt(r,a)}}}break;case"textarea":_r(e,n);break;case"select":null!=(t=n.value)&&vr(e,!!n.multiple,t,!1)}}},zr=null,Gr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"==typeof t.dangerouslySetInnerHTML.__html}var $r=Qn,Jr=Xn,Qr=Zn;function Xr(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Zr(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var ea=[],ta=-1;function na(e){return{current:e}}function ra(e){0>ta||(e.current=ea[ta],ea[ta]=null,ta--)}function aa(e,t){ea[++ta]=e.current,e.current=t}var oa=na(d),ia=na(!1),sa=d;function ua(e){return ca(e)?sa:oa.current}function la(e,t){var n=e.type.contextTypes;if(!n)return d;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ca(e){return 2===e.tag&&null!=e.type.childContextTypes}function da(e){ca(e)&&(ra(ia),ra(oa))}function fa(e){ra(ia),ra(oa)}function pa(e,t,n){oa.current!==d&&f("168"),aa(oa,t),aa(ia,n)}function ha(e,t){var n=e.stateNode,r=e.type.childContextTypes;if("function"!=typeof n.getChildContext)return t;for(var a in n=n.getChildContext())a in r||f("108",bt(e)||"Unknown",a);return i({},t,n)}function ma(e){if(!ca(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||d,sa=oa.current,aa(oa,t),aa(ia,ia.current),!0}function va(e,t){var n=e.stateNode;if(n||f("169"),t){var r=ha(e,sa);n.__reactInternalMemoizedMergedChildContext=r,ra(ia),ra(oa),aa(oa,r)}else ra(ia);aa(ia,t)}function ya(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function ga(e,t,n){var r=e.alternate;return null===r?((r=new ya(e.tag,t,e.key,e.mode)).type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ba(e,t,n){var r=e.type,a=e.key;if(e=e.props,"function"==typeof r)var o=r.prototype&&r.prototype.isReactComponent?2:0;else if("string"==typeof r)o=5;else switch(r){case lt:return _a(e.children,t,n,a);case ht:o=11,t|=3;break;case ct:o=11,t|=2;break;case dt:return(r=new ya(15,e,a,4|t)).type=dt,r.expirationTime=n,r;case vt:o=16,t|=2;break;default:e:{switch("object"==typeof r&&null!==r?r.$$typeof:null){case ft:o=13;break e;case pt:o=12;break e;case mt:o=14;break e;default:f("130",null==r?r:typeof r,"")}o=void 0}}return(t=new ya(o,e,a,t)).type=r,t.expirationTime=n,t}function _a(e,t,n,r){return(e=new ya(10,e,r,t)).expirationTime=n,e}function wa(e,t,n){return(e=new ya(6,e,null,t)).expirationTime=n,e}function Ea(e,t,n){return(t=new ya(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ka(e,t,n){return e={current:t=new ya(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:n,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},t.stateNode=e}var Sa=null,Oa=null;function Ca(e){return function(t){try{return e(t)}catch(e){}}}function Da(e){"function"==typeof Sa&&Sa(e)}function Ta(e){"function"==typeof Oa&&Oa(e)}var Ma=!1;function Pa(e){return{expirationTime:0,baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function xa(e){return{expirationTime:e.expirationTime,baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ja(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Na(e,t,n){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t),(0===e.expirationTime||e.expirationTime>n)&&(e.expirationTime=n)}function Aa(e,t,n){var r=e.alternate;if(null===r){var a=e.updateQueue,o=null;null===a&&(a=e.updateQueue=Pa(e.memoizedState))}else a=e.updateQueue,o=r.updateQueue,null===a?null===o?(a=e.updateQueue=Pa(e.memoizedState),o=r.updateQueue=Pa(r.memoizedState)):a=e.updateQueue=xa(o):null===o&&(o=r.updateQueue=xa(a));null===o||a===o?Na(a,t,n):null===a.lastUpdate||null===o.lastUpdate?(Na(a,t,n),Na(o,t,n)):(Na(a,t,n),o.lastUpdate=t)}function Ra(e,t,n){var r=e.updateQueue;null===(r=null===r?e.updateQueue=Pa(e.memoizedState):La(e,r)).lastCapturedUpdate?r.firstCapturedUpdate=r.lastCapturedUpdate=t:(r.lastCapturedUpdate.next=t,r.lastCapturedUpdate=t),(0===r.expirationTime||r.expirationTime>n)&&(r.expirationTime=n)}function La(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=xa(t)),t}function Ia(e,t,n,r,a,o){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(o,r,a):e;case 3:e.effectTag=-1025&e.effectTag|64;case 0:if(null===(a="function"==typeof(e=n.payload)?e.call(o,r,a):e)||void 0===a)break;return i({},r,a);case 2:Ma=!0}return r}function Fa(e,t,n,r,a){if(Ma=!1,!(0===t.expirationTime||t.expirationTime>a)){for(var o=(t=La(e,t)).baseState,i=null,s=0,u=t.firstUpdate,l=o;null!==u;){var c=u.expirationTime;c>a?(null===i&&(i=u,o=l),(0===s||s>c)&&(s=c)):(l=Ia(e,0,u,l,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(c=null,u=t.firstCapturedUpdate;null!==u;){var d=u.expirationTime;d>a?(null===c&&(c=u,null===i&&(o=l)),(0===s||s>d)&&(s=d)):(l=Ia(e,0,u,l,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===i&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===i&&null===c&&(o=l),t.baseState=o,t.firstUpdate=i,t.firstCapturedUpdate=c,t.expirationTime=s,e.memoizedState=l}}function Ya(e,t){"function"!=typeof e&&f("191",e),e.call(t)}function Ua(e,t,n){for(null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),e=t.firstEffect,t.firstEffect=t.lastEffect=null;null!==e;){var r=e.callback;null!==r&&(e.callback=null,Ya(r,n)),e=e.nextEffect}for(e=t.firstCapturedEffect,t.firstCapturedEffect=t.lastCapturedEffect=null;null!==e;)null!==(t=e.callback)&&(e.callback=null,Ya(t,n)),e=e.nextEffect}function Ha(e,t){return{value:e,source:t,stack:_t(t)}}var Va=na(null),Ba=na(null),Wa=na(0);function za(e){var t=e.type._context;aa(Wa,t._changedBits),aa(Ba,t._currentValue),aa(Va,e),t._currentValue=e.pendingProps.value,t._changedBits=e.stateNode}function Ga(e){var t=Wa.current,n=Ba.current;ra(Va),ra(Ba),ra(Wa),(e=e.type._context)._currentValue=n,e._changedBits=t}var qa={},Ka=na(qa),$a=na(qa),Ja=na(qa);function Qa(e){return e===qa&&f("174"),e}function Xa(e,t){aa(Ja,t),aa($a,e),aa(Ka,qa);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sr(null,"");break;default:t=Sr(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}ra(Ka),aa(Ka,t)}function Za(e){ra(Ka),ra($a),ra(Ja)}function eo(e){$a.current===e&&(ra(Ka),ra($a))}function to(e,t,n){var r=e.memoizedState;r=null===(t=t(n,r))||void 0===t?r:i({},r,t),e.memoizedState=r,null!==(e=e.updateQueue)&&0===e.expirationTime&&(e.baseState=r)}var no={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===on(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=mi(),a=ja(r=pi(r,e));a.payload=t,void 0!==n&&null!==n&&(a.callback=n),Aa(e,a,r),hi(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=mi(),a=ja(r=pi(r,e));a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),Aa(e,a,r),hi(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=mi(),r=ja(n=pi(n,e));r.tag=2,void 0!==t&&null!==t&&(r.callback=t),Aa(e,r,n),hi(e,n)}};function ro(e,t,n,r,a,o){var i=e.stateNode;return e=e.type,"function"==typeof i.shouldComponentUpdate?i.shouldComponentUpdate(n,a,o):!e.prototype||!e.prototype.isPureReactComponent||(!l(t,n)||!l(r,a))}function ao(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function oo(e,t){var n=e.type,r=e.stateNode,a=e.pendingProps,o=ua(e);r.props=a,r.state=e.memoizedState,r.refs=d,r.context=la(e,o),null!==(o=e.updateQueue)&&(Fa(e,o,a,r,t),r.state=e.memoizedState),"function"==typeof(o=e.type.getDerivedStateFromProps)&&(to(e,o,a),r.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(n=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),n!==r.state&&no.enqueueReplaceState(r,r.state,null),null!==(o=e.updateQueue)&&(Fa(e,o,a,r,t),r.state=e.memoizedState)),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}var io=Array.isArray;function so(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){var r=void 0;(n=n._owner)&&(2!==n.tag&&f("110"),r=n.stateNode),r||f("147",e);var a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=r.refs===d?r.refs={}:r.refs;null===e?delete t[a]:t[a]=e})._stringRef=a,t)}"string"!=typeof e&&f("148"),n._owner||f("254",e)}return e}function uo(e,t){"textarea"!==e.type&&f("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function lo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t,n){return(e=ga(e,t,n)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function i(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=wa(n,e.mode,r)).return=e,t):((t=a(t,n,r)).return=e,t)}function u(e,t,n,r){return null!==t&&t.type===n.type?((r=a(t,n.props,r)).ref=so(e,t,n),r.return=e,r):((r=ba(n,e.mode,r)).ref=so(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ea(n,e.mode,r)).return=e,t):((t=a(t,n.children||[],r)).return=e,t)}function c(e,t,n,r,o){return null===t||10!==t.tag?((t=_a(n,e.mode,r,o)).return=e,t):((t=a(t,n,r)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=wa(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case st:return(n=ba(t,e.mode,n)).ref=so(e,null,t),n.return=e,n;case ut:return(t=Ea(t,e.mode,n)).return=e,t}if(io(t)||gt(t))return(t=_a(t,e.mode,n,null)).return=e,t;uo(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==a?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case st:return n.key===a?n.type===lt?c(e,t,n.props.children,r,a):u(e,t,n,r):null;case ut:return n.key===a?l(e,t,n,r):null}if(io(n)||gt(n))return null!==a?null:c(e,t,n,r,null);uo(e,n)}return null}function h(e,t,n,r,a){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case st:return e=e.get(null===r.key?n:r.key)||null,r.type===lt?c(t,e,r.props.children,a,r.key):u(t,e,r,a);case ut:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(io(r)||gt(r))return c(t,e=e.get(n)||null,r,a,null);uo(t,r)}return null}function m(a,i,s,u){for(var l=null,c=null,f=i,m=i=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var y=p(a,f,s[m],u);if(null===y){null===f&&(f=v);break}e&&f&&null===y.alternate&&t(a,f),i=o(y,i,m),null===c?l=y:c.sibling=y,c=y,f=v}if(m===s.length)return n(a,f),l;if(null===f){for(;m<s.length;m++)(f=d(a,s[m],u))&&(i=o(f,i,m),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(a,f);m<s.length;m++)(v=h(f,a,m,s[m],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),i=o(v,i,m),null===c?l=v:c.sibling=v,c=v);return e&&f.forEach(function(e){return t(a,e)}),l}function v(a,i,s,u){var l=gt(s);"function"!=typeof l&&f("150"),null==(s=l.call(s))&&f("151");for(var c=l=null,m=i,v=i=0,y=null,g=s.next();null!==m&&!g.done;v++,g=s.next()){m.index>v?(y=m,m=null):y=m.sibling;var b=p(a,m,g.value,u);if(null===b){m||(m=y);break}e&&m&&null===b.alternate&&t(a,m),i=o(b,i,v),null===c?l=b:c.sibling=b,c=b,m=y}if(g.done)return n(a,m),l;if(null===m){for(;!g.done;v++,g=s.next())null!==(g=d(a,g.value,u))&&(i=o(g,i,v),null===c?l=g:c.sibling=g,c=g);return l}for(m=r(a,m);!g.done;v++,g=s.next())null!==(g=h(m,a,v,g.value,u))&&(e&&null!==g.alternate&&m.delete(null===g.key?v:g.key),i=o(g,i,v),null===c?l=g:c.sibling=g,c=g);return e&&m.forEach(function(e){return t(a,e)}),l}return function(e,r,o,s){"object"==typeof o&&null!==o&&o.type===lt&&null===o.key&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case st:e:{var l=o.key;for(u=r;null!==u;){if(u.key===l){if(10===u.tag?o.type===lt:u.type===o.type){n(e,u.sibling),(r=a(u,o.type===lt?o.props.children:o.props,s)).ref=so(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===lt?((r=_a(o.props.children,e.mode,s,o.key)).return=e,e=r):((s=ba(o,e.mode,s)).ref=so(e,r,o),s.return=e,e=s)}return i(e);case ut:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=a(r,o.children||[],s)).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ea(o,e.mode,s)).return=e,e=r}return i(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,o,s)).return=e,e=r):(n(e,r),(r=wa(o,e.mode,s)).return=e,e=r),i(e);if(io(o))return m(e,r,o,s);if(gt(o))return v(e,r,o,s);if(u&&uo(e,o),void 0===o)switch(e.tag){case 2:case 1:f("152",(s=e.type).displayName||s.name||"Component")}return n(e,r)}}var co=lo(!0),fo=lo(!1),po=null,ho=null,mo=!1;function vo(e,t){var n=new ya(5,null,null,0);n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function yo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function go(e){if(mo){var t=ho;if(t){var n=t;if(!yo(e,t)){if(!(t=Xr(n))||!yo(e,t))return e.effectTag|=2,mo=!1,void(po=e);vo(po,n)}po=e,ho=Zr(t)}else e.effectTag|=2,mo=!1,po=e}}function bo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;po=e}function _o(e){if(e!==po)return!1;if(!mo)return bo(e),mo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=ho;t;)vo(e,t),t=Xr(t);return bo(e),ho=po?Xr(e.stateNode):null,!0}function wo(){ho=po=null,mo=!1}function Eo(e,t,n){ko(e,t,n,t.expirationTime)}function ko(e,t,n,r){t.child=null===e?fo(t,null,n,r):co(t,e.child,n,r)}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Oo(e,t,n,r,a){So(e,t);var o=0!=(64&t.effectTag);if(!n&&!o)return r&&va(t,!1),To(e,t);n=t.stateNode,ot.current=t;var i=o?null:n.render();return t.effectTag|=1,o&&(ko(e,t,null,a),t.child=null),ko(e,t,i,a),t.memoizedState=n.state,t.memoizedProps=n.props,r&&va(t,!0),t.child}function Co(e){var t=e.stateNode;t.pendingContext?pa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&pa(0,t.context,!1),Xa(e,t.containerInfo)}function Do(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){switch(a.tag){case 12:var o=0|a.stateNode;if(a.type===t&&0!=(o&n)){for(o=a;null!==o;){var i=o.alternate;if(0===o.expirationTime||o.expirationTime>r)o.expirationTime=r,null!==i&&(0===i.expirationTime||i.expirationTime>r)&&(i.expirationTime=r);else{if(null===i||!(0===i.expirationTime||i.expirationTime>r))break;i.expirationTime=r}o=o.return}o=null}else o=a.child;break;case 13:o=a.type===e.type?null:a.child;break;default:o=a.child}if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function To(e,t){if(null!==e&&t.child!==e.child&&f("153"),null!==t.child){var n=ga(e=t.child,e.pendingProps,e.expirationTime);for(t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ga(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Mo(e,t,n){if(0===t.expirationTime||t.expirationTime>n){switch(t.tag){case 3:Co(t);break;case 2:ma(t);break;case 4:Xa(t,t.stateNode.containerInfo);break;case 13:za(t)}return null}switch(t.tag){case 0:null!==e&&f("155");var r=t.type,a=t.pendingProps,o=ua(t);return r=r(a,o=la(t,o)),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(o=t.type,t.tag=2,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,"function"==typeof(o=o.getDerivedStateFromProps)&&to(t,o,a),a=ma(t),r.updater=no,t.stateNode=r,r._reactInternalFiber=t,oo(t,n),e=Oo(e,t,!0,a,n)):(t.tag=1,Eo(e,t,r),t.memoizedProps=a,e=t.child),e;case 1:return a=t.type,n=t.pendingProps,ia.current||t.memoizedProps!==n?(a=a(n,r=la(t,r=ua(t))),t.effectTag|=1,Eo(e,t,a),t.memoizedProps=n,e=t.child):e=To(e,t),e;case 2:if(a=ma(t),null===e)if(null===t.stateNode){var i=t.pendingProps,s=t.type;r=ua(t);var u=2===t.tag&&null!=t.type.contextTypes;i=new s(i,o=u?la(t,r):d),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=no,t.stateNode=i,i._reactInternalFiber=t,u&&((u=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,u.__reactInternalMemoizedMaskedChildContext=o),oo(t,n),r=!0}else{s=t.type,r=t.stateNode,u=t.memoizedProps,o=t.pendingProps,r.props=u;var l=r.context;i=la(t,i=ua(t));var c=s.getDerivedStateFromProps;(s="function"==typeof c||"function"==typeof r.getSnapshotBeforeUpdate)||"function"!=typeof r.UNSAFE_componentWillReceiveProps&&"function"!=typeof r.componentWillReceiveProps||(u!==o||l!==i)&&ao(t,r,o,i),Ma=!1;var p=t.memoizedState;l=r.state=p;var h=t.updateQueue;null!==h&&(Fa(t,h,o,r,n),l=t.memoizedState),u!==o||p!==l||ia.current||Ma?("function"==typeof c&&(to(t,c,o),l=t.memoizedState),(u=Ma||ro(t,u,o,p,l,i))?(s||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||("function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"==typeof r.componentDidMount&&(t.effectTag|=4)):("function"==typeof r.componentDidMount&&(t.effectTag|=4),t.memoizedProps=o,t.memoizedState=l),r.props=o,r.state=l,r.context=i,r=u):("function"==typeof r.componentDidMount&&(t.effectTag|=4),r=!1)}else s=t.type,r=t.stateNode,o=t.memoizedProps,u=t.pendingProps,r.props=o,l=r.context,i=la(t,i=ua(t)),(s="function"==typeof(c=s.getDerivedStateFromProps)||"function"==typeof r.getSnapshotBeforeUpdate)||"function"!=typeof r.UNSAFE_componentWillReceiveProps&&"function"!=typeof r.componentWillReceiveProps||(o!==u||l!==i)&&ao(t,r,u,i),Ma=!1,l=t.memoizedState,p=r.state=l,null!==(h=t.updateQueue)&&(Fa(t,h,u,r,n),p=t.memoizedState),o!==u||l!==p||ia.current||Ma?("function"==typeof c&&(to(t,c,u),p=t.memoizedState),(c=Ma||ro(t,o,u,l,p,i))?(s||"function"!=typeof r.UNSAFE_componentWillUpdate&&"function"!=typeof r.componentWillUpdate||("function"==typeof r.componentWillUpdate&&r.componentWillUpdate(u,p,i),"function"==typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(u,p,i)),"function"==typeof r.componentDidUpdate&&(t.effectTag|=4),"function"==typeof r.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof r.componentDidUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=u,t.memoizedState=p),r.props=u,r.state=p,r.context=i,r=c):("function"!=typeof r.componentDidUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Oo(e,t,r,a,n);case 3:return Co(t),null!==(a=t.updateQueue)?(r=null!==(r=t.memoizedState)?r.element:null,Fa(t,a,t.pendingProps,null,n),(a=t.memoizedState.element)===r?(wo(),e=To(e,t)):(r=t.stateNode,(r=(null===e||null===e.child)&&r.hydrate)&&(ho=Zr(t.stateNode.containerInfo),po=t,r=mo=!0),r?(t.effectTag|=2,t.child=fo(t,null,a,n)):(wo(),Eo(e,t,a)),e=t.child)):(wo(),e=To(e,t)),e;case 5:return Qa(Ja.current),(a=Qa(Ka.current))!==(r=Sr(a,t.type))&&(aa($a,t),aa(Ka,r)),null===e&&go(t),a=t.type,u=t.memoizedProps,r=t.pendingProps,o=null!==e?e.memoizedProps:null,ia.current||u!==r||((u=1&t.mode&&!!r.hidden)&&(t.expirationTime=1073741823),u&&1073741823===n)?(u=r.children,Kr(a,r)?u=null:o&&Kr(a,o)&&(t.effectTag|=16),So(e,t),1073741823!==n&&1&t.mode&&r.hidden?(t.expirationTime=1073741823,t.memoizedProps=r,e=null):(Eo(e,t,u),t.memoizedProps=r,e=t.child)):e=To(e,t),e;case 6:return null===e&&go(t),t.memoizedProps=t.pendingProps,null;case 16:return null;case 4:return Xa(t,t.stateNode.containerInfo),a=t.pendingProps,ia.current||t.memoizedProps!==a?(null===e?t.child=co(t,null,a,n):Eo(e,t,a),t.memoizedProps=a,e=t.child):e=To(e,t),e;case 14:return a=t.type.render,n=t.pendingProps,r=t.ref,ia.current||t.memoizedProps!==n||r!==(null!==e?e.ref:null)?(Eo(e,t,a=a(n,r)),t.memoizedProps=n,e=t.child):e=To(e,t),e;case 10:return n=t.pendingProps,ia.current||t.memoizedProps!==n?(Eo(e,t,n),t.memoizedProps=n,e=t.child):e=To(e,t),e;case 11:return n=t.pendingProps.children,ia.current||null!==n&&t.memoizedProps!==n?(Eo(e,t,n),t.memoizedProps=n,e=t.child):e=To(e,t),e;case 15:return n=t.pendingProps,t.memoizedProps===n?e=To(e,t):(Eo(e,t,n.children),t.memoizedProps=n,e=t.child),e;case 13:return function(e,t,n){var r=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=!0;if(ia.current)i=!1;else if(o===a)return t.stateNode=0,za(t),To(e,t);var s=a.value;if(t.memoizedProps=a,null===o)s=1073741823;else if(o.value===a.value){if(o.children===a.children&&i)return t.stateNode=0,za(t),To(e,t);s=0}else{var u=o.value;if(u===s&&(0!==u||1/u==1/s)||u!=u&&s!=s){if(o.children===a.children&&i)return t.stateNode=0,za(t),To(e,t);s=0}else if(s="function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,s):1073741823,0==(s|=0)){if(o.children===a.children&&i)return t.stateNode=0,za(t),To(e,t)}else Do(t,r,s,n)}return t.stateNode=s,za(t),Eo(e,t,a.children),t.child}(e,t,n);case 12:e:if(r=t.type,o=t.pendingProps,u=t.memoizedProps,a=r._currentValue,i=r._changedBits,ia.current||0!==i||u!==o){if(t.memoizedProps=o,void 0!==(s=o.unstable_observedBits)&&null!==s||(s=1073741823),t.stateNode=s,0!=(i&s))Do(t,r,i,n);else if(u===o){e=To(e,t);break e}n=(n=o.children)(a),t.effectTag|=1,Eo(e,t,n),e=t.child}else e=To(e,t);return e;default:f("156")}}function Po(e){e.effectTag|=4}var xo=void 0,jo=void 0,No=void 0;function Ao(e,t){var n=t.pendingProps;switch(t.tag){case 1:return null;case 2:return da(t),null;case 3:Za(),fa();var r=t.stateNode;return r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(_o(t),t.effectTag&=-3),xo(t),null;case 5:eo(t),r=Qa(Ja.current);var a=t.type;if(null!==e&&null!=t.stateNode){var o=e.memoizedProps,i=t.stateNode,s=Qa(Ka.current);i=Ur(i,a,o,n,r),jo(e,t,i,a,o,n,r,s),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!n)return null===t.stateNode&&f("166"),null;if(e=Qa(Ka.current),_o(t))n=t.stateNode,a=t.type,o=t.memoizedProps,n[H]=t,n[V]=o,r=Vr(n,a,o,e,r),t.updateQueue=r,null!==r&&Po(t);else{(e=Ir(a,n,r,e))[H]=t,e[V]=n;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}Yr(e,a,n,r),qr(a,n)&&Po(t),t.stateNode=e}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)No(e,t,e.memoizedProps,n);else{if("string"!=typeof n)return null===t.stateNode&&f("166"),null;r=Qa(Ja.current),Qa(Ka.current),_o(t)?(r=t.stateNode,n=t.memoizedProps,r[H]=t,Br(r,n)&&Po(t)):((r=Fr(n,r))[H]=t,t.stateNode=r)}return null;case 14:case 16:case 10:case 11:case 15:return null;case 4:return Za(),xo(t),null;case 13:return Ga(t),null;case 12:return null;case 0:f("167");default:f("156")}}function Ro(e,t){var n=t.source;null===t.stack&&null!==n&&_t(n),null!==n&&bt(n),t=t.value,null!==e&&2===e.tag&&bt(e);try{t&&t.suppressReactErrorLogging||console.error(t)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}}function Lo(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){di(e,t)}else t.current=null}function Io(e){switch(Ta(e),e.tag){case 2:Lo(e);var t=e.stateNode;if("function"==typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){di(e,t)}break;case 5:Lo(e);break;case 4:Uo(e)}}function Fo(e){return 5===e.tag||3===e.tag||4===e.tag}function Yo(e){e:{for(var t=e.return;null!==t;){if(Fo(t)){var n=t;break e}t=t.return}f("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:f("161")}16&n.effectTag&&(Tr(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Fo(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var a=e;;){if(5===a.tag||6===a.tag)if(n)if(r){var o=t,i=a.stateNode,s=n;8===o.nodeType?o.parentNode.insertBefore(i,s):o.insertBefore(i,s)}else t.insertBefore(a.stateNode,n);else r?(o=t,i=a.stateNode,8===o.nodeType?o.parentNode.insertBefore(i,o):o.appendChild(i)):t.appendChild(a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}}function Uo(e){for(var t=e,n=!1,r=void 0,a=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&f("160"),n.tag){case 5:r=n.stateNode,a=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,a=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var o=t,i=o;;)if(Io(i),null!==i.child&&4!==i.tag)i.child.return=i,i=i.child;else{if(i===o)break;for(;null===i.sibling;){if(null===i.return||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}a?(o=r,i=t.stateNode,8===o.nodeType?o.parentNode.removeChild(i):o.removeChild(i)):r.removeChild(t.stateNode)}else if(4===t.tag?r=t.stateNode.containerInfo:Io(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function Ho(e,t){switch(t.tag){case 2:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var a=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&(n[V]=r,Hr(n,o,a,e,r))}break;case 6:null===t.stateNode&&f("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 15:case 16:break;default:f("163")}}function Vo(e,t,n){(n=ja(n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ki(r),Ro(e,t)},n}function Bo(e,t,n){(n=ja(n)).tag=3;var r=e.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(n.callback=function(){null===ii?ii=new Set([this]):ii.add(this);var n=t.value,r=t.stack;Ro(e,t),this.componentDidCatch(n,{componentStack:null!==r?r:""})}),n}function Wo(e,t,n,r,a,o){n.effectTag|=512,n.firstEffect=n.lastEffect=null,r=Ha(r,n),e=t;do{switch(e.tag){case 3:return e.effectTag|=1024,void Ra(e,r=Vo(e,r,o),o);case 2:if(t=r,n=e.stateNode,0==(64&e.effectTag)&&null!==n&&"function"==typeof n.componentDidCatch&&(null===ii||!ii.has(n)))return e.effectTag|=1024,void Ra(e,r=Bo(e,t,o),o)}e=e.return}while(null!==e)}function zo(e){switch(e.tag){case 2:da(e);var t=e.effectTag;return 1024&t?(e.effectTag=-1025&t|64,e):null;case 3:return Za(),fa(),1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 5:return eo(e),null;case 16:return 1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 4:return Za(),null;case 13:return Ga(e),null;default:return null}}xo=function(){},jo=function(e,t,n){(t.updateQueue=n)&&Po(t)},No=function(e,t,n,r){n!==r&&Po(t)};var Go=$r(),qo=2,Ko=Go,$o=0,Jo=0,Qo=!1,Xo=null,Zo=null,ei=0,ti=-1,ni=!1,ri=null,ai=!1,oi=!1,ii=null;function si(){if(null!==Xo)for(var e=Xo.return;null!==e;){var t=e;switch(t.tag){case 2:da(t);break;case 3:Za(),fa();break;case 5:eo(t);break;case 4:Za();break;case 13:Ga(t)}e=e.return}Zo=null,ei=0,ti=-1,ni=!1,Xo=null,oi=!1}function ui(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(512&e.effectTag)){t=Ao(t,e);var a=e;if(1073741823===ei||1073741823!==a.expirationTime){var o=0;switch(a.tag){case 3:case 2:var i=a.updateQueue;null!==i&&(o=i.expirationTime)}for(i=a.child;null!==i;)0!==i.expirationTime&&(0===o||o>i.expirationTime)&&(o=i.expirationTime),i=i.sibling;a.expirationTime=o}if(null!==t)return t;if(null!==n&&0==(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==r)return r;if(null===n){oi=!0;break}e=n}else{if(null!==(e=zo(e)))return e.effectTag&=511,e;if(null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512),null!==r)return r;if(null===n)break;e=n}}return null}function li(e){var t=Mo(e.alternate,e,ei);return null===t&&(t=ui(e)),ot.current=null,t}function ci(e,t,n){Qo&&f("243"),Qo=!0,t===ei&&e===Zo&&null!==Xo||(si(),ei=t,ti=-1,Xo=ga((Zo=e).current,null,ei),e.pendingCommitExpirationTime=0);var r=!1;for(ni=!n||ei<=qo;;){try{if(n)for(;null!==Xo&&!qi();)Xo=li(Xo);else for(;null!==Xo;)Xo=li(Xo)}catch(t){if(null===Xo)r=!0,Ki(t);else{null===Xo&&f("271");var a=(n=Xo).return;if(null===a){r=!0,Ki(t);break}Wo(e,a,n,t,0,ei),Xo=ui(n)}}break}if(Qo=!1,r)return null;if(null===Xo){if(oi)return e.pendingCommitExpirationTime=t,e.current.alternate;ni&&f("262"),0<=ti&&setTimeout(function(){var t=e.current.expirationTime;0!==t&&(0===e.remainingExpirationTime||e.remainingExpirationTime<t)&&Fi(e,t)},ti),function(e){null===ki&&f("246"),ki.remainingExpirationTime=e}(e.current.expirationTime)}return null}function di(e,t){var n;e:{for(Qo&&!ai&&f("263"),n=e.return;null!==n;){switch(n.tag){case 2:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromCatch||"function"==typeof r.componentDidCatch&&(null===ii||!ii.has(r))){Aa(n,e=Bo(n,e=Ha(t,e),1),1),hi(n,1),n=void 0;break e}break;case 3:Aa(n,e=Vo(n,e=Ha(t,e),1),1),hi(n,1),n=void 0;break e}n=n.return}3===e.tag&&(Aa(e,n=Vo(e,n=Ha(t,e),1),1),hi(e,1)),n=void 0}return n}function fi(){var e=2+25*(1+((mi()-2+500)/25|0));return e<=$o&&(e=$o+1),$o=e}function pi(e,t){return e=0!==Jo?Jo:Qo?ai?1:ei:1&t.mode?ji?2+10*(1+((e-2+15)/10|0)):2+25*(1+((e-2+500)/25|0)):1,ji&&(0===Oi||e>Oi)&&(Oi=e),e}function hi(e,t){for(;null!==e;){if((0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>t)&&(e.alternate.expirationTime=t),null===e.return){if(3!==e.tag)break;var n=e.stateNode;!Qo&&0!==ei&&t<ei&&si();var r=n.current.expirationTime;Qo&&!ai&&Zo===n||Fi(n,r),Ri>Ai&&f("185")}e=e.return}}function mi(){return Ko=$r()-Go,qo=2+(Ko/10|0)}function vi(e){var t=Jo;Jo=2+25*(1+((mi()-2+500)/25|0));try{return e()}finally{Jo=t}}function yi(e,t,n,r,a){var o=Jo;Jo=1;try{return e(t,n,r,a)}finally{Jo=o}}var gi=null,bi=null,_i=0,wi=-1,Ei=!1,ki=null,Si=0,Oi=0,Ci=!1,Di=!1,Ti=null,Mi=null,Pi=!1,xi=!1,ji=!1,Ni=null,Ai=1e3,Ri=0,Li=1;function Ii(e){if(0!==_i){if(e>_i)return;Qr(wi)}var t=$r()-Go;_i=e,wi=Jr(Ui,{timeout:10*(e-2)-t})}function Fi(e,t){if(null===e.nextScheduledRoot)e.remainingExpirationTime=t,null===bi?(gi=bi=e,e.nextScheduledRoot=e):(bi=bi.nextScheduledRoot=e).nextScheduledRoot=gi;else{var n=e.remainingExpirationTime;(0===n||t<n)&&(e.remainingExpirationTime=t)}Ei||(Pi?xi&&(ki=e,Si=1,zi(e,1,!1)):1===t?Hi():Ii(t))}function Yi(){var e=0,t=null;if(null!==bi)for(var n=bi,r=gi;null!==r;){var a=r.remainingExpirationTime;if(0===a){if((null===n||null===bi)&&f("244"),r===r.nextScheduledRoot){gi=bi=r.nextScheduledRoot=null;break}if(r===gi)gi=a=r.nextScheduledRoot,bi.nextScheduledRoot=a,r.nextScheduledRoot=null;else{if(r===bi){(bi=n).nextScheduledRoot=gi,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if((0===e||a<e)&&(e=a,t=r),r===bi)break;n=r,r=r.nextScheduledRoot}}null!==(n=ki)&&n===t&&1===e?Ri++:Ri=0,ki=t,Si=e}function Ui(e){Vi(0,!0,e)}function Hi(){Vi(1,!1,null)}function Vi(e,t,n){if(Mi=n,Yi(),t)for(;null!==ki&&0!==Si&&(0===e||e>=Si)&&(!Ci||mi()>=Si);)mi(),zi(ki,Si,!Ci),Yi();else for(;null!==ki&&0!==Si&&(0===e||e>=Si);)zi(ki,Si,!1),Yi();null!==Mi&&(_i=0,wi=-1),0!==Si&&Ii(Si),Mi=null,Ci=!1,Wi()}function Bi(e,t){Ei&&f("253"),ki=e,Si=t,zi(e,t,!1),Hi(),Wi()}function Wi(){if(Ri=0,null!==Ni){var e=Ni;Ni=null;for(var t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){Di||(Di=!0,Ti=e)}}}if(Di)throw e=Ti,Ti=null,Di=!1,e}function zi(e,t,n){Ei&&f("245"),Ei=!0,n?null!==(n=e.finishedWork)?Gi(e,n,t):(e.finishedWork=null,null!==(n=ci(e,t,!0))&&(qi()?e.finishedWork=n:Gi(e,n,t))):null!==(n=e.finishedWork)?Gi(e,n,t):(e.finishedWork=null,null!==(n=ci(e,t,!1))&&Gi(e,n,t)),Ei=!1}function Gi(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime<=n&&(null===Ni?Ni=[r]:Ni.push(r),r._defer))return e.finishedWork=t,void(e.remainingExpirationTime=0);if(e.finishedWork=null,ai=Qo=!0,(n=t.stateNode).current===t&&f("177"),0===(r=n.pendingCommitExpirationTime)&&f("261"),n.pendingCommitExpirationTime=0,mi(),ot.current=null,1<t.effectTag)if(null!==t.lastEffect){t.lastEffect.nextEffect=t;var a=t.firstEffect}else a=t;else a=t.firstEffect;zr=Mn;var o=u();if(Vn(o)){if("selectionStart"in o)var i={start:o.selectionStart,end:o.selectionEnd};else e:{var s=window.getSelection&&window.getSelection();if(s&&0!==s.rangeCount){i=s.anchorNode;var l=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{i.nodeType,d.nodeType}catch(e){i=null;break e}var p=0,h=-1,m=-1,v=0,y=0,g=o,b=null;t:for(;;){for(var _;g!==i||0!==l&&3!==g.nodeType||(h=p+l),g!==d||0!==s&&3!==g.nodeType||(m=p+s),3===g.nodeType&&(p+=g.nodeValue.length),null!==(_=g.firstChild);)b=g,g=_;for(;;){if(g===o)break t;if(b===i&&++v===l&&(h=p),b===d&&++y===s&&(m=p),null!==(_=g.nextSibling))break;b=(g=b).parentNode}g=_}i=-1===h||-1===m?null:{start:h,end:m}}else i=null}i=i||{start:0,end:0}}else i=null;for(Gr={focusedElem:o,selectionRange:i},Pn(!1),ri=a;null!==ri;){o=!1,i=void 0;try{for(;null!==ri;){if(256&ri.effectTag){var w=ri.alternate;switch((l=ri).tag){case 2:if(256&l.effectTag&&null!==w){var E=w.memoizedProps,k=w.memoizedState,S=l.stateNode;S.props=l.memoizedProps,S.state=l.memoizedState;var O=S.getSnapshotBeforeUpdate(E,k);S.__reactInternalSnapshotBeforeUpdate=O}break;case 3:case 5:case 6:case 4:break;default:f("163")}}ri=ri.nextEffect}}catch(e){o=!0,i=e}o&&(null===ri&&f("178"),di(ri,i),null!==ri&&(ri=ri.nextEffect))}for(ri=a;null!==ri;){w=!1,E=void 0;try{for(;null!==ri;){var C=ri.effectTag;if(16&C&&Tr(ri.stateNode,""),128&C){var D=ri.alternate;if(null!==D){var T=D.ref;null!==T&&("function"==typeof T?T(null):T.current=null)}}switch(14&C){case 2:Yo(ri),ri.effectTag&=-3;break;case 6:Yo(ri),ri.effectTag&=-3,Ho(ri.alternate,ri);break;case 4:Ho(ri.alternate,ri);break;case 8:Uo(k=ri),k.return=null,k.child=null,k.alternate&&(k.alternate.child=null,k.alternate.return=null)}ri=ri.nextEffect}}catch(e){w=!0,E=e}w&&(null===ri&&f("178"),di(ri,E),null!==ri&&(ri=ri.nextEffect))}if(T=Gr,D=u(),C=T.focusedElem,w=T.selectionRange,D!==C&&c(document.documentElement,C)){Vn(C)&&(D=w.start,void 0===(T=w.end)&&(T=D),"selectionStart"in C?(C.selectionStart=D,C.selectionEnd=Math.min(T,C.value.length)):window.getSelection&&(D=window.getSelection(),E=C[he()].length,T=Math.min(w.start,E),w=void 0===w.end?T:Math.min(w.end,E),!D.extend&&T>w&&(E=w,w=T,T=E),E=Hn(C,T),k=Hn(C,w),E&&k&&(1!==D.rangeCount||D.anchorNode!==E.node||D.anchorOffset!==E.offset||D.focusNode!==k.node||D.focusOffset!==k.offset)&&((S=document.createRange()).setStart(E.node,E.offset),D.removeAllRanges(),T>w?(D.addRange(S),D.extend(k.node,k.offset)):(S.setEnd(k.node,k.offset),D.addRange(S))))),D=[];for(T=C;T=T.parentNode;)1===T.nodeType&&D.push({element:T,left:T.scrollLeft,top:T.scrollTop});for(C.focus(),C=0;C<D.length;C++)(T=D[C]).element.scrollLeft=T.left,T.element.scrollTop=T.top}for(Gr=null,Pn(zr),zr=null,n.current=t,ri=a;null!==ri;){a=!1,C=void 0;try{for(D=r;null!==ri;){var M=ri.effectTag;if(36&M){var P=ri.alternate;switch(w=D,(T=ri).tag){case 2:var x=T.stateNode;if(4&T.effectTag)if(null===P)x.props=T.memoizedProps,x.state=T.memoizedState,x.componentDidMount();else{var j=P.memoizedProps,N=P.memoizedState;x.props=T.memoizedProps,x.state=T.memoizedState,x.componentDidUpdate(j,N,x.__reactInternalSnapshotBeforeUpdate)}var A=T.updateQueue;null!==A&&(x.props=T.memoizedProps,x.state=T.memoizedState,Ua(T,A,x));break;case 3:var R=T.updateQueue;if(null!==R){if(E=null,null!==T.child)switch(T.child.tag){case 5:E=T.child.stateNode;break;case 2:E=T.child.stateNode}Ua(T,R,E)}break;case 5:var L=T.stateNode;null===P&&4&T.effectTag&&qr(T.type,T.memoizedProps)&&L.focus();break;case 6:case 4:case 15:case 16:break;default:f("163")}}if(128&M){T=void 0;var I=ri.ref;if(null!==I){var F=ri.stateNode;switch(ri.tag){case 5:T=F;break;default:T=F}"function"==typeof I?I(T):I.current=T}}var Y=ri.nextEffect;ri.nextEffect=null,ri=Y}}catch(e){a=!0,C=e}a&&(null===ri&&f("178"),di(ri,C),null!==ri&&(ri=ri.nextEffect))}Qo=ai=!1,Da(t.stateNode),0===(t=n.current.expirationTime)&&(ii=null),e.remainingExpirationTime=t}function qi(){return!(null===Mi||Mi.timeRemaining()>Li)&&(Ci=!0)}function Ki(e){null===ki&&f("246"),ki.remainingExpirationTime=0,Di||(Di=!0,Ti=e)}function $i(e,t){var n=Pi;Pi=!0;try{return e(t)}finally{(Pi=n)||Ei||Hi()}}function Ji(e,t){if(Pi&&!xi){xi=!0;try{return e(t)}finally{xi=!1}}return e(t)}function Qi(e,t){Ei&&f("187");var n=Pi;Pi=!0;try{return yi(e,t)}finally{Pi=n,Hi()}}function Xi(e){var t=Pi;Pi=!0;try{yi(e)}finally{(Pi=t)||Ei||Vi(1,!1,null)}}function Zi(e,t,n,r,a){var o=t.current;if(n){var i;n=n._reactInternalFiber;e:{for(2===on(n)&&2===n.tag||f("170"),i=n;3!==i.tag;){if(ca(i)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}(i=i.return)||f("171")}i=i.stateNode.context}n=ca(n)?ha(n,i):i}else n=d;return null===t.context?t.context=n:t.pendingContext=n,t=a,(a=ja(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(a.callback=t),Aa(o,a,r),hi(o,r),r}function es(e){var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?f("188"):f("268",Object.keys(e))),null===(e=ln(t))?null:e.stateNode}function ts(e,t,n,r){var a=t.current;return Zi(e,t,n,a=pi(mi(),a),r)}function ns(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function rs(e){var t=e.findFiberByHostInstance;return function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Sa=Ca(function(e){return t.onCommitFiberRoot(n,e)}),Oa=Ca(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}(i({},e,{findHostInstanceByFiber:function(e){return null===(e=ln(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}var as=$i,os=function(e,t,n){if(ji)return e(t,n);Pi||Ei||0===Oi||(Vi(Oi,!1,null),Oi=0);var r=ji,a=Pi;Pi=ji=!0;try{return e(t,n)}finally{ji=r,(Pi=a)||Ei||Hi()}},is=function(){Ei||0===Oi||(Vi(Oi,!1,null),Oi=0)};function ss(e){this._expirationTime=fi(),this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function us(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function ls(e,t,n){this._internalRoot=ka(e,t,n)}function cs(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ds(e,t,n,r,a){cs(n)||f("200");var o=n._reactRootContainer;if(o){if("function"==typeof a){var i=a;a=function(){var e=ns(o._internalRoot);i.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,a):o.render(t,a)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ls(e,!1,t)}(n,r),"function"==typeof a){var s=a;a=function(){var e=ns(o._internalRoot);s.call(e)}}Ji(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,a):o.render(t,a)})}return ns(o._internalRoot)}function fs(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return cs(t)||f("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ut,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ye.injectFiberControlledHostComponent(Wr),ss.prototype.render=function(e){this._defer||f("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new us;return Zi(e,t,null,n,r._onCommit),r},ss.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},ss.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||f("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,a=t;a!==this;)r=a,a=a._next;null===r&&f("251"),r._next=a._next,this._next=t,e.firstBatch=this}this._defer=!1,Bi(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},ss.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},us.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},us.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&f("191",n),n()}}},ls.prototype.render=function(e,t){var n=this._internalRoot,r=new us;return null!==(t=void 0===t?null:t)&&r.then(t),ts(e,n,null,r._onCommit),r},ls.prototype.unmount=function(e){var t=this._internalRoot,n=new us;return null!==(e=void 0===e?null:e)&&n.then(e),ts(null,t,null,n._onCommit),n},ls.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,a=new us;return null!==(n=void 0===n?null:n)&&a.then(n),ts(t,r,e,a._onCommit),a},ls.prototype.createBatch=function(){var e=new ss(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime<=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},qe=as,Ke=os,$e=is;var ps={createPortal:fs,findDOMNode:function(e){return null==e?null:1===e.nodeType?e:es(e)},hydrate:function(e,t,n){return ds(null,e,t,!0,n)},render:function(e,t,n){return ds(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return(null==e||void 0===e._reactInternalFiber)&&f("38"),ds(e,t,n,!1,r)},unmountComponentAtNode:function(e){return cs(e)||f("40"),!!e._reactRootContainer&&(Ji(function(){ds(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return fs.apply(void 0,arguments)},unstable_batchedUpdates:$i,unstable_deferredUpdates:vi,flushSync:Qi,unstable_flushControlled:Xi,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:Y,EventPluginRegistry:S,EventPropagators:ne,ReactControlledComponent:Ge,ReactDOMComponentTree:G,ReactDOMEventListener:Rn},unstable_createRoot:function(e,t){return new ls(e,!0,null!=t&&!0===t.hydrate)}};rs({findFiberByHostInstance:B,bundleType:0,version:"16.4.0",rendererPackageName:"react-dom"});var hs={default:ps},ms=hs&&ps||hs;e.exports=ms.default?ms.default:ms},function(e,t,n){"use strict";
/** @license React v16.4.0
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(16),a=n(100),o=n(192),i=n(99),s="function"==typeof Symbol&&Symbol.for,u=s?Symbol.for("react.element"):60103,l=s?Symbol.for("react.portal"):60106,c=s?Symbol.for("react.fragment"):60107,d=s?Symbol.for("react.strict_mode"):60108,f=s?Symbol.for("react.profiler"):60114,p=s?Symbol.for("react.provider"):60109,h=s?Symbol.for("react.context"):60110,m=s?Symbol.for("react.async_mode"):60111,v=s?Symbol.for("react.forward_ref"):60112;s&&Symbol.for("react.timeout");var y="function"==typeof Symbol&&Symbol.iterator;function g(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);a(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function _(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||b}function w(){}function E(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||b}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&g("85"),this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=_.prototype;var k=E.prototype=new w;k.constructor=E,r(k,_.prototype),k.isPureReactComponent=!0;var S={current:null},O=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function D(e,t,n){var r=void 0,a={},o=null,i=null;if(null!=t)for(r in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)O.call(t,r)&&!C.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:u,type:e,key:o,ref:i,props:a,_owner:S.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===u}var M=/\/+/g,P=[];function x(e,t,n,r){if(P.length){var a=P.pop();return a.result=e,a.keyPrefix=t,a.func=n,a.context=r,a.count=0,a}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function j(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function N(e,t,n,r){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var o=!1;if(null===e)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case u:case l:o=!0}}if(o)return n(r,e,""===t?"."+A(e,0):t),1;if(o=0,t=""===t?".":t+":",Array.isArray(e))for(var i=0;i<e.length;i++){var s=t+A(a=e[i],i);o+=N(a,s,n,r)}else if(null===e||void 0===e?s=null:s="function"==typeof(s=y&&e[y]||e["@@iterator"])?s:null,"function"==typeof s)for(e=s.call(e),i=0;!(a=e.next()).done;)o+=N(a=a.value,s=t+A(a,i++),n,r);else"object"===a&&g("31","[object Object]"===(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return o}function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function R(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var r=e.result,a=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?I(e,r,n,i.thatReturnsArgument):null!=e&&(T(e)&&(t=a+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(M,"$&/")+"/")+n,e={$$typeof:u,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function I(e,t,n,r,a){var o="";null!=n&&(o=(""+n).replace(M,"$&/")+"/"),t=x(t,o,r,a),null==e||N(e,"",L,t),j(t)}var F={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return I(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=x(null,null,t,n),null==e||N(e,"",R,t),j(t)},count:function(e){return null==e?0:N(e,"",i.thatReturnsNull,null)},toArray:function(e){var t=[];return I(e,t,null,i.thatReturnsArgument),t},only:function(e){return T(e)||g("143"),e}},createRef:function(){return{current:null}},Component:_,PureComponent:E,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_currentValue2:e,_changedBits:0,_changedBits2:0,Provider:null,Consumer:null}).Provider={$$typeof:p,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:v,render:e}},Fragment:c,StrictMode:d,unstable_AsyncMode:m,unstable_Profiler:f,createElement:D,cloneElement:function(e,t,n){(null===e||void 0===e)&&g("267",e);var a=void 0,o=r({},e.props),i=e.key,s=e.ref,l=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,l=S.current),void 0!==t.key&&(i=""+t.key);var c=void 0;for(a in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)O.call(t,a)&&!C.hasOwnProperty(a)&&(o[a]=void 0===t[a]&&void 0!==c?c[a]:t[a])}if(1===(a=arguments.length-2))o.children=n;else if(1<a){c=Array(a);for(var d=0;d<a;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:u,type:e.type,key:i,ref:s,props:o,_owner:l}},createFactory:function(e){var t=D.bind(null,e);return t.type=e,t},isValidElement:T,version:"16.4.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:S,assign:r}},Y={default:F},U=Y&&F||Y;e.exports=U.default?U.default:U},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeCancelable=function(e){var t=!1,n=new Promise(function(n,r){e.then(function(e){return t?r({isCanceled:!0}):n(e)},function(e){return r(t?{isCanceled:!0}:e)})});return{promise:n,then:function(e,t){return n.then(e,t)},catch:function(e){return n.catch(e)},cancel:function(){t=!0},isCanceled:function(){return t}}}},function(e,t,n){"use strict";var r=n(194),a=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:r.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},i=function(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,i=/(\[[^[\]]*])/.exec(r),s=i?r.slice(0,i.index):r,u=[];if(s){if(!n.plainObjects&&a.call(Object.prototype,s)&&!n.allowPrototypes)return;u.push(s)}for(var l=0;null!==(i=o.exec(r))&&l<n.depth;){if(l+=1,!n.plainObjects&&a.call(Object.prototype,i[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(i[1])}return i&&u.push("["+r.slice(i.index)+"]"),function(e,t,n){for(var r=t,a=e.length-1;a>=0;--a){var o,i=e[a];if("[]"===i)o=(o=[]).concat(r);else{o=n.plainObjects?Object.create(null):{};var s="["===i.charAt(0)&&"]"===i.charAt(i.length-1)?i.slice(1,-1):i,u=parseInt(s,10);!isNaN(u)&&i!==s&&String(u)===s&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(o=[])[u]=r:o[s]=r}r=o}return r}(u,t,n)}};e.exports=function(e,t){var n=t?r.assign({},t):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"==typeof n.delimiter||r.isRegExp(n.delimiter)?n.delimiter:o.delimiter,n.depth="number"==typeof n.depth?n.depth:o.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:o.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:o.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:o.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:o.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:o.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:o.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:o.strictNullHandling,""===e||null===e||void 0===e)return n.plainObjects?Object.create(null):{};for(var s="string"==typeof e?function(e,t){for(var n={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,s=r.split(t.delimiter,i),u=0;u<s.length;++u){var l,c,d=s[u],f=d.indexOf("]="),p=-1===f?d.indexOf("="):f+1;-1===p?(l=t.decoder(d,o.decoder),c=t.strictNullHandling?null:""):(l=t.decoder(d.slice(0,p),o.decoder),c=t.decoder(d.slice(p+1),o.decoder)),a.call(n,l)?n[l]=[].concat(n[l]).concat(c):n[l]=c}return n}(e,n):e,u=n.plainObjects?Object.create(null):{},l=Object.keys(s),c=0;c<l.length;++c){var d=l[c],f=i(d,s[d],n);u=r.merge(u,f,n)}return r.compact(u)}},function(e,t,n){"use strict";var r=n(194),a=n(193),o={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},i=Date.prototype.toISOString,s={delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,serializeDate:function(e){return i.call(e)},skipNulls:!1,strictNullHandling:!1},u=function e(t,n,a,o,i,u,l,c,d,f,p,h){var m=t;if("function"==typeof l)m=l(n,m);else if(m instanceof Date)m=f(m);else if(null===m){if(o)return u&&!h?u(n,s.encoder):n;m=""}if("string"==typeof m||"number"==typeof m||"boolean"==typeof m||r.isBuffer(m))return u?[p(h?n:u(n,s.encoder))+"="+p(u(m,s.encoder))]:[p(n)+"="+p(String(m))];var v,y=[];if(void 0===m)return y;if(Array.isArray(l))v=l;else{var g=Object.keys(m);v=c?g.sort(c):g}for(var b=0;b<v.length;++b){var _=v[b];i&&null===m[_]||(y=Array.isArray(m)?y.concat(e(m[_],a(n,_),a,o,i,u,l,c,d,f,p,h)):y.concat(e(m[_],n+(d?"."+_:"["+_+"]"),a,o,i,u,l,c,d,f,p,h)))}return y};e.exports=function(e,t){var n=e,i=t?r.assign({},t):{};if(null!==i.encoder&&void 0!==i.encoder&&"function"!=typeof i.encoder)throw new TypeError("Encoder has to be a function.");var l=void 0===i.delimiter?s.delimiter:i.delimiter,c="boolean"==typeof i.strictNullHandling?i.strictNullHandling:s.strictNullHandling,d="boolean"==typeof i.skipNulls?i.skipNulls:s.skipNulls,f="boolean"==typeof i.encode?i.encode:s.encode,p="function"==typeof i.encoder?i.encoder:s.encoder,h="function"==typeof i.sort?i.sort:null,m=void 0!==i.allowDots&&i.allowDots,v="function"==typeof i.serializeDate?i.serializeDate:s.serializeDate,y="boolean"==typeof i.encodeValuesOnly?i.encodeValuesOnly:s.encodeValuesOnly;if(void 0===i.format)i.format=a.default;else if(!Object.prototype.hasOwnProperty.call(a.formatters,i.format))throw new TypeError("Unknown format option provided.");var g,b,_=a.formatters[i.format];"function"==typeof i.filter?n=(b=i.filter)("",n):Array.isArray(i.filter)&&(g=b=i.filter);var w,E=[];if("object"!=typeof n||null===n)return"";w=i.arrayFormat in o?i.arrayFormat:"indices"in i?i.indices?"indices":"repeat":"indices";var k=o[w];g||(g=Object.keys(n)),h&&g.sort(h);for(var S=0;S<g.length;++S){var O=g[S];d&&null===n[O]||(E=E.concat(u(n[O],O,k,c,d,f?p:null,b,h,m,v,_,y)))}var C=E.join(l),D=!0===i.addQueryPrefix?"?":"";return C.length>0?D+C:""}},function(e,t,n){"use strict";var r=n(423),a=n(422),o=n(193);e.exports={formats:o,parse:a,stringify:r}},function(e,t,n){var r={"./cs":116,"./cs.js":116,"./da":115,"./da.js":115,"./de":114,"./de.js":114,"./es":113,"./es.js":113,"./fr":112,"./fr.js":112,"./hr":111,"./hr.js":111,"./hu":110,"./hu.js":110,"./it":109,"./it.js":109,"./nl":108,"./nl.js":108,"./pl":107,"./pl.js":107,"./pt":106,"./pt.js":106,"./ro":105,"./ro.js":105,"./sk":104,"./sk.js":104,"./tr":103,"./tr.js":103,"./zh-cn":102,"./zh-cn.js":102,"./zh-tw":101,"./zh-tw.js":101};function a(e){var t=o(e);return n(t)}function o(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=425},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(1)),o=n(36),i=s(n(18));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){var e=this;if("auto"===this.props.route)return this.props.routes.map(function(e){return a.default.createElement(o.Route,{key:e.name,path:i.default.getRawPath(e.name),render:function(){return a.default.createElement("i",{className:e.icon})}})});var t=a.default.createElement("span",null);return this.props.routes.forEach(function(n){n.name===e.props.route&&(t=a.default.createElement("i",{className:n.icon}))}),t}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(1)),o=l(n(6)),i=n(176),s=l(n(17)),u=l(n(189));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.menuRef=null,n.showMenu=function(e){e.preventDefault(),e.stopPropagation();var t=n.menuRef.getBoundingClientRect();if(n.state.expanded)return(0,i.hideMenu)({id:"userMenu"}),void n.setState({expanded:!n.state.expanded});(0,i.hideMenu)({id:"userMenu"}),(0,i.showMenu)({position:{x:t.right,y:t.bottom},target:n.menuRef,id:"userMenu",data:{}}),n.setState({expanded:!n.state.expanded})},n.handleOuterClick=function(e){n.setState({expanded:!1})},n.state={expanded:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"renderDropdown",value:function(){var e=this;if(null!==this.props.user){var t=null;return this.props.user.calendarPasswordRequired&&(t="?token="+s.default.getAppKey()),a.default.createElement("div",{className:"toolbar-menu"},a.default.createElement("div",{className:"toolbar-button",onClick:this.showMenu,ref:function(t){e.menuRef=t},style:{height:"28px"}},a.default.createElement("img",{src:"https://www.gravatar.com/avatar/"+this.props.user.emailHash+"?s=28&d=blank",alt:"",className:"sprite-calendar-img-avatar-header"})),a.default.createElement(i.ContextMenu,{className:"settings-menu",id:"userMenu"},a.default.createElement(i.MenuItem,{onClick:function(){window.location.href=s.default.getBaseUrl()+"/user/dashboard"}},a.default.createElement("a",{href:s.default.getBaseUrl()+"/user/dashboard"},a.default.createElement("span",{className:"icon-wrapper"},a.default.createElement("i",{className:"sprite-icon-calendar"})),a.default.createElement(o.default,{message:"header.user.dashboard"}))),a.default.createElement(i.MenuItem,{onClick:function(){window.location.href=s.default.getBaseUrl()+"/profile/edit"}},a.default.createElement("a",{href:s.default.getBaseUrl()+"/profile/edit"},a.default.createElement("span",{className:"icon-wrapper"},a.default.createElement("i",{className:"sprite-icon-profile"})),a.default.createElement(o.default,{message:"header.user.profile"}))),a.default.createElement(i.MenuItem,{onClick:function(){window.location.href=s.default.getBaseUrl()+"/user/dashboard/applications"}},a.default.createElement("a",{href:s.default.getBaseUrl()+"/user/dashboard/applications"},a.default.createElement("span",{className:"icon-wrapper"},a.default.createElement("i",{className:"sprite-icon-language"})),a.default.createElement(o.default,{message:"header.user.applications"}))),this.props.user.isAdmin?[a.default.createElement(i.MenuItem,{onClick:function(){window.location.href=s.default.getBaseUrl()+"/admintool96"},key:"admin-menu"},a.default.createElement("a",{href:s.default.getBaseUrl()+"/admintool96"},a.default.createElement("span",{className:"icon-wrapper"},a.default.createElement("i",{className:"sprite-icon-settings"})),a.default.createElement(o.default,{message:"header.user.admin"}))),a.default.createElement(i.MenuItem,{onClick:function(){window.location.href=s.default.getBaseUrl()+"/support/payments/create-invoice"},key:"create-invoice-menu"},a.default.createElement("a",{href:s.default.getBaseUrl()+"/support/payments/create-invoice"},a.default.createElement("span",{className:"icon-wrapper"},a.default.createElement("i",{className:"sprite-icon-daily-agenda"})),a.default.createElement(o.default,{message:"header.user.create_invoice"}))),a.default.createElement(i.MenuItem,{onClick:function(){window.location.href=s.default.getBaseUrl()+"/debug"},key:"debug-menu"},a.default.createElement("a",{href:s.default.getBaseUrl()+"/debug"},a.default.createElement("span",{className:"icon-wrapper"},a.default.createElement("i",{className:"sprite-icon-help"})),a.default.createElement(o.default,{message:"header.user.debug"})))]:null,a.default.createElement(i.MenuItem,{divider:!0}),a.default.createElement(i.MenuItem,{onClick:function(){window.location.href=s.default.getBaseUrl()+"/logout"+(t||"")}},a.default.createElement("a",{href:s.default.getBaseUrl()+"/logout"+(t||"")},a.default.createElement("span",{className:"icon-wrapper"},a.default.createElement("i",{className:"sprite-icon-logout-2"})),a.default.createElement(o.default,{message:"header.user.logout"})))))}}},{key:"render",value:function(){return null===this.props.user?a.default.createElement("a",{href:s.default.getBaseUrl()+"/user/dashboard",className:"user-login-btn"},a.default.createElement("i",{className:"sprite-icon-login"})):this.renderDropdown()}}]),t}();t.default=(0,u.default)(c)},function(e,t,n){"use strict";t.__esModule=!0;t.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},t.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e};var r=t.hasBasename=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)};t.stripBasename=function(e,t){return r(e,t)?e.substr(t.length):e},t.stripTrailingSlash=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},t.parsePath=function(e){var t=e||"/",n="",r="",a=t.indexOf("#");-1!==a&&(r=t.substr(a),t=t.substr(0,a));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}},t.createPath=function(e){var t=e.pathname,n=e.search,r=e.hash,a=t||"/";return n&&"?"!==n&&(a+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(a+="#"===r.charAt(0)?r:"#"+r),a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(27)),i=u(n(57)),s=u(n(76));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={status:null},e.bindActions({handleStatusUpdate:i.default.setStatus,handleClear:i.default.clear,handleClearType:i.default.clearType}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["default"]),a(t,[{key:"handleStatusUpdate",value:function(e){!0!==e.keep&&this.state.status&&"error"===this.state.status.type||(this.state.status=e,clearTimeout(r),!0!==e.keep&&(r=window.setTimeout(function(){i.default.clear()},5e3)))}},{key:"handleClear",value:function(){clearTimeout(r),this.state.status=null}},{key:"handleClearType",value:function(e){this.state.status&&this.state.status.type===e&&(clearTimeout(r),this.state.status=null)}}]),t}();t.default=o.default.createStore(l,"NotificationStore")},function(e,t,n){"use strict";t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};a(n(1));var r=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}t.nameShape=r.default.oneOfType([r.default.string,r.default.shape({enter:r.default.string,leave:r.default.string,active:r.default.string}),r.default.shape({enter:r.default.string,enterActive:r.default.string,leave:r.default.string,leaveActive:r.default.string,appear:r.default.string,appearActive:r.default.string})])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t.default},function(e,t,n){var r;
/*!
 * UAParser.js v0.7.18
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright  2012-2016 Faisal Salman <fyzlman@gmail.com>
 * Dual licensed under GPLv2 or MIT
 */
/*!
 * UAParser.js v0.7.18
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright  2012-2016 Faisal Salman <fyzlman@gmail.com>
 * Dual licensed under GPLv2 or MIT
 */
!function(a,o){"use strict";var i="model",s="name",u="type",l="vendor",c="version",d="mobile",f="tablet",p={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},h={rgx:function(e,t){for(var n,r,a,o,i,s,u=0;u<t.length&&!i;){var l=t[u],c=t[u+1];for(n=r=0;n<l.length&&!i;)if(i=l[n++].exec(e))for(a=0;a<c.length;a++)s=i[++r],"object"==typeof(o=c[a])&&o.length>0?2==o.length?"function"==typeof o[1]?this[o[0]]=o[1].call(this,s):this[o[0]]=o[1]:3==o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=s?s.replace(o[1],o[2]):void 0:this[o[0]]=s?o[1].call(this,s,o[2]):void 0:4==o.length&&(this[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):void 0):this[o]=s||void 0;u+=2}},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(p.has(t[n][r],e))return"?"===n?void 0:n}else if(p.has(t[n],e))return"?"===n?void 0:n;return e}},m={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},v={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[s,c],[/(opios)[\/\s]+([\w\.]+)/i],[[s,"Opera Mini"],c],[/\s(opr)\/([\w\.]+)/i],[[s,"Opera"],c],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[s,c],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[s,"IE"],c],[/(edge|edgios|edgea)\/((\d+)?[\w\.]+)/i],[[s,"Edge"],c],[/(yabrowser)\/([\w\.]+)/i],[[s,"Yandex"],c],[/(puffin)\/([\w\.]+)/i],[[s,"Puffin"],c],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[s,"UCBrowser"],c],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],c],[/(micromessenger)\/([\w\.]+)/i],[[s,"WeChat"],c],[/(qqbrowserlite)\/([\w\.]+)/i],[s,c],[/(QQ)\/([\d\.]+)/i],[s,c],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[s,c],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[s,c],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[s,c],[/(MetaSr)[\/\s]?([\w\.]+)/i],[s],[/(LBBROWSER)/i],[s],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[c,[s,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[c,[s,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[c,[s,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[s,/(.+)/,"$1 WebView"],c],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[s,/(.+(?:g|us))(.+)/,"$1 $2"],c],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[c,[s,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[s,c],[/(dolfin)\/([\w\.]+)/i],[[s,"Dolphin"],c],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[s,"Chrome"],c],[/(coast)\/([\w\.]+)/i],[[s,"Opera Coast"],c],[/fxios\/([\w\.-]+)/i],[c,[s,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[c,[s,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[c,s],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[s,"GSA"],c],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[s,[c,h.str,m.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[s,c],[/(navigator|netscape)\/([\w\.-]+)/i],[[s,"Netscape"],c],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[s,c]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",p.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",p.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",p.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[i,l,[u,f]],[/applecoremedia\/[\w\.]+ \((ipad)/],[i,[l,"Apple"],[u,f]],[/(apple\s{0,1}tv)/i],[[i,"Apple TV"],[l,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[l,i,[u,f]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[i,[l,"Amazon"],[u,f]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[i,h.str,m.device.amazon.model],[l,"Amazon"],[u,d]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[i,l,[u,d]],[/\((ip[honed|\s\w*]+);/i],[i,[l,"Apple"],[u,d]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[l,i,[u,d]],[/\(bb10;\s(\w+)/i],[i,[l,"BlackBerry"],[u,d]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[i,[l,"Asus"],[u,f]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[l,"Sony"],[i,"Xperia Tablet"],[u,f]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[i,[l,"Sony"],[u,d]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[l,i,[u,"console"]],[/android.+;\s(shield)\sbuild/i],[i,[l,"Nvidia"],[u,"console"]],[/(playstation\s[34portablevi]+)/i],[i,[l,"Sony"],[u,"console"]],[/(sprint\s(\w+))/i],[[l,h.str,m.device.sprint.vendor],[i,h.str,m.device.sprint.model],[u,d]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[l,i,[u,f]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[l,[i,/_/g," "],[u,d]],[/(nexus\s9)/i],[i,[l,"HTC"],[u,f]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[i,[l,"Huawei"],[u,d]],[/(microsoft);\s(lumia[\s\w]+)/i],[l,i,[u,d]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[i,[l,"Microsoft"],[u,"console"]],[/(kin\.[onetw]{3})/i],[[i,/\./g," "],[l,"Microsoft"],[u,d]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[i,[l,"Motorola"],[u,d]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[i,[l,"Motorola"],[u,f]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[l,p.trim],[i,p.trim],[u,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[i,/^/,"SmartTV"],[l,"Samsung"],[u,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[i,[l,"Sharp"],[u,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[l,"Samsung"],i,[u,f]],[/smart-tv.+(samsung)/i],[l,[u,"smarttv"],i],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[l,"Samsung"],i,[u,d]],[/sie-(\w*)/i],[i,[l,"Siemens"],[u,d]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[l,"Nokia"],i,[u,d]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[i,[l,"Acer"],[u,f]],[/android.+([vl]k\-?\d{3})\s+build/i],[i,[l,"LG"],[u,f]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[l,"LG"],i,[u,f]],[/(lg) netcast\.tv/i],[l,i,[u,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[i,[l,"LG"],[u,d]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[i,[l,"Lenovo"],[u,f]],[/linux;.+((jolla));/i],[l,i,[u,d]],[/((pebble))app\/[\d\.]+\s/i],[l,i,[u,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[l,i,[u,d]],[/crkey/i],[[i,"Chromecast"],[l,"Google"]],[/android.+;\s(glass)\s\d/i],[i,[l,"Google"],[u,"wearable"]],[/android.+;\s(pixel c)\s/i],[i,[l,"Google"],[u,f]],[/android.+;\s(pixel xl|pixel)\s/i],[i,[l,"Google"],[u,d]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[i,/_/g," "],[l,"Xiaomi"],[u,d]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[i,/_/g," "],[l,"Xiaomi"],[u,f]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[i,[l,"Meizu"],[u,f]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[i,[l,"OnePlus"],[u,d]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[i,[l,"RCA"],[u,f]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[i,[l,"Dell"],[u,f]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[i,[l,"Verizon"],[u,f]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[l,"Barnes & Noble"],i,[u,f]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[i,[l,"NuVision"],[u,f]],[/android.+;\s(k88)\sbuild/i],[i,[l,"ZTE"],[u,f]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[i,[l,"Swiss"],[u,d]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[i,[l,"Swiss"],[u,f]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[i,[l,"Zeki"],[u,f]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[l,"Dragon Touch"],i,[u,f]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[i,[l,"Insignia"],[u,f]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[i,[l,"NextBook"],[u,f]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[l,"Voice"],i,[u,d]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[l,"LvTel"],i,[u,d]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[i,[l,"Envizen"],[u,f]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[l,i,[u,f]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[i,[l,"MachSpeed"],[u,f]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[l,i,[u,f]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[i,[l,"Rotor"],[u,f]],[/android.+(KS(.+))\s+build/i],[i,[l,"Amazon"],[u,f]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[l,i,[u,f]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,p.lowerize],l,i],[/(android[\w\.\s\-]{0,9});.+build/i],[i,[l,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[c,[s,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[s,c],[/rv\:([\w\.]{1,9}).+(gecko)/i],[c,s]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[s,c],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[s,[c,h.str,m.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[s,"Windows"],[c,h.str,m.os.windows.version]],[/\((bb)(10);/i],[[s,"BlackBerry"],c],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[s,c],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[s,"Symbian"],c],[/\((series40);/i],[s],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[s,"Firefox OS"],c],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[s,c],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[s,"Chromium OS"],c],[/(sunos)\s?([\w\.\d]*)/i],[[s,"Solaris"],c],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[s,c],[/(haiku)\s(\w+)/i],[s,c],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[c,/_/g,"."],[s,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[s,"Mac OS"],[c,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]*)/i],[s,c]]},y=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof y))return new y(e,t).getResult();var n=e||(a&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:""),r=t?p.extend(v,t):v;return this.getBrowser=function(){var e={name:void 0,version:void 0};return h.rgx.call(e,n,r.browser),e.major=p.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return h.rgx.call(e,n,r.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return h.rgx.call(e,n,r.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return h.rgx.call(e,n,r.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return h.rgx.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};y.VERSION="0.7.18",y.BROWSER={NAME:s,MAJOR:"major",VERSION:c},y.CPU={ARCHITECTURE:"architecture"},y.DEVICE={MODEL:i,VENDOR:l,TYPE:u,CONSOLE:"console",MOBILE:d,SMARTTV:"smarttv",TABLET:f,WEARABLE:"wearable",EMBEDDED:"embedded"},y.ENGINE={NAME:s,VERSION:c},y.OS={NAME:s,VERSION:c},void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=y),t.UAParser=y):n(206)?void 0===(r=function(){return y}.call(t,n,t,e))||(e.exports=r):a&&(a.UAParser=y);var g=a&&(a.jQuery||a.Zepto);if(void 0!==g){var b=new y;g.ua=b.getResult(),g.ua.get=function(){return b.getUA()},g.ua.set=function(e){b.setUA(e);var t=b.getResult();for(var n in t)g.ua[n]=t[n]}}}("object"==typeof window?window:this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=[{display:"UTC-12:00 International Date Line West",d:"UTC-12 Int. Date Line",value:"Etc/GMT+12",group:"-12",main:1},{display:"UTC-11:00 Coordinated Universal Time-11",d:"UTC-11",value:"Pacific/Pago_Pago",group:"-11",main:1},{display:"UTC-10:00 Aleutian Islands",d:"Aleutian Islands",value:"America/Adak",group:"-10",main:0},{display:"UTC-10:00 Hawaii",d:"Hawaii",value:"Pacific/Honolulu",group:"-10",main:1},{display:"UTC-09:30 Marquesas Islands",d:"Marquesas Islands",value:"Pacific/Marquesas",group:"-9.3",main:1},{display:"UTC-09:00 Alaska",d:"Alaska",value:"America/Anchorage",group:"-9",main:1},{display:"UTC-09:00 Gambier Islands",d:"Gambier Islands",value:"Pacific/Gambier",group:"-9",main:0},{display:"UTC-08:00 Baja California",d:"Baja California",value:"America/Santa_Isabel",group:"-8",main:0},{display:"UTC-08:00 Pacific Time US & Ca",d:"Pacific Time US & Ca",value:"America/Los_Angeles",group:"-8",main:1},{display:"UTC-08:00 Pitcairn Islands",d:"Pitcairn Islands",value:"Pacific/Pitcairn",group:"-8",main:0},{display:"UTC-07:00 Arizona",d:"Arizona",value:"America/Phoenix",group:"-7",main:1},{display:"UTC-07:00 Chihuahua",d:"Chihuahua",value:"America/Chihuahua",group:"-7",main:0},{display:"UTC-07:00 Mazatlan",d:"Mazatlan",value:"America/Mazatlan",group:"-7",main:0},{display:"UTC-07:00 Mountain Time US & Ca",d:"Mountain Time US & Ca",value:"America/Denver",group:"-7",main:0},{display:"UTC-06:00 Central America",d:"Central America",value:"America/Guatemala",group:"-6",main:0},{display:"UTC-06:00 Central Time US & Ca",d:"Central Time US & Ca",value:"America/Chicago",group:"-6",main:1},{display:"UTC-06:00 Easter Island & Sala y Gomez",d:"Easter Island",value:"Pacific/Easter",group:"-6",main:0},{display:"UTC-06:00 Mexico City",d:"Mexico City",value:"America/Mexico_City",group:"-6",main:0},{display:"UTC-06:00 Monterrey",d:"Monterrey",value:"America/Monterrey",group:"-6",main:0},{display:"UTC-06:00 Regina",d:"Regina",value:"America/Regina",group:"-6",main:0},{display:"UTC-05:00 Bogota",d:"Bogota",value:"America/Bogota",group:"-5",main:0},{display:"UTC-05:00 Eastern Time US & Ca",d:"Eastern Time US & Ca",value:"America/New_York",group:"-5",main:1},{display:"UTC-05:00 Havana",d:"Havana",value:"America/Havana",group:"-5",main:0},{display:"UTC-05:00 Indiana East",d:"Indiana East",value:"America/Indianapolis",group:"-5",main:0},{display:"UTC-05:00 Lima",d:"Lima",value:"America/Lima",group:"-5",main:0},{display:"UTC-05:00 Quito",d:"Quito",value:"America/Guayaquil",group:"-5",main:0},{display:"UTC-04:30 Caracas",d:"Caracas",value:"America/Caracas",group:"-4.3",main:1},{display:"UTC-04:00 Asuncion",d:"Asuncion",value:"America/Asuncion",group:"-4",main:0},{display:"UTC-04:00 Atlantic Time Ca",d:"Atlantic Time Ca",value:"America/Halifax",group:"-4",main:1},{display:"UTC-04:00 Cuiaba",d:"Cuiaba",value:"America/Campo_Grande",group:"-4",main:0},{display:"UTC-04:00 Georgetown",d:"Georgetown",value:"America/Santo_Domingo",group:"-4",main:0},{display:"UTC-04:00 Happy Valley - Goose Bay",d:"Goose Bay",value:"America/Goose_Bay",group:"-4",main:0},{display:"UTC-04:00 La Paz",d:"La Paz",value:"America/La_Paz",group:"-4",main:0},{display:"UTC-04:00 Manaus, San Juan",d:"Manaus, San Juan",value:"America/Manaus",group:"-4",main:0},{display:"UTC-04:00 Santiago",d:"Santiago",value:"America/Santiago",group:"-4",main:0},{display:"UTC-03:30 Newfoundland",d:"Newfoundland",value:"America/St_Johns",group:"-3.3",main:1},{display:"UTC-03:00 Brasilia",d:"Brasilia",value:"America/Sao_Paulo",group:"-3",main:1},{display:"UTC-03:00 Buenos Aires",d:"Buenos Aires",value:"America/Argentina/Buenos_Aires",group:"-3",main:0},{display:"UTC-03:00 Cayenne, Fortaleza",d:"Cayenne, Fortaleza",value:"America/Fortaleza",group:"-3",main:0},{display:"UTC-03:00 Greenland",d:"Greenland",value:"America/Godthab",group:"-3",main:0},{display:"UTC-03:00 Miquelon",d:"Miquelon",value:"America/Miquelon",group:"-3",main:0},{display:"UTC-03:00 Montevideo",d:"Montevideo",value:"America/Montevideo",group:"-3",main:0},{display:"UTC-03:00 Salvador",d:"Salvador",value:"America/Bahia",group:"-3",main:0},{display:"UTC-02:00 Coordinated Universal Time-02",d:"UTC-2",value:"America/Noronha",group:"-2",main:1},{display:"UTC-01:00 Azores",d:"Azores",value:"Atlantic/Azores",group:"-1",main:1},{display:"UTC-01:00 Cape Verde Is.",d:"Cape Verde Is.",value:"Atlantic/Cape_Verde",group:"-1",main:0},{display:"UTC+00:00 Casablanca",d:"Casablanca",value:"Africa/Casablanca",group:"0",main:0},{display:"UTC (no daylight savings time)",d:"UTC",value:"UTC",group:"0",main:0},{display:"UTC+00:00 Dublin",d:"Dublin",value:"Europe/Dublin",group:"0",main:0},{display:"UTC+00:00 Lisbon",d:"Lisbon",value:"Europe/Lisbon",group:"0",main:0},{display:"UTC+00:00 London, Edinburgh",d:"London",value:"Europe/London",group:"0",main:1},{display:"UTC+00:00 Monrovia",d:"Monrovia",value:"Africa/Monrovia",group:"0",main:0},{display:"UTC+00:00 Reykjavik",d:"Reykjavik",value:"Atlantic/Reykjavik",group:"0",main:0},{display:"UTC+01:00 Amsterdam",d:"Amsterdam",value:"Europe/Amsterdam",group:"1",main:0},{display:"UTC+01:00 Belgrade",d:"Belgrade",value:"Europe/Belgrade",group:"1",main:0},{display:"UTC+01:00 Berlin",d:"Berlin",value:"Europe/Berlin",group:"1",main:1},{display:"UTC+01:00 Bern",d:"Bern",value:"Europe/Zurich",group:"1",main:0},{display:"UTC+01:00 Bratislava",d:"Bratislava",value:"Europe/Bratislava",group:"1",main:0},{display:"UTC+01:00 Brussels",d:"Brussels",value:"Europe/Brussels",group:"1",main:0},{display:"UTC+01:00 Budapest",d:"Budapest",value:"Europe/Budapest",group:"1",main:0},{display:"UTC+01:00 Copenhagen",d:"Copenhagen",value:"Europe/Copenhagen",group:"1",main:0},{display:"UTC+01:00 Ljubljana",d:"Ljubljana",value:"Europe/Ljubljana",group:"1",main:0},{display:"UTC+01:00 Madrid",d:"Madrid",value:"Europe/Madrid",group:"1",main:0},{display:"UTC+01:00 Paris",d:"Paris",value:"Europe/Paris",group:"1",main:0},{display:"UTC+01:00 Prague",d:"Prague",value:"Europe/Prague",group:"1",main:0},{display:"UTC+01:00 Rome",d:"Rome",value:"Europe/Rome",group:"1",main:0},{display:"UTC+01:00 Sarajevo",d:"Sarajevo",value:"Europe/Sarajevo",group:"1",main:0},{display:"UTC+01:00 Skopje",d:"Skopje",value:"Europe/Skopje",group:"1",main:0},{display:"UTC+01:00 Stockholm",d:"Stockholm",value:"Europe/Stockholm",group:"1",main:0},{display:"UTC+01:00 Vienna",d:"Vienna",value:"Europe/Vienna",group:"1",main:0},{display:"UTC+01:00 Warsaw",d:"Warsaw",value:"Europe/Warsaw",group:"1",main:0},{display:"UTC+01:00 West Central Africa",d:"West Central Africa",value:"Africa/Lagos",group:"1",main:0},{display:"UTC+01:00 Windhoek",d:"Windhoek",value:"Africa/Windhoek",group:"1",main:0},{display:"UTC+01:00 Zagreb",d:"Zagreb",value:"Europe/Zagreb",group:"1",main:0},{display:"UTC+02:00 Athens",d:"Athens",value:"Europe/Athens",group:"2",main:0},{display:"UTC+02:00 Beirut",d:"Beirut",value:"Asia/Beirut",group:"2",main:0},{display:"UTC+02:00 Bucharest",d:"Bucharest",value:"Europe/Bucharest",group:"2",main:0},{display:"UTC+02:00 Cairo",d:"Cairo",value:"Africa/Cairo",group:"2",main:1},{display:"UTC+02:00 Damaskus",d:"Damaskus",value:"Asia/Damascus",group:"2",main:0},{display:"UTC+02:00 E. Europe",d:"E. Europe",value:"Asia/Nicosia",group:"2",main:0},{display:"UTC+02:00 Gaza",d:"Gaza",value:"Asia/Gaza",group:"2",main:0},{display:"UTC+02:00 Harare",d:"Harare",value:"Africa/Harare",group:"2",main:0},{display:"UTC+02:00 Helsinki",d:"Helsinki",value:"Europe/Helsinki",group:"2",main:0},{display:"UTC+02:00 Jerusalem",d:"Jerusalem",value:"Asia/Jerusalem",group:"2",main:0},{display:"UTC+02:00 Kyiv",d:"Kyiv",value:"Europe/Kiev",group:"2",main:0},{display:"UTC+02:00 Pretoria",d:"Pretoria",value:"Africa/Johannesburg",group:"2",main:0},{display:"UTC+02:00 Riga",d:"Riga",value:"Europe/Riga",group:"2",main:0},{display:"UTC+02:00 Sofia",d:"Sofia",value:"Europe/Sofia",group:"2",main:0},{display:"UTC+02:00 Tallinn",d:"Tallinn",value:"Europe/Tallinn",group:"2",main:0},{display:"UTC+02:00 Vilnius",d:"Vilnius",value:"Europe/Vilnius",group:"2",main:0},{display:"UTC+03:00 Istanbul",d:"Istanbul",value:"Europe/Istanbul",group:"3",main:1},{display:"UTC+03:00 Amman",d:"Amman",value:"Asia/Amman",group:"3",main:0},{display:"UTC+03:00 Baghdad",d:"Baghdad",value:"Asia/Baghdad",group:"3",main:0},{display:"UTC+03:00 Kaliningrad",d:"Kaliningrad",value:"Europe/Kaliningrad",group:"3",main:0},{display:"UTC+03:00 Kuwait",d:"Kuwait",value:"Asia/Kuwait",group:"3",main:0},{display:"UTC+03:00 Minsk",d:"Minsk",value:"Europe/Minsk",group:"3",main:0},{display:"UTC+03:00 Nairobi",d:"Nairobi",value:"Africa/Nairobi",group:"3",main:0},{display:"UTC+03:00 Riyadh",d:"Riyadh",value:"Asia/Riyadh",group:"3",main:0},{display:"UTC+03:30 Tehran",d:"Tehran",value:"Asia/Tehran",group:"3.3",main:1},{display:"UTC+04:00 Abu Dhabi",d:"Abu Dhabi",value:"Asia/Dubai",group:"4",main:1},{display:"UTC+04:00 Baku",d:"Baku",value:"Asia/Baku",group:"4",main:0},{display:"UTC+04:00 Moscow",d:"Moscow",value:"Europe/Moscow",group:"4",main:0},{display:"UTC+04:00 Muscat",d:"Muscat",value:"Asia/Muscat",group:"4",main:0},{display:"UTC+04:00 Port Louis",d:"Port Louis",value:"Indian/Mauritius",group:"4",main:0},{display:"UTC+04:00 Tbilisi",d:"Tbilisi",value:"Asia/Tbilisi",group:"4",main:0},{display:"UTC+04:00 Yerevan",d:"Yerevan",value:"Asia/Yerevan",group:"4",main:0},{display:"UTC+04:30 Kabul",d:"Kabul",value:"Asia/Kabul",group:"4.3",main:1},{display:"UTC+05:00 Islamabad",d:"Islamabad",value:"Asia/Karachi",group:"5",main:1},{display:"UTC+05:00 Tashkent",d:"Tashkent",value:"Asia/Tashkent",group:"5",main:0},{display:"UTC+05:30 New Delhi",d:"New Delhi",value:"Asia/Kolkata",group:"5.3",main:1},{display:"UTC+05:30 Sri Jayawardenepura",d:"Sri Jayawardenepura",value:"Asia/Colombo",group:"5.3",main:0},{display:"UTC+05:45 Kathmandu",d:"Kathmandu",value:"Asia/Kathmandu",group:"5.45",main:1},{display:"UTC+06:00 Astana",d:"Astana",value:"Asia/Almaty",group:"6",main:0},{display:"UTC+06:00 Dhaka",d:"Dhaka",value:"Asia/Dhaka",group:"6",main:1},{display:"UTC+06:00 Ekaterinburg",d:"Ekaterinburg",value:"Asia/Yekaterinburg",group:"6",main:0},{display:"UTC+06:00 Omsk",d:"Omsk",value:"Asia/Omsk",group:"6",main:0},{display:"UTC+06:30 Yangon (Rangoon)",d:"Yangon",value:"Asia/Rangoon",group:"6.3",main:1},{display:"UTC+07:00 Bangkok",d:"Bangkok",value:"Asia/Bangkok",group:"7",main:0},{display:"UTC+07:00 Hanoi",d:"Hanoi",value:"Asia/Ho_Chi_Minh",group:"7",main:0},{display:"UTC+07:00 Jakarta",d:"Jakarta",value:"Asia/Jakarta",group:"7",main:1},{display:"UTC+07:00 Novosibirsk",d:"Novosibirsk",value:"Asia/Novosibirsk",group:"7",main:0},{display:"UTC+08:00 Krasnoyarsk",d:"Krasnoyarsk",value:"Asia/Krasnoyarsk",group:"8",main:0},{display:"UTC+08:00 Kuala Lumpur",d:"Kuala Lumpur",value:"Asia/Kuala_Lumpur",group:"8",main:0},{display:"UTC+08:00 Perth",d:"Perth",value:"Australia/Perth",group:"8",main:0},{display:"UTC+08:00 Shanghai",d:"Shanghai",value:"Asia/Shanghai",group:"8",main:1},{display:"UTC+08:00 Singapore",d:"Singapore",value:"Asia/Singapore",group:"8",main:0},{display:"UTC+08:00 Taipei",d:"Taipei",value:"Asia/Taipei",group:"8",main:0},{display:"UTC+08:00 Ulaanbaatar",d:"Ulaanbaatar",value:"Asia/Ulaanbaatar",group:"8",main:0},{display:"UTC+08:45 Eucla area",d:"Eucla",value:"Australia/Eucla",group:"8.45",main:1},{display:"UTC+09:00 Irkutsk",d:"Irkutsk",value:"Asia/Irkutsk",group:"9",main:0},{display:"UTC+09:00 Seoul",d:"Seoul",value:"Asia/Seoul",group:"9",main:0},{display:"UTC+09:00 Tokyo",d:"Tokyo",value:"Asia/Tokyo",group:"9",main:1},{display:"UTC+09:30 Adelaide",d:"Adelaide",value:"Australia/Adelaide",group:"9.3",main:1},{display:"UTC+09:30 Darwin",d:"Darwin",value:"Australia/Darwin",group:"9.3",main:0},{display:"UTC+10:00 Brisbane",d:"Brisbane",value:"Australia/Brisbane",group:"10",main:0},{display:"UTC+10:00 Guam",d:"Guam",value:"Pacific/Guam",group:"10",main:0},{display:"UTC+10:00 Hobart",d:"Hobart",value:"Australia/Hobart",group:"10",main:0},{display:"UTC+10:00 Port Moresby",d:"Port Moresby",value:"Pacific/Port_Moresby",group:"10",main:0},{display:"UTC+10:00 Sydney",d:"Sydney",value:"Australia/Sydney",group:"10",main:1},{display:"UTC+10:00 Yakutsk",d:"Yakutsk",value:"Asia/Yakutsk",group:"10",main:0},{display:"UTC+10:30 Lord Howe Island",d:"Lord Howe",value:"Australia/Lord_Howe",group:"10.3",main:1},{display:"UTC+11:00 New Caledonia",d:"New Caledonia",value:"Pacific/Noumea",group:"11",main:0},{display:"UTC+11:00 Vladivostok",d:"Vladivostok",value:"Asia/Vladivostok",group:"11",main:1},{display:"UTC+11:30 Norfolk Island",d:"Norfolk Island",value:"Pacific/Norfolk",group:"11.3",main:1},{display:"UTC+12:00 Coordinated Universal Time+12",d:"UTC+12",value:"Pacific/Tarawa",group:"12",main:0},{display:"UTC+12:00 Fiji",d:"Fiji",value:"Pacific/Fiji",group:"12",main:0},{display:"UTC+12:00 Kamchatka",d:"Kamchatka",value:"Asia/Kamchatka",group:"12",main:0},{display:"UTC+12:00 Magadan",d:"Magadan",value:"Asia/Magadan",group:"12",main:0},{display:"UTC+12:00 Marshall Islands",d:"UTC+12 Marshall Island",value:"Pacific/Majuro",group:"12",main:0},{display:"UTC+12:00 Wellington",d:"Wellington",value:"Pacific/Auckland",group:"12",main:1},{display:"UTC+12:45 Chatham Island",d:"Chatham Island",value:"Pacific/Chatham",group:"12.45",main:1},{display:"UTC+13:00 Nuku'alofa",d:"Nuku'alofa",value:"Pacific/Tongatapu",group:"13",main:0},{display:"UTC+13:00 Samoa",d:"Samoa",value:"Pacific/Apia",group:"13",main:1},{display:"UTC+14:00 Kiritimati, Line Islands",d:"Line Islands",value:"Pacific/Kiritimati",group:"14",main:1}],o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"getTimezones",value:function(){return a}},{key:"getShortString",value:function(e){for(var t=a,n=0;n<t.length;n++){var r=t[n];if(r.value==e)return r.d}return e.replace(/[^\/]+\//g,"").replace(/_/g," ")}},{key:"getDisplayString",value:function(e){for(var t=a,n=0;n<t.length;n++){var r=t[n];if(r.value==e)return r.display}return e.replace(/[^\/]+\//g,"").replace(/_/g," ")}},{key:"getOffset",value:function(e){for(var t=a,n=0;n<t.length;n++){var r=t[n];if(r.value==e)return r.group}return e.replace(/[^\/]+\//g,"").replace(/_/g," ")}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={makeIdFromName:function(e,t){var n=e.toLowerCase();String.prototype.hasOwnProperty("normalize")&&(n=n.normalize("NFKD")),"_"===(n=n.replace(/[^0-9a-z]+/g,"_"))&&(n=""),0===n.indexOf("builtin_")&&(n="_"+n);var r=function(e){return-1!==t.findIndex(function(t){return t.id===e})};if(""===n||r(n)){for(var a=0;r(n+a);)a++;n+=a}return n},listToMap:function(e){var t={};return e.forEach(function(e){t[e.id]=e}),t}}},function(e,t,n){var r=n(584),a=1,o=4;e.exports=function(e){return r(e,a|o)}},function(e,t,n){var r=n(209)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(201),a=n(436),o=n(146),i=n(212),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=a(e);return t}:i;e.exports=s},function(e,t,n){var r=n(211),a=n(627),o=n(92);e.exports=function(e){return o(e)?r(e,!0):a(e)}},function(e,t,n){var r=n(350);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(439),a=n(96),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var i=e[t];o.call(e,t)&&a(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(180),a=n(461),o=n(459);e.exports=function(e,t){return o(a(e,t,r),e+"")}},function(e,t){e.exports=function(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}},function(e,t,n){var r=n(181),a=n(467),o=n(441),i=n(455),s=o(function(e){var t=r(e,i);return t.length&&t[0]===e[0]?a(t):[]});e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n(27)),o=d(n(694)),i=d(n(57)),s=d(n(10)),u=d(n(73)),l=d(n(207)),c=d(n(469));function d(e){return e&&e.__esModule?e:{default:e}}var f=s.default.partial("settings"),p=s.default.partial("core_js"),h=a.default.createActions(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u["default"]),r(t,[{key:"actionFailed",value:function(e){return i.default.flashStatus(p("status.save_failed"),"error"),Promise.reject(e)}},{key:"refresh",value:function(){return o.default.refresh().then(function(e){return h.linksUpdated(e.keys),e.keys}).catch(h.actionFailed)}},{key:"linksUpdated",value:function(e){return this.dispatch(e),Promise.resolve(e)}},{key:"createLink",value:function(e){return this.dispatch(e),i.default.flashStatus(f("sharing.status.saving",{name:e.name}),"saving"),o.default.createKey(e).then(function(e){return h.linkCreated(e.key),e.key}).catch(h.actionFailed).then(l.default.updateResources).then(c.default.clear)}},{key:"linkCreated",value:function(e){return this.dispatch(e),i.default.flashStatus(f("sharing.status.created",{name:e.name}),"saved"),Promise.resolve(e)}},{key:"activateLink",value:function(e){return this.dispatch(e),i.default.flashStatus(f("sharing.status.saving",{name:e.name}),"saving"),o.default.activateKey(e).then(function(e){return h.linkActivated(e.key)}).catch(h.actionFailed).then(c.default.clear)}},{key:"linkActivated",value:function(e){return this.dispatch(e),i.default.flashStatus(f("sharing.status.activated",{name:e.name}),"saved"),Promise.resolve(e)}},{key:"deactivateLink",value:function(e){return this.dispatch(e),i.default.flashStatus(f("sharing.status.saving",{name:e.name}),"saving"),o.default.deactivateKey(e).then(function(e){return h.linkDeactivated(e.key)}).catch(h.actionFailed).then(c.default.clear)}},{key:"linkDeactivated",value:function(e){return this.dispatch(e),i.default.flashStatus(f("sharing.status.deactivated",{name:e.name}),"saved"),Promise.resolve(e)}},{key:"updateLink",value:function(e){return this.dispatch(e),i.default.flashStatus(p("status.saving",{name:e.name}),"saving"),o.default.updateKey(e).then(function(e){return h.linkWasUpdated(e.key),e.key}).catch(h.actionFailed).then(l.default.updateResources).then(c.default.clear)}},{key:"linkWasUpdated",value:function(e){return this.dispatch(e),i.default.flashStatus(p("status.save_success",{name:e.name}),"saved"),Promise.resolve(e)}},{key:"deleteLink",value:function(e){return this.dispatch(e),i.default.setStatus(f("sharing.status.deleting",{name:e.name}),"saving"),o.default.deleteKey(e).then(function(){return h.linkWasDeleted(e)}).catch(h.actionFailed).then(l.default.updateResources).then(c.default.clear)}},{key:"linkWasDeleted",value:function(e){return this.dispatch(e),i.default.flashStatus(f("sharing.status.deleted",{name:e.name}),"saved"),Promise.resolve(e)}},{key:"sendInvitation",value:function(e){return i.default.setStatus(f("sharing.status.sending_invitation",{name:e.name}),"saving"),o.default.sendInvitation(e).then(function(){return h.invitationSent(e)}).catch(h.actionFailed)}},{key:"invitationSent",value:function(e){return i.default.flashStatus(f("sharing.status.invitation_sent",{name:e.name}),"saved"),Promise.resolve(e)}}]),t}());t.default=h},function(e,t,n){e.exports=function(){"use strict";var e={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n=Object.defineProperty,r=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,o=Object.getOwnPropertyDescriptor,i=Object.getPrototypeOf,s=i&&i(Object);return function u(l,c,d){if("string"!=typeof c){if(s){var f=i(c);f&&f!==s&&u(l,f,d)}var p=r(c);a&&(p=p.concat(a(c)));for(var h=0;h<p.length;++h){var m=p[h];if(!(e[m]||t[m]||d&&d[m])){var v=o(c,m);try{n(l,m,v)}catch(e){}}}return l}return l}}()},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(43),i=n(17),s=(r=i)&&r.__esModule?r:{default:r};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"storeComment",value:function(e,t,n){var r="POST",a=void 0;a=t?s.default.getBaseUrl()+"/"+s.default.getAppKey()+"/events/"+t+"/comments":s.default.getBaseUrl()+"/events/pointer/"+n+"/comments";var i={name:e.name,email:e.email,message:e.message};return e.id>0&&(i.id=e.id,r="PUT",a+="/"+e.id),(0,o.makeRequest)(r,a,i)}},{key:"deleteComment",value:function(e,t){return(0,o.makeRequest)("DELETE",s.default.getBaseUrl()+"/"+s.default.getAppKey()+"/events/"+t+"/comments/"+e.id)}}]),e}();t.default=new u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(1)),o=s(n(45)),i=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"componentDidMount",value:function(){this.interval=window.setInterval(this.forceUpdate.bind(this),6e4)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.interval)}},{key:"render",value:function(){var e=o.default.get("time_moment"),t=o.default.get("short_date_time_moment").replace("%time%",e),n=i.default.min(this.props.date,(0,i.default)()).fromNow(),r=this.props.template?this.props.template.replace("%time_ago%",n):n;return a.default.createElement("time",{title:this.props.date.format(t),className:this.props.className,dateTime:this.props.date.format()},r)}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(43),i=n(17),s=(r=i)&&r.__esModule?r:{default:r};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"storeSignup",value:function(e,t,n){var r="POST",a=void 0;a=t?s.default.getBaseUrl()+"/"+s.default.getAppKey()+"/events/"+t+"/signups":s.default.getBaseUrl()+"/events/pointer/"+n+"/signups";var i={name:e.name,email:e.email};return e.id>0&&(r="PUT",i.id=e.id,a+="/"+e.id),(0,o.makeRequest)(r,a,i)}},{key:"deleteSignup",value:function(e,t){return(0,o.makeRequest)("DELETE",s.default.getBaseUrl()+"/"+s.default.getAppKey()+"/events/"+t+"/signups/"+e.id)}}]),e}();t.default=new u},function(e,t,n){"use strict";n.r(t);var r=n(344),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},l=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,e),this.registeredTypes=t}return i(e,[{key:"get",value:function(e){return void 0!==this.registeredTypes[e]?this.registeredTypes[e]:this.registeredTypes.default}},{key:"register",value:function(e,t){void 0===this.registeredTypes[e]&&(this.registeredTypes[e]=t)}},{key:"registerDefault",value:function(e){this.register("default",e)}}]),e}(),c=function(e){function t(e){o(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.registerDefault(function(e){return e.getAttribute("name")||""}),n}return s(t,l),t}(),d=function(e){function t(e){o(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.registerDefault(function(e){return e.value}),n.register("checkbox",function(e){return e.checked}),n}return s(t,l),t}(),f=function(e){function t(e){o(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.registerDefault(function(){return!0}),n.register("radio",function(e){return e.checked}),n}return s(t,l),t}();function p(e){var t=e.match(/[^\[\]]+/g),n=void 0;return e.length>1&&e.indexOf("[]")===e.length-2&&(n=t.pop(),t.push([n])),t}function h(e){var t=e.tagName,n=t;return"input"===t.toLowerCase()&&(n=e.getAttribute("type")||"text"),n.toLowerCase()}function m(e,t){return Array.prototype.filter.call(e.querySelectorAll("input,select,textarea"),function(e){if("input"===e.tagName.toLowerCase()&&("submit"===e.type||"reset"===e.type))return!1;var n=h(e),a=t.keyExtractors.get(n)(e),o=-1!==(t.include||[]).indexOf(a),i=-1!==(t.exclude||[]).indexOf(a),s=!1;if(t.ignoredTypes){var u=!0,l=!1,c=void 0;try{for(var d,f=t.ignoredTypes[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;r(e,p)&&(s=!0)}}catch(e){l=!0,c=e}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}}return!(!o&&(!!t.include||(i||s)))})}var v=function(e){function t(e){o(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.registerDefault(function(e,t){e.value=t}),n.register("checkbox",function(e,t){null===t?e.indeterminate=!0:e.checked=t}),n.register("radio",function(e,t){void 0!==t&&(e.checked=e.value===t.toString())}),n}return s(t,l),t}();function y(e,t){return e+"["+t+"]"}var g={serialize:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n={};return t.keySplitter=t.keySplitter||p,t.keyExtractors=new c(t.keyExtractors||{}),t.inputReaders=new d(t.inputReaders||{}),t.keyAssignmentValidators=new f(t.keyAssignmentValidators||{}),Array.prototype.forEach.call(m(e,t),function(e){var r=h(e),a=t.keyExtractors.get(r)(e),o=t.inputReaders.get(r)(e);if(t.keyAssignmentValidators.get(r)(e,a,o)){var i=t.keySplitter(a);n=function e(t,n,r){if(!n)return t;var a=n.shift();return t[a]||(t[a]=Array.isArray(a)?[]:{}),0===n.length&&(Array.isArray(t[a])?t[a].push(r):t[a]=r),n.length>0&&e(t[a],n,r),t}(n,i,o)}}),n},deserialize:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=function e(t,n){var r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],o={},i=r.keyJoiner||y;for(var s in t)if(t.hasOwnProperty(s)){var u=t[s],l={};n&&(s=i(n,s)),Array.isArray(u)?l[s+="[]"]=u:"object"===(void 0===u?"undefined":a(u))?l=e(u,s,r):l[s]=u,Object.assign(o,l)}return o}(t,null,n);n.keyExtractors=new c(n.keyExtractors||{}),n.inputWriters=new v(n.inputWriters||{}),Array.prototype.forEach.call(m(e,n),function(e){var t=h(e),a=n.keyExtractors.get(t)(e);n.inputWriters.get(t)(e,r[a])})}};t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n(1)),o=c(n(673)),i=c(n(6)),s=c(n(59)),u=c(n(349)),l=c(n(433));function c(e){return e&&e.__esModule?e:{default:e}}var d=38,f=40,p=13,h=27,m=l.default.getTimezones(),v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.searchInput=null,n.suggestionList=null,n.handleSuggestionKeys=function(e){var t=!0;switch(e.keyCode){case d:n.changeSuggestionCursor(-1);break;case f:n.changeSuggestionCursor(1);break;case p:n.selectCurrentSuggestion();break;default:return void(t=!1)}t&&e.preventDefault()},n.handleSuggestionKeyUp=function(e){if(n.searchInput){var t=n.searchInput.value.replace(/^\s+|\s+$/gm,"");t!==n.state.query&&n.setState({query:t,focused:!e||e.keyCode!==p,suggestionCursor:0,suggestions:n.matchSuggestions(t)})}},n.handleKeyUpCapture=function(e){n.searchInput&&e.keyCode===h&&(n.state.focused?n.setState({focused:!1}):n.searchInput.blur(),e.stopImmediatePropagation(),e.preventDefault())},n.onBlur=function(){n.blurTimeout=window.setTimeout(function(){return n.setState({focused:!1})},150)},n.onShowAllChange=function(e){var t={showAll:e.target.checked};""===n.state.query&&n.fillSuggestions(t,n.state.timezone,t.showAll),n.setState(t)},n.focusSelector=function(){n.setState({focused:!0,suggestionCursor:n.state.suggestions.findIndex(function(e){return e.display===n.state.timezone})},n.scrollToCursor)},n.scrollToCursor=function(){n.suggestionList&&n.suggestionList.firstChild&&n.props.enableCursorScroll&&n.suggestionList.children[n.state.suggestionCursor].scrollIntoView(!1)};var r=n.getInitialTimezone(),a=l.default.getDisplayString(r);if(!!!m.find(function(e){return e.value===r})){var o=l.default.getShortString(r);m.push({value:r,main:1,display:a,d:o,group:"-99"})}var i={};return n.props.alwaysShowAll?n.fillSuggestions(i,a,!0):(i.suggestions=n.matchSuggestions(a,!1),i.suggestionCursor=i.suggestions.findIndex(function(e){return e.value===r})),n.state={query:"",timezone:a,focused:!1,showAll:n.props.alwaysShowAll||!1,suggestions:i.suggestions,suggestionCursor:i.suggestionCursor},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"componentDidMount",value:function(){this.searchInput&&this.searchInput.addEventListener("keyup",this.handleKeyUpCapture,!0)}},{key:"componentWillUnmount",value:function(){this.blurTimeout&&clearTimeout(this.blurTimeout),this.searchInput&&this.searchInput.removeEventListener("keyup",this.handleKeyUpCapture,!0)}},{key:"getValue",value:function(){var e=this,t=m.find(function(t){return t.display===e.state.timezone});if(t)return t.value;throw new Error("Timezone could not be found, what happened?")}},{key:"getInitialTimezone",value:function(){return this.props.timezone?this.props.timezone:u.default.determine().name()}},{key:"changeSuggestionCursor",value:function(e){var t=this,n=this.state.suggestionCursor+e;n<0||!this.state.focused||n>=this.state.suggestions.length||this.setState({suggestionCursor:n},function(){t.suggestionList&&t.suggestionList.children[n].scrollIntoView(!1)})}},{key:"selectCurrentSuggestion",value:function(){var e=this.state.suggestions[this.state.suggestionCursor];e&&this.selectTimezone(null,e)}},{key:"matchSuggestions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.showAll;if(""===e&&!this.props.alwaysShowAll)return t?m:this.matchSuggestions(this.state.timezone);var n=this.getTimezoneGroup(e);return n.length>0?n:this.searchSuggestions(e)}},{key:"searchSuggestions",value:function(e){return o.default.filter(e.toLowerCase(),m,{extract:function(e){return e.display.toLowerCase()}}).map(function(e){return e.original})}},{key:"getTimezoneGroup",value:function(e){var t,n;return(t=m.find(function(t){return t.display===e||t.value===e}))?(n=t.group,m.filter(function(e){return e.group===n})):[]}},{key:"selectTimezone",value:function(e,t){var n=this;if(e&&e.preventDefault(),this.searchInput&&this.state.timezone!==t.display){this.searchInput.value="";var r={timezone:t.display,query:"",focused:!1};this.state.showAll?r.suggestions=this.matchSuggestions(""):r.suggestions=this.getTimezoneGroup(t.display),this.setState(r,function(){n.searchInput&&n.searchInput.focus()}),this.props.onChange&&this.props.onChange(t.value),this.searchInput.value=t.display}}},{key:"fillSuggestions",value:function(e,t,n){e.suggestions=this.matchSuggestions("",n),e.suggestionCursor=e.suggestions.findIndex(function(e){return e.display===t})}},{key:"renderSuggestions",value:function(){var e=this;return!1===this.state.focused?null:a.default.createElement("ul",{ref:function(t){e.suggestionList=t},className:"timezone-picker__suggestions"},this.state.suggestions.map(function(t,n){return a.default.createElement("li",{key:t.d,className:"timezone-picker__suggestion"},a.default.createElement("a",{href:"#",onMouseEnter:function(){return e.setState({suggestionCursor:n})},onClick:function(n){return e.selectTimezone(n,t)},onMouseDown:function(n){return e.selectTimezone(n,t)},className:"timezone-picker__option "+(n===e.state.suggestionCursor?"timezone-picker__option--selected":"")},t.display))}))}},{key:"renderShowAllButton",value:function(){return this.props.alwaysShowAll?null:a.default.createElement("label",null,a.default.createElement(s.default,{name:"show_all",type:"checkbox",defaultValue:!1,onChange:this.onShowAllChange}),a.default.createElement(i.default,{message:"timezone_picker.show_all",section:"core_js"}))}},{key:"render",value:function(){var e=this;return a.default.createElement("div",{onKeyUp:this.handleSuggestionKeyUp,className:"timezone-picker"},a.default.createElement("div",{className:"timezone-picker__search "+(this.state.focused?"timezone-picker__search--focused":"")},a.default.createElement("input",{className:"settings__input-big",type:"text",onKeyDown:this.handleSuggestionKeys,defaultValue:this.state.timezone,onFocus:this.focusSelector,onClick:this.focusSelector,onBlur:this.onBlur,ref:function(t){e.searchInput=t},id:this.props.id,placeholder:this.props.placeholder})),this.renderSuggestions(),this.renderShowAllButton())}}]),t}();t.default=v,v.defaultProps={maxSuggestions:10,enableCursorScroll:!0}},function(e,t,n){var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*! flatpickr v3.0.6, @license MIT */
function o(e,t){var n=this;function i(e){return e.bind(n)}function u(e){n.config.noCalendar&&!n.selectedDates.length&&(n.selectedDates=[n.now]),function(e){e.preventDefault();var t="keydown"===e.type,r=(e.type,e.type,e.target);if(n.amPM&&e.target===n.amPM)return e.target.textContent=["AM","PM"]["AM"===e.target.textContent|0];var a=Number(r.min),o=Number(r.max),i=Number(r.step),s=parseInt(r.value,10),u=e.delta||(t?38===e.which?1:-1:Math.max(-1,Math.min(1,e.wheelDelta||-e.deltaY))||0),l=s+i*u;if(void 0!==r.value&&2===r.value.length){var c=r===n.hourElement,d=r===n.minuteElement;l<a?(l=o+l+!c+(c&&!n.amPM),d&&_(null,-1,n.hourElement)):l>o&&(l=r===n.hourElement?l-o-!n.amPM:a,d&&_(null,1,n.hourElement)),n.amPM&&c&&(1===i?l+s===23:Math.abs(l-s)>i)&&(n.amPM.textContent="PM"===n.amPM.textContent?"AM":"PM"),r.value=n.pad(l)}}(e),n.selectedDates.length&&(!n.minDateHasTime||"input"!==e.type||e.target.value.length>=2?(l(),z()):setTimeout(function(){l(),z()},1e3))}function l(){if(n.config.enableTime){var e=(parseInt(n.hourElement.value,10)||0)%(n.amPM?12:24),t=(parseInt(n.minuteElement.value,10)||0)%60,r=n.config.enableSeconds?(parseInt(n.secondElement.value,10)||0)%60:0;void 0!==n.amPM&&(e=e%12+12*("PM"===n.amPM.textContent)),n.minDateHasTime&&0===X(n.latestSelectedDateObj,n.config.minDate)&&(e=Math.max(e,n.config.minDate.getHours()))===n.config.minDate.getHours()&&(t=Math.max(t,n.config.minDate.getMinutes())),n.maxDateHasTime&&0===X(n.latestSelectedDateObj,n.config.maxDate)&&(e=Math.min(e,n.config.maxDate.getHours()))===n.config.maxDate.getHours()&&(t=Math.min(t,n.config.maxDate.getMinutes())),d(e,t,r)}}function c(e){var t=e||n.latestSelectedDateObj;t&&d(t.getHours(),t.getMinutes(),t.getSeconds())}function d(e,t,r){n.selectedDates.length&&n.latestSelectedDateObj.setHours(e%24,t,r||0,0),n.config.enableTime&&!n.isMobile&&(n.hourElement.value=n.pad(n.config.time_24hr?e:(12+e)%12+12*(e%12==0)),n.minuteElement.value=n.pad(t),n.config.time_24hr||(n.amPM.textContent=e>=12?"PM":"AM"),!0===n.config.enableSeconds&&(n.secondElement.value=n.pad(r)))}function f(e){var t=e.target.value;e.delta&&(t=(parseInt(t)+e.delta).toString()),4!==t.length&&"Enter"!==e.key||(n.currentYearElement.blur(),/[^\d]/.test(t)||P(t))}function p(e,t,r){return t instanceof Array?t.forEach(function(t){return p(e,t,r)}):e instanceof Array?e.forEach(function(e){return p(e,t,r)}):(e.addEventListener(t,r),void n._handlers.push({element:e,event:t,handler:r}))}function h(e){return function(t){return 1===t.which&&e(t)}}function m(){for(var e=n._animationLoop.length;e--;)n._animationLoop[e](),n._animationLoop.splice(e,1)}function v(e){if(n.daysContainer.childNodes.length>1)switch(e.animationName){case"fpSlideLeft":n.daysContainer.lastChild.classList.remove("slideLeftNew"),n.daysContainer.removeChild(n.daysContainer.firstChild),n.days=n.daysContainer.firstChild,m();break;case"fpSlideRight":n.daysContainer.firstChild.classList.remove("slideRightNew"),n.daysContainer.removeChild(n.daysContainer.lastChild),n.days=n.daysContainer.firstChild,m()}}function y(e){switch(e.animationName){case"fpSlideLeftNew":case"fpSlideRightNew":n.navigationCurrentMonth.classList.remove("slideLeftNew"),n.navigationCurrentMonth.classList.remove("slideRightNew");for(var t=n.navigationCurrentMonth;t.nextSibling&&/curr/.test(t.nextSibling.className);)n.monthNav.removeChild(t.nextSibling);for(;t.previousSibling&&/curr/.test(t.previousSibling.className);)n.monthNav.removeChild(t.previousSibling);n.oldCurMonth=null}}function g(e){e=e?n.parseDate(e):n.latestSelectedDateObj||(n.config.minDate>n.now?n.config.minDate:n.config.maxDate&&n.config.maxDate<n.now?n.config.maxDate:n.now);try{n.currentYear=e.getFullYear(),n.currentMonth=e.getMonth()}catch(t){console.error(t.stack),console.warn("Invalid date supplied: "+e)}n.redraw()}function b(e){~e.target.className.indexOf("arrow")&&_(e,e.target.classList.contains("arrowUp")?1:-1)}function _(e,t,n){var r=n||e.target.parentNode.childNodes[0],a=V("increment");a.delta=t,r.dispatchEvent(a)}function w(e){var t=K("div","numInputWrapper"),n=K("input","numInput "+e),r=K("span","arrowUp"),a=K("span","arrowDown");return n.type="text",n.pattern="\\d*",t.appendChild(n),t.appendChild(r),t.appendChild(a),t}function E(e,t,r,a){var o=x(t,!0),i=K("span","flatpickr-day "+e,t.getDate());return i.dateObj=t,i.$i=a,i.setAttribute("aria-label",n.formatDate(t,n.config.ariaDateFormat)),0===X(t,n.now)&&(n.todayDateElem=i,i.classList.add("today")),o?(i.tabIndex=-1,B(t)&&(i.classList.add("selected"),n.selectedDateElem=i,"range"===n.config.mode&&(J(i,"startRange",0===X(t,n.selectedDates[0])),J(i,"endRange",0===X(t,n.selectedDates[1]))))):(i.classList.add("disabled"),n.selectedDates[0]&&t>n.minRangeDate&&t<n.selectedDates[0]?n.minRangeDate=t:n.selectedDates[0]&&t<n.maxRangeDate&&t>n.selectedDates[0]&&(n.maxRangeDate=t)),"range"===n.config.mode&&(function(e){return!("range"!==n.config.mode||n.selectedDates.length<2)&&X(e,n.selectedDates[0])>=0&&X(e,n.selectedDates[1])<=0}(t)&&!B(t)&&i.classList.add("inRange"),1===n.selectedDates.length&&(t<n.minRangeDate||t>n.maxRangeDate)&&i.classList.add("notAllowed")),n.config.weekNumbers&&"prevMonthDay"!==e&&r%7==1&&n.weekNumbers.insertAdjacentHTML("beforeend","<span class='disabled flatpickr-day'>"+n.config.getWeek(t)+"</span>"),H("DayCreate",i),i}function k(e,t){var r=e+t||0,a=void 0!==e?n.days.childNodes[r]:n.selectedDateElem||n.todayDateElem||n.days.childNodes[0],o=function(){(a=a||n.days.childNodes[r]).focus(),"range"===n.config.mode&&N(a)};if(void 0===a&&0!==t)return t>0?(n.changeMonth(1),r%=42):t<0&&(n.changeMonth(-1),r+=42),S(o);o()}function S(e){if(!0===n.config.animate)return n._animationLoop.push(e);e()}function O(e){var t=(new Date(n.currentYear,n.currentMonth,1).getDay()-n.l10n.firstDayOfWeek+7)%7,r="range"===n.config.mode;n.prevMonthDays=n.utils.getDaysinMonth((n.currentMonth-1+12)%12),n.selectedDateElem=void 0,n.todayDateElem=void 0;var a=n.utils.getDaysinMonth(),o=window.document.createDocumentFragment(),i=n.prevMonthDays+1-t,s=0;for(n.config.weekNumbers&&n.weekNumbers.firstChild&&(n.weekNumbers.textContent=""),r&&(n.minRangeDate=new Date(n.currentYear,n.currentMonth-1,i),n.maxRangeDate=new Date(n.currentYear,n.currentMonth+1,(42-t)%a));i<=n.prevMonthDays;i++,s++)o.appendChild(E("prevMonthDay",new Date(n.currentYear,n.currentMonth-1,i),i,s));for(i=1;i<=a;i++,s++)o.appendChild(E("",new Date(n.currentYear,n.currentMonth,i),i,s));for(var u=a+1;u<=42-t;u++,s++)o.appendChild(E("nextMonthDay",new Date(n.currentYear,n.currentMonth+1,u%a),u,s));r&&1===n.selectedDates.length&&o.childNodes[0]?(n._hidePrevMonthArrow=n._hidePrevMonthArrow||n.minRangeDate>o.childNodes[0].dateObj,n._hideNextMonthArrow=n._hideNextMonthArrow||n.maxRangeDate<new Date(n.currentYear,n.currentMonth+1,1)):W();var l=K("div","dayContainer");if(l.appendChild(o),n.config.animate&&void 0!==e)for(;n.daysContainer.childNodes.length>1;)n.daysContainer.removeChild(n.daysContainer.firstChild);else!function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(n.daysContainer);return e>=0?n.daysContainer.appendChild(l):n.daysContainer.insertBefore(l,n.daysContainer.firstChild),n.days=n.daysContainer.firstChild,n.daysContainer}function C(){n.weekdayContainer||(n.weekdayContainer=K("div","flatpickr-weekdays"));var e=n.l10n.firstDayOfWeek,t=n.l10n.weekdays.shorthand.slice();return e>0&&e<t.length&&(t=[].concat(t.splice(e,t.length),t.splice(0,e))),n.weekdayContainer.innerHTML="\n\t\t<span class=flatpickr-weekday>\n\t\t\t"+t.join("</span><span class=flatpickr-weekday>")+"\n\t\t</span>\n\t\t",n.weekdayContainer}function D(e,t,r){var a=(t=void 0===t||t)?e:e-n.currentMonth,o=!n.config.animate||!1===r;if(!(a<0&&n._hidePrevMonthArrow||a>0&&n._hideNextMonthArrow)){if(n.currentMonth+=a,(n.currentMonth<0||n.currentMonth>11)&&(n.currentYear+=n.currentMonth>11?1:-1,n.currentMonth=(n.currentMonth+12)%12,H("YearChange")),O(o?void 0:a),o)return H("MonthChange"),W();var i=n.navigationCurrentMonth;if(a<0)for(;i.nextSibling&&/curr/.test(i.nextSibling.className);)n.monthNav.removeChild(i.nextSibling);else if(a>0)for(;i.previousSibling&&/curr/.test(i.previousSibling.className);)n.monthNav.removeChild(i.previousSibling);if(n.oldCurMonth=n.navigationCurrentMonth,n.navigationCurrentMonth=n.monthNav.insertBefore(n.oldCurMonth.cloneNode(!0),a>0?n.oldCurMonth.nextSibling:n.oldCurMonth),a>0?(n.daysContainer.firstChild.classList.add("slideLeft"),n.daysContainer.lastChild.classList.add("slideLeftNew"),n.oldCurMonth.classList.add("slideLeft"),n.navigationCurrentMonth.classList.add("slideLeftNew")):a<0&&(n.daysContainer.firstChild.classList.add("slideRightNew"),n.daysContainer.lastChild.classList.add("slideRight"),n.oldCurMonth.classList.add("slideRight"),n.navigationCurrentMonth.classList.add("slideRightNew")),n.currentMonthElement=n.navigationCurrentMonth.firstChild,n.currentYearElement=n.navigationCurrentMonth.lastChild.childNodes[0],W(),n.oldCurMonth.firstChild.textContent=n.utils.monthToStr(n.currentMonth-a),H("MonthChange"),document.activeElement&&document.activeElement.$i){var s=document.activeElement.$i;S(function(){k(s,0)})}}}function T(e){return!(!n.config.appendTo||!n.config.appendTo.contains(e))||n.calendarContainer.contains(e)}function M(e){if(n.isOpen&&!n.config.inline){var t=T(e.target),r=e.target===n.input||e.target===n.altInput||n.element.contains(e.target)||e.path&&e.path.indexOf&&(~e.path.indexOf(n.input)||~e.path.indexOf(n.altInput));("blur"===e.type?r&&e.relatedTarget&&!T(e.relatedTarget):!r&&!t)&&-1===n.config.ignoredFocusElements.indexOf(e.target)&&(n.close(),"range"===n.config.mode&&1===n.selectedDates.length&&(n.clear(!1),n.redraw()))}}function P(e){if(!(!e||n.currentYearElement.min&&e<n.currentYearElement.min||n.currentYearElement.max&&e>n.currentYearElement.max)){var t=parseInt(e,10),r=n.currentYear!==t;n.currentYear=t||n.currentYear,n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth=Math.min(n.config.maxDate.getMonth(),n.currentMonth):n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&(n.currentMonth=Math.max(n.config.minDate.getMonth(),n.currentMonth)),r&&(n.redraw(),H("YearChange"))}}function x(e,t){if(n.config.minDate&&X(e,n.config.minDate,void 0!==t?t:!n.minDateHasTime)<0||n.config.maxDate&&X(e,n.config.maxDate,void 0!==t?t:!n.maxDateHasTime)>0)return!1;if(!n.config.enable.length&&!n.config.disable.length)return!0;for(var r,o=n.parseDate(e,null,!0),i=n.config.enable.length>0,s=i?n.config.enable:n.config.disable,u=0;u<s.length;u++){if((r=s[u])instanceof Function&&r(o))return i;if(r instanceof Date&&r.getTime()===o.getTime())return i;if("string"==typeof r&&n.parseDate(r,null,!0).getTime()===o.getTime())return i;if("object"===(void 0===r?"undefined":a(r))&&r.from&&r.to&&o>=r.from&&o<=r.to)return i}return!i}function j(e){var t=e.target===n._input,r=T(e.target),a=n.config.allowInput,o=n.isOpen&&(!a||!t),i=n.config.inline&&t&&!a;if("Enter"===e.key&&a&&t)return n.setDate(n._input.value,!0,e.target===n.altInput?n.config.altFormat:n.config.dateFormat),e.target.blur();if(r||o||i){var s=n.timeContainer&&n.timeContainer.contains(e.target);switch(e.key){case"Enter":s?z():F(e);break;case"Escape":e.preventDefault(),n.close();break;case"Backspace":case"Delete":n.config.allowInput||n.clear();break;case"ArrowLeft":case"ArrowRight":if(!s)if(e.preventDefault(),n.daysContainer){var c="ArrowRight"===e.key?1:-1;e.ctrlKey?D(c,!0):k(e.target.$i,c)}else n.config.enableTime&&!s&&n.hourElement.focus();break;case"ArrowUp":case"ArrowDown":e.preventDefault();var d="ArrowDown"===e.key?1:-1;n.daysContainer?e.ctrlKey?(P(n.currentYear-d),k(e.target.$i,0)):s||k(e.target.$i,7*d):n.config.enableTime&&(s||n.hourElement.focus(),u(e),n.debouncedChange());break;case"Tab":e.target===n.hourElement?(e.preventDefault(),n.minuteElement.select()):e.target===n.minuteElement&&(n.secondElement||n.amPM)?(e.preventDefault(),(n.secondElement||n.amPM).focus()):e.target===n.secondElement&&(e.preventDefault(),n.amPM.focus());break;case"a":e.target===n.amPM&&(n.amPM.textContent="AM",l(),z());break;case"p":e.target===n.amPM&&(n.amPM.textContent="PM",l(),z())}H("KeyDown",e)}}function N(e){if(1===n.selectedDates.length&&e.classList.contains("flatpickr-day")){for(var t=e.dateObj,r=n.parseDate(n.selectedDates[0],null,!0),a=Math.min(t.getTime(),n.selectedDates[0].getTime()),o=Math.max(t.getTime(),n.selectedDates[0].getTime()),i=!1,s=a;s<o;s+=n.utils.duration.DAY)if(!x(new Date(s))){i=!0;break}for(var u=function(s,u){var l=s<n.minRangeDate.getTime()||s>n.maxRangeDate.getTime(),c=n.days.childNodes[u];if(l)return n.days.childNodes[u].classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(e){c.classList.remove(e)}),"continue";if(i&&!l)return"continue";["startRange","inRange","endRange","notAllowed"].forEach(function(e){c.classList.remove(e)});var d=Math.max(n.minRangeDate.getTime(),a),f=Math.min(n.maxRangeDate.getTime(),o);e.classList.add(t<n.selectedDates[0]?"startRange":"endRange"),r<t&&s===r.getTime()?c.classList.add("startRange"):r>t&&s===r.getTime()&&c.classList.add("endRange"),s>=d&&s<=f&&c.classList.add("inRange")},l=n.days.childNodes[0].dateObj.getTime(),c=0;c<42;c++,l+=n.utils.duration.DAY)u(l,c)}}function A(){!n.isOpen||n.config.static||n.config.inline||L()}function R(e){return function(t){var r=n.config["_"+e+"Date"]=n.parseDate(t),a=n.config["_"+("min"===e?"max":"min")+"Date"],o=t&&r instanceof Date;o&&(n[e+"DateHasTime"]=r.getHours()||r.getMinutes()||r.getSeconds()),n.selectedDates&&(n.selectedDates=n.selectedDates.filter(function(e){return x(e)}),n.selectedDates.length||"min"!==e||c(r),z()),n.daysContainer&&(I(),o?n.currentYearElement[e]=r.getFullYear():n.currentYearElement.removeAttribute(e),n.currentYearElement.disabled=a&&r&&a.getFullYear()===r.getFullYear())}}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n._positionElement;if(void 0!==n.calendarContainer){var t=n.calendarContainer.offsetHeight,r=n.calendarContainer.offsetWidth,a=n.config.position,o=e.getBoundingClientRect(),i=window.innerHeight-o.bottom,s="above"===a||"below"!==a&&i<t&&o.top>t,u=window.pageYOffset+o.top+(s?-t-2:e.offsetHeight+2);if(J(n.calendarContainer,"arrowTop",!s),J(n.calendarContainer,"arrowBottom",s),!n.config.inline){var l=window.pageXOffset+o.left,c=window.document.body.offsetWidth-o.right,d=l+r>window.document.body.offsetWidth;J(n.calendarContainer,"rightMost",d),n.config.static||(n.calendarContainer.style.top=u+"px",d?(n.calendarContainer.style.left="auto",n.calendarContainer.style.right=c+"px"):(n.calendarContainer.style.left=l+"px",n.calendarContainer.style.right="auto"))}}}function I(){n.config.noCalendar||n.isMobile||(C(),W(),O())}function F(e){if(e.preventDefault(),e.stopPropagation(),e.target.classList.contains("flatpickr-day")&&!e.target.classList.contains("disabled")&&!e.target.classList.contains("notAllowed")){var t=n.latestSelectedDateObj=new Date(e.target.dateObj.getTime()),r=t.getMonth()!==n.currentMonth&&"range"!==n.config.mode;if(n.selectedDateElem=e.target,"single"===n.config.mode)n.selectedDates=[t];else if("multiple"===n.config.mode){var a=B(t);a?n.selectedDates.splice(a,1):n.selectedDates.push(t)}else"range"===n.config.mode&&(2===n.selectedDates.length&&n.clear(),n.selectedDates.push(t),0!==X(t,n.selectedDates[0],!0)&&n.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()}));if(l(),r){var o=n.currentYear!==t.getFullYear();n.currentYear=t.getFullYear(),n.currentMonth=t.getMonth(),o&&H("YearChange"),H("MonthChange")}if(O(),n.minDateHasTime&&n.config.enableTime&&0===X(t,n.config.minDate)&&c(n.config.minDate),z(),n.config.enableTime&&setTimeout(function(){return n.showTimeInput=!0},50),"range"===n.config.mode&&(1===n.selectedDates.length?(N(e.target),n._hidePrevMonthArrow=n._hidePrevMonthArrow||n.minRangeDate>n.days.childNodes[0].dateObj,n._hideNextMonthArrow=n._hideNextMonthArrow||n.maxRangeDate<new Date(n.currentYear,n.currentMonth+1,1)):W()),H("Change"),r?S(function(){return n.selectedDateElem&&n.selectedDateElem.focus()}):k(e.target.$i,0),n.config.enableTime&&setTimeout(function(){return n.hourElement.select()},451),n.config.closeOnSelect){var i="single"===n.config.mode&&!n.config.enableTime,s="range"===n.config.mode&&2===n.selectedDates.length&&!n.config.enableTime;(i||s)&&n.close()}}}function Y(e,t){if(e instanceof Array)n.selectedDates=e.map(function(e){return n.parseDate(e,t)});else if(e instanceof Date||!isNaN(e))n.selectedDates=[n.parseDate(e,t)];else if(e&&e.substring)switch(n.config.mode){case"single":n.selectedDates=[n.parseDate(e,t)];break;case"multiple":n.selectedDates=e.split("; ").map(function(e){return n.parseDate(e,t)});break;case"range":n.selectedDates=e.split(n.l10n.rangeSeparator).map(function(e){return n.parseDate(e,t)})}n.selectedDates=n.selectedDates.filter(function(e){return e instanceof Date&&x(e,!1)}),n.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()})}function U(e){for(var t=e.length;t--;)"string"==typeof e[t]||+e[t]?e[t]=n.parseDate(e[t],null,!0):e[t]&&e[t].from&&e[t].to&&(e[t].from=n.parseDate(e[t].from),e[t].to=n.parseDate(e[t].to));return e.filter(function(e){return e})}function H(e,t){var r=n.config["on"+e];if(void 0!==r&&r.length>0)for(var a=0;r[a]&&a<r.length;a++)r[a](n.selectedDates,n.input.value,n,t);"Change"===e&&(n.input.dispatchEvent(V("change")),n.input.dispatchEvent(V("input")))}function V(e){return n._supportsEvents?new Event(e,{bubbles:!0}):(n._[e+"Event"]=document.createEvent("Event"),n._[e+"Event"].initEvent(e,!0,!0),n._[e+"Event"])}function B(e){for(var t=0;t<n.selectedDates.length;t++)if(0===X(n.selectedDates[t],e))return""+t;return!1}function W(){n.config.noCalendar||n.isMobile||!n.monthNav||(n.currentMonthElement.textContent=n.utils.monthToStr(n.currentMonth)+" ",n.currentYearElement.value=n.currentYear,n._hidePrevMonthArrow=n.config.minDate&&(n.currentYear===n.config.minDate.getFullYear()?n.currentMonth<=n.config.minDate.getMonth():n.currentYear<n.config.minDate.getFullYear()),n._hideNextMonthArrow=n.config.maxDate&&(n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth+1>n.config.maxDate.getMonth():n.currentYear>n.config.maxDate.getFullYear()))}function z(e){if(!n.selectedDates.length)return n.clear(e);n.isMobile&&(n.mobileInput.value=n.selectedDates.length?n.formatDate(n.latestSelectedDateObj,n.mobileFormatStr):"");var t="range"!==n.config.mode?"; ":n.l10n.rangeSeparator;n.input.value=n.selectedDates.map(function(e){return n.formatDate(e,n.config.dateFormat)}).join(t),n.config.altInput&&(n.altInput.value=n.selectedDates.map(function(e){return n.formatDate(e,n.config.altFormat)}).join(t)),!1!==e&&H("ValueUpdate")}function G(e){e.preventDefault();var t=n.currentYearElement.parentNode.contains(e.target);if(e.target===n.currentMonthElement||t){var r=function(e){return Math.max(-1,Math.min(1,e.wheelDelta||-e.deltaY))}(e);t?(P(n.currentYear+r),e.target.value=n.currentYear):n.changeMonth(r,!0,!1)}}function q(e){var t=n.prevMonthNav.contains(e.target),r=n.nextMonthNav.contains(e.target);t||r?D(t?-1:1):e.target===n.currentYearElement?(e.preventDefault(),n.currentYearElement.select()):"arrowUp"===e.target.className?n.changeYear(n.currentYear+1):"arrowDown"===e.target.className&&n.changeYear(n.currentYear-1)}function K(e,t,n){var r=window.document.createElement(e);return t=t||"",n=n||"",r.className=t,void 0!==n&&(r.textContent=n),r}function $(e){return e instanceof Array?e:[e]}function J(e,t,n){if(n)return e.classList.add(t);e.classList.remove(t)}function Q(e,t,n){var r=void 0;return function(){var a=this,o=arguments;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(a,o)},t),n&&!r&&e.apply(a,o)}}function X(e,t,n){return e instanceof Date&&t instanceof Date&&(!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime())}return n._={},n._.afterDayAnim=S,n._bind=p,n._compareDates=X,n._setHoursFromDate=c,n.changeMonth=D,n.changeYear=P,n.clear=function(e){n.input.value="",n.altInput&&(n.altInput.value="");n.mobileInput&&(n.mobileInput.value="");n.selectedDates=[],n.latestSelectedDateObj=void 0,n.showTimeInput=!1,n.redraw(),!1!==e&&H("Change")},n.close=function(){n.isOpen=!1,n.isMobile||(n.calendarContainer.classList.remove("open"),n._input.classList.remove("active"));H("Close")},n._createElement=K,n.destroy=function(){void 0!==n.config&&H("Destroy");for(var e=n._handlers.length;e--;){var t=n._handlers[e];t.element.removeEventListener(t.event,t.handler)}n._handlers=[],n.mobileInput?(n.mobileInput.parentNode&&n.mobileInput.parentNode.removeChild(n.mobileInput),n.mobileInput=null):n.calendarContainer&&n.calendarContainer.parentNode&&n.calendarContainer.parentNode.removeChild(n.calendarContainer);n.altInput&&(n.input.type="text",n.altInput.parentNode&&n.altInput.parentNode.removeChild(n.altInput),delete n.altInput);n.input&&(n.input.type=n.input._type,n.input.classList.remove("flatpickr-input"),n.input.removeAttribute("readonly"),n.input.value="");["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(e){try{delete n[e]}catch(e){}})},n.isEnabled=x,n.jumpToDate=g,n.open=function(e,t){if(n.isMobile)return e&&(e.preventDefault(),e.target.blur()),setTimeout(function(){n.mobileInput.click()},0),void H("Open");if(n.isOpen||n._input.disabled||n.config.inline)return;n.isOpen=!0,n.calendarContainer.classList.add("open"),L(t),n._input.classList.add("active"),H("Open")},n.redraw=I,n.set=function(e,t){null!==e&&"object"===(void 0===e?"undefined":a(e))?r(n.config,e):n.config[e]=t;n.redraw(),g()},n.setDate=function(e,t,r){if(0!==e&&!e)return n.clear(t);Y(e,r),n.showTimeInput=n.selectedDates.length>0,n.latestSelectedDateObj=n.selectedDates[0],n.redraw(),g(),c(),z(t),t&&H("Change")},n.toggle=function(){if(n.isOpen)return n.close();n.open()},n.element=n.input=e,n.instanceConfig=t||{},n.parseDate=o.prototype.parseDate.bind(n),n.formatDate=o.prototype.formatDate.bind(n),n.formats=Object.create(o.prototype.formats),["D","F","J","M","W","l"].forEach(function(e){n.formats[e]=o.prototype.formats[e].bind(n)}),n.revFormat.F=o.prototype.revFormat.F.bind(n),n.revFormat.M=o.prototype.revFormat.M.bind(n),function(){var e=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],t=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange"];n.config=Object.create(s.defaultConfig);var a=r({},n.instanceConfig,JSON.parse(JSON.stringify(n.element.dataset||{})));n.config.parseDate=a.parseDate,n.config.formatDate=a.formatDate,Object.defineProperty(n.config,"enable",{get:function(){return n.config._enable||[]},set:function(e){return n.config._enable=U(e)}}),Object.defineProperty(n.config,"disable",{get:function(){return n.config._disable||[]},set:function(e){return n.config._disable=U(e)}}),r(n.config,a),!a.dateFormat&&a.enableTime&&(n.config.dateFormat=n.config.noCalendar?"H:i"+(n.config.enableSeconds?":S":""):s.defaultConfig.dateFormat+" H:i"+(n.config.enableSeconds?":S":"")),a.altInput&&a.enableTime&&!a.altFormat&&(n.config.altFormat=n.config.noCalendar?"h:i"+(n.config.enableSeconds?":S K":" K"):s.defaultConfig.altFormat+" h:i"+(n.config.enableSeconds?":S":"")+" K"),Object.defineProperty(n.config,"minDate",{get:function(){return this._minDate},set:R("min")}),Object.defineProperty(n.config,"maxDate",{get:function(){return this._maxDate},set:R("max")}),n.config.minDate=a.minDate,n.config.maxDate=a.maxDate;for(var o=0;o<e.length;o++)n.config[e[o]]=!0===n.config[e[o]]||"true"===n.config[e[o]];for(var u=t.length;u--;)void 0!==n.config[t[u]]&&(n.config[t[u]]=$(n.config[t[u]]||[]).map(i));for(var l=0;l<n.config.plugins.length;l++){var c=n.config.plugins[l](n)||{};for(var d in c)n.config[d]instanceof Array||~t.indexOf(d)?n.config[d]=$(c[d]).map(i).concat(n.config[d]):void 0===a[d]&&(n.config[d]=c[d])}H("ParseConfig")}(),"object"!==a(n.config.locale)&&void 0===s.l10ns[n.config.locale]&&console.warn("flatpickr: invalid locale "+n.config.locale),n.l10n=r(Object.create(s.l10ns.default),"object"===a(n.config.locale)?n.config.locale:"default"!==n.config.locale&&s.l10ns[n.config.locale]||{}),function(){if(n.input=n.config.wrap?n.element.querySelector("[data-input]"):n.element,!n.input)return console.warn("Error: invalid input element specified",n.input);n.input._type=n.input.type,n.input.type="text",n.input.classList.add("flatpickr-input"),n._input=n.input,n.config.altInput&&(n.altInput=K(n.input.nodeName,n.input.className+" "+n.config.altInputClass),n._input=n.altInput,n.altInput.placeholder=n.input.placeholder,n.altInput.disabled=n.input.disabled,n.altInput.required=n.input.required,n.altInput.type="text",n.input.type="hidden",!n.config.static&&n.input.parentNode&&n.input.parentNode.insertBefore(n.altInput,n.input.nextSibling)),n.config.allowInput||n._input.setAttribute("readonly","readonly"),n._positionElement=n.config.positionElement||n._input}(),function(){n.selectedDates=[],n.now=new Date;var e=n.config.defaultDate||n.input.value;e&&Y(e,n.config.dateFormat);var t=n.selectedDates.length?n.selectedDates[0]:n.config.minDate&&n.config.minDate.getTime()>n.now?n.config.minDate:n.config.maxDate&&n.config.maxDate.getTime()<n.now?n.config.maxDate:n.now;n.currentYear=t.getFullYear(),n.currentMonth=t.getMonth(),n.selectedDates.length&&(n.latestSelectedDateObj=n.selectedDates[0]),n.minDateHasTime=n.config.minDate&&(n.config.minDate.getHours()||n.config.minDate.getMinutes()||n.config.minDate.getSeconds()),n.maxDateHasTime=n.config.maxDate&&(n.config.maxDate.getHours()||n.config.maxDate.getMinutes()||n.config.maxDate.getSeconds()),Object.defineProperty(n,"latestSelectedDateObj",{get:function(){return n._selectedDateObj||n.selectedDates[n.selectedDates.length-1]},set:function(e){n._selectedDateObj=e}}),n.isMobile||Object.defineProperty(n,"showTimeInput",{get:function(){return n._showTimeInput},set:function(e){n._showTimeInput=e,n.calendarContainer&&J(n.calendarContainer,"showTimeInput",e),L()}})}(),n.utils={duration:{DAY:864e5},getDaysinMonth:function(e,t){return e=void 0===e?n.currentMonth:e,t=void 0===t?n.currentYear:t,1===e&&(t%4==0&&t%100!=0||t%400==0)?29:n.l10n.daysInMonth[e]},monthToStr:function(e,t){return t=void 0===t?n.config.shorthandCurrentMonth:t,n.l10n.months[(t?"short":"long")+"hand"][e]}},n.isOpen=!1,n.isMobile=!n.config.disableMobile&&!n.config.inline&&"single"===n.config.mode&&!n.config.disable.length&&!n.config.enable.length&&!n.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),n.isMobile||function(){var e=window.document.createDocumentFragment();n.calendarContainer=K("div","flatpickr-calendar"),n.calendarContainer.tabIndex=-1,n.config.noCalendar||(e.appendChild(function(){var e=window.document.createDocumentFragment();n.monthNav=K("div","flatpickr-month"),n.prevMonthNav=K("span","flatpickr-prev-month"),n.prevMonthNav.innerHTML=n.config.prevArrow,n.currentMonthElement=K("span","cur-month"),n.currentMonthElement.title=n.l10n.scrollTitle;var t=w("cur-year");return n.currentYearElement=t.childNodes[0],n.currentYearElement.title=n.l10n.scrollTitle,n.config.minDate&&(n.currentYearElement.min=n.config.minDate.getFullYear()),n.config.maxDate&&(n.currentYearElement.max=n.config.maxDate.getFullYear(),n.currentYearElement.disabled=n.config.minDate&&n.config.minDate.getFullYear()===n.config.maxDate.getFullYear()),n.nextMonthNav=K("span","flatpickr-next-month"),n.nextMonthNav.innerHTML=n.config.nextArrow,n.navigationCurrentMonth=K("span","flatpickr-current-month"),n.navigationCurrentMonth.appendChild(n.currentMonthElement),n.navigationCurrentMonth.appendChild(t),e.appendChild(n.prevMonthNav),e.appendChild(n.navigationCurrentMonth),e.appendChild(n.nextMonthNav),n.monthNav.appendChild(e),Object.defineProperty(n,"_hidePrevMonthArrow",{get:function(){return this.__hidePrevMonthArrow},set:function(e){this.__hidePrevMonthArrow!==e&&(n.prevMonthNav.style.display=e?"none":"block"),this.__hidePrevMonthArrow=e}}),Object.defineProperty(n,"_hideNextMonthArrow",{get:function(){return this.__hideNextMonthArrow},set:function(e){this.__hideNextMonthArrow!==e&&(n.nextMonthNav.style.display=e?"none":"block"),this.__hideNextMonthArrow=e}}),W(),n.monthNav}()),n.innerContainer=K("div","flatpickr-innerContainer"),n.config.weekNumbers&&n.innerContainer.appendChild((n.calendarContainer.classList.add("hasWeeks"),n.weekWrapper=K("div","flatpickr-weekwrapper"),n.weekWrapper.appendChild(K("span","flatpickr-weekday",n.l10n.weekAbbreviation)),n.weekNumbers=K("div","flatpickr-weeks"),n.weekWrapper.appendChild(n.weekNumbers),n.weekWrapper)),n.rContainer=K("div","flatpickr-rContainer"),n.rContainer.appendChild(C()),n.daysContainer||(n.daysContainer=K("div","flatpickr-days"),n.daysContainer.tabIndex=-1),O(),n.rContainer.appendChild(n.daysContainer),n.innerContainer.appendChild(n.rContainer),e.appendChild(n.innerContainer)),n.config.enableTime&&e.appendChild(function(){n.calendarContainer.classList.add("hasTime"),n.config.noCalendar&&n.calendarContainer.classList.add("noCalendar"),n.timeContainer=K("div","flatpickr-time"),n.timeContainer.tabIndex=-1;var e=K("span","flatpickr-time-separator",":"),t=w("flatpickr-hour");n.hourElement=t.childNodes[0];var r=w("flatpickr-minute");if(n.minuteElement=r.childNodes[0],n.hourElement.tabIndex=n.minuteElement.tabIndex=-1,n.hourElement.value=n.pad(n.latestSelectedDateObj?n.latestSelectedDateObj.getHours():n.config.defaultHour%(n.time_24hr?24:12)),n.minuteElement.value=n.pad(n.latestSelectedDateObj?n.latestSelectedDateObj.getMinutes():n.config.defaultMinute),n.hourElement.step=n.config.hourIncrement,n.minuteElement.step=n.config.minuteIncrement,n.hourElement.min=n.config.time_24hr?0:1,n.hourElement.max=n.config.time_24hr?23:12,n.minuteElement.min=0,n.minuteElement.max=59,n.hourElement.title=n.minuteElement.title=n.l10n.scrollTitle,n.timeContainer.appendChild(t),n.timeContainer.appendChild(e),n.timeContainer.appendChild(r),n.config.time_24hr&&n.timeContainer.classList.add("time24hr"),n.config.enableSeconds){n.timeContainer.classList.add("hasSeconds");var a=w("flatpickr-second");n.secondElement=a.childNodes[0],n.secondElement.value=n.pad(n.latestSelectedDateObj?n.latestSelectedDateObj.getSeconds():n.config.defaultSeconds),n.secondElement.step=n.minuteElement.step,n.secondElement.min=n.minuteElement.min,n.secondElement.max=n.minuteElement.max,n.timeContainer.appendChild(K("span","flatpickr-time-separator",":")),n.timeContainer.appendChild(a)}return n.config.time_24hr||(n.amPM=K("span","flatpickr-am-pm",["AM","PM"][(n.latestSelectedDateObj?n.hourElement.value:n.config.defaultHour)>11|0]),n.amPM.title=n.l10n.toggleTitle,n.amPM.tabIndex=-1,n.timeContainer.appendChild(n.amPM)),n.timeContainer}()),J(n.calendarContainer,"rangeMode","range"===n.config.mode),J(n.calendarContainer,"animate",n.config.animate),n.calendarContainer.appendChild(e);var t=n.config.appendTo&&n.config.appendTo.nodeType;if(n.config.inline||n.config.static){if(n.calendarContainer.classList.add(n.config.inline?"inline":"static"),n.config.inline&&!t)return n.element.parentNode.insertBefore(n.calendarContainer,n._input.nextSibling);if(n.config.static){var r=K("div","flatpickr-wrapper");return n.element.parentNode.insertBefore(r,n.element),r.appendChild(n.element),n.altInput&&r.appendChild(n.altInput),void r.appendChild(n.calendarContainer)}}(t?n.config.appendTo:window.document.body).appendChild(n.calendarContainer)}(),function(){if(n._handlers=[],n._animationLoop=[],n.config.wrap&&["open","close","toggle","clear"].forEach(function(e){Array.prototype.forEach.call(n.element.querySelectorAll("[data-"+e+"]"),function(t){return p(t,"mousedown",h(n[e]))})}),n.isMobile)return function(){var e=n.config.enableTime?n.config.noCalendar?"time":"datetime-local":"date";n.mobileInput=K("input",n.input.className+" flatpickr-mobile"),n.mobileInput.step=n.input.getAttribute("step")||"any",n.mobileInput.tabIndex=1,n.mobileInput.type=e,n.mobileInput.disabled=n.input.disabled,n.mobileInput.placeholder=n.input.placeholder,n.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",n.selectedDates.length&&(n.mobileInput.defaultValue=n.mobileInput.value=n.formatDate(n.selectedDates[0],n.mobileFormatStr)),n.config.minDate&&(n.mobileInput.min=n.formatDate(n.config.minDate,"Y-m-d")),n.config.maxDate&&(n.mobileInput.max=n.formatDate(n.config.maxDate,"Y-m-d")),n.input.type="hidden",n.config.altInput&&(n.altInput.type="hidden");try{n.input.parentNode.insertBefore(n.mobileInput,n.input.nextSibling)}catch(e){}n.mobileInput.addEventListener("change",function(e){n.setDate(e.target.value,!1,n.mobileFormatStr),H("Change"),H("Close")})}();n.debouncedResize=Q(A,50),n.triggerChange=function(){H("Change")},n.debouncedChange=Q(n.triggerChange,300),"range"===n.config.mode&&n.daysContainer&&p(n.daysContainer,"mouseover",function(e){return N(e.target)}),p(window.document.body,"keydown",j),n.config.static||p(n._input,"keydown",j),n.config.inline||n.config.static||p(window,"resize",n.debouncedResize),void 0!==window.ontouchstart&&p(window.document,"touchstart",M),p(window.document,"mousedown",h(M)),p(n._input,"blur",M),!0===n.config.clickOpens&&(p(n._input,"focus",n.open),p(n._input,"mousedown",h(n.open))),n.config.noCalendar||(n.monthNav.addEventListener("wheel",function(e){return e.preventDefault()}),p(n.monthNav,"wheel",Q(G,10)),p(n.monthNav,"mousedown",h(q)),p(n.monthNav,["keyup","increment"],f),p(n.daysContainer,"mousedown",h(F)),n.config.animate&&(p(n.daysContainer,["webkitAnimationEnd","animationend"],v),p(n.monthNav,["webkitAnimationEnd","animationend"],y))),n.config.enableTime&&(p(n.timeContainer,["wheel","input","increment"],u),p(n.timeContainer,"mousedown",h(b)),p(n.timeContainer,["wheel","increment"],n.debouncedChange),p(n.timeContainer,"input",n.triggerChange),p([n.hourElement,n.minuteElement],"focus",function(e){return e.target.select()}),void 0!==n.secondElement&&p(n.secondElement,"focus",function(){return n.secondElement.select()}),void 0!==n.amPM&&p(n.amPM,"mousedown",h(function(e){u(e),n.triggerChange(e)})))}(),(n.selectedDates.length||n.config.noCalendar)&&(n.config.enableTime&&c(n.config.noCalendar?n.latestSelectedDateObj||n.config.minDate:null),z(!1)),n.showTimeInput=n.selectedDates.length>0||n.config.noCalendar,n.config.weekNumbers&&(n.calendarContainer.style.width=n.daysContainer.offsetWidth+n.weekWrapper.offsetWidth+"px"),n.isMobile||L(),H("Ready"),n}function i(e,t){for(var n=Array.prototype.slice.call(e),r=[],a=0;a<n.length;a++)try{if(null!==n[a].getAttribute("data-fp-omit"))continue;n[a]._flatpickr&&(n[a]._flatpickr.destroy(),n[a]._flatpickr=null),n[a]._flatpickr=new o(n[a],t||{}),r.push(n[a]._flatpickr)}catch(e){console.warn(e,e.stack)}return 1===r.length?r[0]:r}function s(e,t){return e instanceof NodeList?i(e,t):e instanceof HTMLElement?i([e],t):i(window.document.querySelectorAll(e),t)}o.prototype={formats:{Z:function(e){return e.toISOString()},D:function(e){return this.l10n.weekdays.shorthand[this.formats.w(e)]},F:function(e){return this.utils.monthToStr(this.formats.n(e)-1,!1)},G:function(e){return o.prototype.pad(o.prototype.formats.h(e))},H:function(e){return o.prototype.pad(e.getHours())},J:function(e){return e.getDate()+this.l10n.ordinal(e.getDate())},K:function(e){return e.getHours()>11?"PM":"AM"},M:function(e){return this.utils.monthToStr(e.getMonth(),!0)},S:function(e){return o.prototype.pad(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e){return this.config.getWeek(e)},Y:function(e){return e.getFullYear()},d:function(e){return o.prototype.pad(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return o.prototype.pad(e.getMinutes())},j:function(e){return e.getDate()},l:function(e){return this.l10n.weekdays.longhand[e.getDay()]},m:function(e){return o.prototype.pad(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},formatDate:function(e,t){var n=this;return void 0!==this.config&&void 0!==this.config.formatDate?this.config.formatDate(e,t):t.split("").map(function(t,r,a){return n.formats[t]&&"\\"!==a[r-1]?n.formats[t](e):"\\"!==t?t:""}).join("")},revFormat:{D:function(){},F:function(e,t){e.setMonth(this.l10n.months.longhand.indexOf(t))},G:function(e,t){e.setHours(parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t){var n=e.getHours();12!==n&&e.setHours(n%12+12*/pm/i.test(t))},M:function(e,t){e.setMonth(this.l10n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(t)},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t){return t=parseInt(t),new Date(e.getFullYear(),0,2+7*(t-1),0,0,0,0,0)},Y:function(e,t){e.setFullYear(t)},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours(parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:function(){},m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},w:function(){},y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},tokenRegex:{D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"(am|AM|Am|aM|pm|PM|Pm|pM)",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},pad:function(e){return("0"+e).slice(-2)},parseDate:function(e,t,n){var r=this;if(0!==e&&!e)return null;var a=e;if(e instanceof Date)e=new Date(e.getTime());else if(void 0!==e.toFixed)e=new Date(e);else{var o=t||(this.config||s.defaultConfig).dateFormat;"today"===(e=String(e).trim())?(e=new Date,n=!0):/Z$/.test(e)||/GMT$/.test(e)?e=new Date(e):this.config&&this.config.parseDate?e=this.config.parseDate(e,o):function(){for(var t=r.config&&r.config.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),n=void 0,a=[],i=0,s=0,u="";i<o.length;i++){var l=o[i],c="\\"===l,d="\\"===o[i-1]||c;if(r.tokenRegex[l]&&!d){u+=r.tokenRegex[l];var f=new RegExp(u).exec(e);f&&(n=!0)&&a["Y"!==l?"push":"unshift"]({fn:r.revFormat[l],val:f[++s]})}else c||(u+=".");a.forEach(function(e){var n=e.fn,r=e.val;return t=n(t,r)||t})}e=n?t:null}()}return e instanceof Date?(!0===n&&e.setHours(0,0,0,0),e):(console.warn("flatpickr: invalid date "+a),console.info(this.element),null)}},"undefined"!=typeof HTMLElement&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return i(this,e)},HTMLElement.prototype.flatpickr=function(e){return i([this],e)}),s.defaultConfig=o.defaultConfig={mode:"single",position:"auto",animate:"undefined"!=typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),wrap:!1,weekNumbers:!1,allowInput:!1,clickOpens:!0,closeOnSelect:!0,time_24hr:!1,enableTime:!1,noCalendar:!1,dateFormat:"Y-m-d",ariaDateFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",altFormat:"F j, Y",defaultDate:null,minDate:null,maxDate:null,parseDate:null,formatDate:null,getWeek:function(e){var t=new Date(e.getTime()),n=new Date(t.getFullYear(),0,1);return Math.ceil(((t-n)/864e5+n.getDay()+1)/7)},enable:[],disable:[],shorthandCurrentMonth:!1,inline:!1,static:!1,appendTo:null,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",enableSeconds:!1,hourIncrement:1,minuteIncrement:5,defaultHour:12,defaultMinute:0,defaultSeconds:0,disableMobile:!1,locale:"default",plugins:[],ignoredFocusElements:[],onClose:void 0,onChange:void 0,onDayCreate:void 0,onMonthChange:void 0,onOpen:void 0,onParseConfig:void 0,onReady:void 0,onValueUpdate:void 0,onYearChange:void 0,onKeyDown:void 0,onDestroy:void 0},s.l10ns={en:{weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle"}},s.l10ns.default=Object.create(s.l10ns.en),s.localize=function(e){return r(s.l10ns.default,e||{})},s.setDefaults=function(e){return r(s.defaultConfig,e||{})},"undefined"!=typeof jQuery&&(jQuery.fn.flatpickr=function(e){return i(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+parseInt(e,10))},e.exports=s},function(e,t,n){var r=n(92),a=n(49);e.exports=function(e){return a(e)&&r(e)}},function(e,t,n){var r=n(454);e.exports=function(e){return r(e)?e:[]}},function(e,t){var n=800,r=16,a=Date.now;e.exports=function(e){var t=0,o=0;return function(){var i=a(),s=r-(i-o);if(o=i,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){var r=n(457),a=n(350),o=n(180),i=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=i},function(e,t,n){var r=n(458),a=n(456)(r);e.exports=a},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(460),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,s=a(o.length-t,0),u=Array(s);++i<s;)u[i]=o[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=o[i];return l[t]=n(u),r(e,this,l)}}},function(e,t){e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t,n){var r=n(442),a=n(464),o=n(463);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,a,n)}},function(e,t,n){var r=n(465);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},function(e,t,n){var r=n(203),a=n(466),o=n(462),i=n(181),s=n(93),u=n(202),l=Math.min;e.exports=function(e,t,n){for(var c=n?o:a,d=e[0].length,f=e.length,p=f,h=Array(f),m=1/0,v=[];p--;){var y=e[p];p&&t&&(y=i(y,s(t))),m=l(y.length,m),h[p]=!n&&(t||d>=120&&y.length>=120)?new r(p&&y):void 0}y=e[0];var g=-1,b=h[0];e:for(;++g<d&&v.length<m;){var _=y[g],w=t?t(_):_;if(_=n||0!==_?_:0,!(b?u(b,w):c(v,w,n))){for(p=f;--p;){var E=h[p];if(!(E?u(E,w):c(e[p],w,n)))continue e}b&&b.push(w),v.push(_)}}return v}},function(e,t,n){var r=n(50),a=n(208),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||i.test(e)||!o.test(e)||null!=t&&e in Object(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(27)),o=l(n(693)),i=l(n(57)),s=l(n(10)),u=l(n(73));function l(e){return e&&e.__esModule?e:{default:e}}var c=s.default.partial("settings"),d=a.default.createActions(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.actionFailed=function(e){return i.default.setStatus(c("notifications.status.failure"),"error"),Promise.reject(e)},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u["default"]),r(t,[{key:"fetchSubscriptions",value:function(e){return this.dispatch(),o.default.fetchSubscriptions(e).then(function(e){return d.subscriptionsWereUpdated(e)}).catch(this.actionFailed)}},{key:"fetchEditableSubscription",value:function(e,t,n){return o.default.fetchEditableSubscription(e,t,n).then(function(e){return e.subscription}).catch(this.actionFailed)}},{key:"subscriptionsWereUpdated",value:function(e){return this.dispatch(e),Promise.resolve(e)}},{key:"resetFilters",value:function(){this.dispatch()}},{key:"clear",value:function(){var e={subscriptions:[],total:0};return this.dispatch(e),Promise.resolve(e)}},{key:"updateFilters",value:function(e){this.dispatch(e)}},{key:"createSubscription",value:function(e){return this.dispatch(e),i.default.setStatus(c("notifications.status.saving"),"saving"),o.default.createSubscription(e).then(function(e){return d.subscriptionWasCreated(e.subscription)}).catch(this.actionFailed)}},{key:"subscriptionWasCreated",value:function(e){return this.dispatch(e),i.default.flashStatus(c("notifications.status.created"),"saved"),Promise.resolve(e)}},{key:"updateSubscription",value:function(e,t){return this.dispatch(e),i.default.setStatus(c("notifications.status.saving"),"saving"),o.default.updateSubscription(e,t).then(function(e){return i.default.flashStatus(c("notifications.status.updated"),"saved"),d.subscriptionWasUpdated(e.subscription)}).catch(this.actionFailed)}},{key:"subscriptionWasUpdated",value:function(e){return this.dispatch(e),Promise.resolve(e)}},{key:"activateSubscription",value:function(e){return this.dispatch(e),i.default.setStatus(c("notifications.status.saving"),"saving"),o.default.activateSubscription(e).then(function(e){return d.subscriptionWasActivated(e.subscription)}).catch(this.actionFailed)}},{key:"deactivateSubscription",value:function(e){return this.dispatch(e),o.default.deactivateSubscription(e).then(function(e){return d.subscriptionWasDeactivated(e.subscription)}).catch(this.actionFailed)}},{key:"subscriptionWasActivated",value:function(e){return this.dispatch(e),i.default.flashStatus(c("notifications.status.activated"),"saved"),Promise.resolve(e)}},{key:"subscriptionWasDeactivated",value:function(e){return this.dispatch(e),i.default.flashStatus(c("notifications.status.deactivated"),"saved"),Promise.resolve(e)}},{key:"deleteSubscription",value:function(e,t,n){return i.default.setStatus(c("notifications.status.deleting"),"saving"),o.default.deleteSubscription(e,t,n).then(function(){return d.subscriptionWasDeleted(e,t,n)}).catch(this.actionFailed)}},{key:"subscriptionWasDeleted",value:function(e,t,n){return i.default.flashStatus(c("notifications.status.deleted"),"saved"),this.dispatch({subscriptionId:t,keyId:n,type:e}),Promise.resolve({subscriptionId:t,keyId:n,type:e})}}]),t}());t.default=d},function(e,t,n){var r=n(44),a=n(208),o=NaN,i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return o;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=u.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):s.test(e)?o:+e}},function(e,t,n){"use strict";var r=n(2),a=n(5),o=n(42),i=n(158)(),s=n(9)("observable"),u=n(20),l=n(3),c=n(67),d=n(68),f=n(24),p=n(61),h=p.RETURN,m=function(e){return null==e?void 0:u(e)},v=function(e){var t=e._c;t&&(e._c=void 0,t())},y=function(e){return void 0===e._o},g=function(e){y(e)||(e._o=void 0,v(e))},b=function(e,t){l(e),this._c=void 0,this._o=e,e=new _(this);try{var n=t(e),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(t){return void e.error(t)}y(this)&&v(this)};b.prototype=d({},{unsubscribe:function(){g(this)}});var _=function(e){this._s=e};_.prototype=d({},{next:function(e){var t=this._s;if(!y(t)){var n=t._o;try{var r=m(n.next);if(r)return r.call(n,e)}catch(e){try{g(t)}finally{throw e}}}},error:function(e){var t=this._s;if(y(t))throw e;var n=t._o;t._o=void 0;try{var r=m(n.error);if(!r)throw e;e=r.call(n,e)}catch(e){try{v(t)}finally{throw e}}return v(t),e},complete:function(e){var t=this._s;if(!y(t)){var n=t._o;t._o=void 0;try{var r=m(n.complete);e=r?r.call(n,e):void 0}catch(e){try{v(t)}finally{throw e}}return v(t),e}}});var w=function(e){c(this,w,"Observable","_f")._f=u(e)};d(w.prototype,{subscribe:function(e){return new b(e,this._f)},forEach:function(e){var t=this;return new(o.Promise||a.Promise)(function(n,r){u(e);var a=t.subscribe({next:function(t){try{return e(t)}catch(e){r(e),a.unsubscribe()}},error:r,complete:n})})}}),d(w,{from:function(e){var t="function"==typeof this?this:w,n=m(l(e)[s]);if(n){var r=l(n.call(e));return r.constructor===t?r:new t(function(e){return r.subscribe(e)})}return new t(function(t){var n=!1;return i(function(){if(!n){try{if(p(e,!1,function(e){if(t.next(e),n)return h})===h)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,n=new Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:w)(function(e){var t=!1;return i(function(){if(!t){for(var r=0;r<n.length;++r)if(e.next(n[r]),t)return;e.complete()}}),function(){t=!0}})}}),f(w.prototype,s,function(){return this}),r(r.G,{Observable:w}),n(64)("Observable")},function(e,t,n){var r=n(2),a=n(158)(),o=n(5).process,i="process"==n(34)(o);r(r.G,{asap:function(e){var t=i&&o.domain;a(t?t.bind(e):e)}})},function(e,t,n){var r=n(46),a=n(3),o=n(20),i=r.key,s=r.set;r.exp({metadata:function(e,t){return function(n,r){s(e,t,(void 0!==r?a:o)(n),i(r))}}})},function(e,t,n){var r=n(46),a=n(3),o=r.has,i=r.key;r.exp({hasOwnMetadata:function(e,t){return o(e,a(t),arguments.length<3?void 0:i(arguments[2]))}})},function(e,t,n){var r=n(46),a=n(3),o=n(29),i=r.has,s=r.key,u=function(e,t,n){if(i(e,t,n))return!0;var r=o(t);return null!==r&&u(e,r,n)};r.exp({hasMetadata:function(e,t){return u(e,a(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,n){var r=n(46),a=n(3),o=r.keys,i=r.key;r.exp({getOwnMetadataKeys:function(e){return o(a(e),arguments.length<2?void 0:i(arguments[1]))}})},function(e,t,n){var r=n(46),a=n(3),o=r.get,i=r.key;r.exp({getOwnMetadata:function(e,t){return o(e,a(t),arguments.length<3?void 0:i(arguments[2]))}})},function(e,t,n){var r=n(161),a=n(222),o=n(46),i=n(3),s=n(29),u=o.keys,l=o.key,c=function(e,t){var n=u(e,t),o=s(e);if(null===o)return n;var i=c(o,t);return i.length?n.length?a(new r(n.concat(i))):i:n};o.exp({getMetadataKeys:function(e){return c(i(e),arguments.length<2?void 0:l(arguments[1]))}})},function(e,t,n){var r=n(46),a=n(3),o=n(29),i=r.has,s=r.get,u=r.key,l=function(e,t,n){if(i(e,t,n))return s(e,t,n);var r=o(t);return null!==r?l(e,r,n):void 0};r.exp({getMetadata:function(e,t){return l(e,a(t),arguments.length<3?void 0:u(arguments[2]))}})},function(e,t,n){var r=n(46),a=n(3),o=r.key,i=r.map,s=r.store;r.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:o(arguments[2]),r=i(a(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var u=s.get(t);return u.delete(n),!!u.size||s.delete(t)}})},function(e,t,n){var r=n(46),a=n(3),o=r.key,i=r.set;r.exp({defineMetadata:function(e,t,n,r){i(e,t,a(n),o(r))}})},function(e,t,n){"use strict";var r=n(2),a=n(157),o=n(302);r(r.S,"Promise",{try:function(e){var t=a.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){"use strict";var r=n(2),a=n(42),o=n(5),i=n(129),s=n(301);r(r.P+r.R,"Promise",{finally:function(e){var t=i(this,a.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){var r=n(2);r(r.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(e,t,n){var r=n(2);r(r.S,"Math",{umulh:function(e,t){var n=+e,r=+t,a=65535&n,o=65535&r,i=n>>>16,s=r>>>16,u=(i*o>>>0)+(a*o>>>16);return i*s+(u>>>16)+((a*s>>>0)+(65535&u)>>>16)}})},function(e,t,n){var r=n(2);r(r.S,"Math",{scale:n(221)})},function(e,t,n){var r=n(2),a=Math.PI/180;r(r.S,"Math",{radians:function(e){return e*a}})},function(e,t,n){var r=n(2);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,n){var r=n(2);r(r.S,"Math",{imulh:function(e,t){var n=+e,r=+t,a=65535&n,o=65535&r,i=n>>16,s=r>>16,u=(i*o>>>0)+(a*o>>>16);return i*s+(u>>16)+((a*s>>>0)+(65535&u)>>16)}})},function(e,t,n){var r=n(2);r(r.S,"Math",{isubh:function(e,t,n,r){var a=e>>>0,o=n>>>0;return(t>>>0)-(r>>>0)-((~a&o|~(a^o)&a-o>>>0)>>>31)|0}})},function(e,t,n){var r=n(2);r(r.S,"Math",{iaddh:function(e,t,n,r){var a=e>>>0,o=n>>>0;return(t>>>0)+(r>>>0)+((a&o|(a|o)&~(a+o>>>0))>>>31)|0}})},function(e,t,n){var r=n(2),a=n(221),o=n(249);r(r.S,"Math",{fscale:function(e,t,n,r,i){return o(a(e,t,n,r,i))}})},function(e,t,n){var r=n(2),a=180/Math.PI;r(r.S,"Math",{degrees:function(e){return e*a}})},function(e,t,n){var r=n(2);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,n){var r=n(2);r(r.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},function(e,t,n){var r=n(2),a=n(34);r(r.S,"Error",{isError:function(e){return"Error"===a(e)}})},function(e,t,n){var r=n(2);r(r.S,"System",{global:n(5)})},function(e,t,n){var r=n(2);r(r.G,{global:n(5)})},function(e,t,n){n(117)("WeakSet")},function(e,t,n){n(117)("WeakMap")},function(e,t,n){n(117)("Set")},function(e,t,n){n(117)("Map")},function(e,t,n){n(118)("WeakSet")},function(e,t,n){n(118)("WeakMap")},function(e,t,n){n(118)("Set")},function(e,t,n){n(118)("Map")},function(e,t,n){var r=n(2);r(r.P+r.R,"Set",{toJSON:n(223)("Set")})},function(e,t,n){var r=n(2);r(r.P+r.R,"Map",{toJSON:n(223)("Map")})},function(e,t,n){"use strict";var r=n(2),a=n(15),o=n(41),i=n(29),s=n(28).f;n(12)&&r(r.P+n(119),"Object",{__lookupSetter__:function(e){var t,n=a(this),r=o(e,!0);do{if(t=s(n,r))return t.set}while(n=i(n))}})},function(e,t,n){"use strict";var r=n(2),a=n(15),o=n(41),i=n(29),s=n(28).f;n(12)&&r(r.P+n(119),"Object",{__lookupGetter__:function(e){var t,n=a(this),r=o(e,!0);do{if(t=s(n,r))return t.get}while(n=i(n))}})},function(e,t,n){"use strict";var r=n(2),a=n(15),o=n(20),i=n(13);n(12)&&r(r.P+n(119),"Object",{__defineSetter__:function(e,t){i.f(a(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(2),a=n(15),o=n(20),i=n(13);n(12)&&r(r.P+n(119),"Object",{__defineGetter__:function(e,t){i.f(a(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){n(156)("observable")},function(e,t,n){n(156)("asyncIterator")},function(e,t,n){"use strict";var r=n(2),a=n(39),o=n(11),i=n(122),s=n(121),u=RegExp.prototype,l=function(e,t){this._r=e,this._s=t};n(165)(l,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),r(r.P,"String",{matchAll:function(e){if(a(this),!i(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in u?String(e.flags):s.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(e.lastIndex),new l(r,t)}})},function(e,t,n){"use strict";n(77)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";n(77)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";var r=n(2),a=n(155)(!0);r(r.P,"String",{at:function(e){return a(this,e)}})},function(e,t,n){"use strict";var r=n(2),a=n(224),o=n(15),i=n(11),s=n(40),u=n(167);r(r.P,"Array",{flatten:function(){var e=arguments[0],t=o(this),n=i(t.length),r=u(t,0);return a(r,t,t,n,0,void 0===e?1:s(e)),r}}),n(53)("flatten")},function(e,t,n){"use strict";var r=n(2),a=n(224),o=n(15),i=n(11),s=n(20),u=n(167);r(r.P,"Array",{flatMap:function(e){var t,n,r=o(this);return s(e),t=i(r.length),n=u(r,0),a(n,r,r,t,0,1,e,arguments[1]),n}}),n(53)("flatMap")},function(e,t,n){"use strict";var r=n(2),a=n(3),o=function(e){this._t=a(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(165)(o,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},function(e,t,n){"use strict";n(151);var r=n(3),a=n(121),o=n(12),i=/./.toString,s=function(e){n(23)(RegExp.prototype,"toString",e,!0)};n(7)(function(){return"/a/b"!=i.call({source:"a",flags:"b"})})?s(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?a.call(e):void 0)}):"toString"!=i.name&&s(function(){return i.call(this)})},function(e,t,n){var r=n(5),a=n(163),o=n(13).f,i=n(66).f,s=n(122),u=n(121),l=r.RegExp,c=l,d=l.prototype,f=/a/g,p=/a/g,h=new l(f)!==f;if(n(12)&&(!h||n(7)(function(){return p[n(9)("match")]=!1,l(f)!=f||l(p)==p||"/a/i"!=l(f,"i")}))){l=function(e,t){var n=this instanceof l,r=s(e),o=void 0===t;return!n&&r&&e.constructor===l&&o?e:a(h?new c(r&&!o?e.source:e,t):c((r=e instanceof l)?e.source:e,r&&o?u.call(e):t),n?this:d,l)};for(var m=function(e){e in l||o(l,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})},v=i(c),y=0;v.length>y;)m(v[y++]);d.constructor=l,l.prototype=d,n(23)(r,"RegExp",l)}n(64)("RegExp")},function(e,t,n){n(64)("Array")},function(e,t,n){"use strict";var r=n(2),a=n(30),o=n(40),i=n(11),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(33)(s)),"Array",{lastIndexOf:function(e){if(u)return s.apply(this,arguments)||0;var t=a(this),n=i(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){"use strict";var r=n(2),a=n(131)(!1),o=[].indexOf,i=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(i||!n(33)(o)),"Array",{indexOf:function(e){return i?o.apply(this,arguments)||0:a(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),a=n(225);r(r.P+r.F*!n(33)([].reduceRight,!0),"Array",{reduceRight:function(e){return a(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var r=n(2),a=n(225);r(r.P+r.F*!n(33)([].reduce,!0),"Array",{reduce:function(e){return a(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var r=n(2),a=n(38)(4);r(r.P+r.F*!n(33)([].every,!0),"Array",{every:function(e){return a(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),a=n(38)(3);r(r.P+r.F*!n(33)([].some,!0),"Array",{some:function(e){return a(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),a=n(38)(2);r(r.P+r.F*!n(33)([].filter,!0),"Array",{filter:function(e){return a(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),a=n(38)(1);r(r.P+r.F*!n(33)([].map,!0),"Array",{map:function(e){return a(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),a=n(38)(0),o=n(33)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return a(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(2),a=n(20),o=n(15),i=n(7),s=[].sort,u=[1,2,3];r(r.P+r.F*(i(function(){u.sort(void 0)})||!i(function(){u.sort(null)})||!n(33)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),a(e))}})},function(e,t,n){"use strict";var r=n(2),a=n(169),o=n(34),i=n(65),s=n(11),u=[].slice;r(r.P+r.F*n(7)(function(){a&&u.call(a)}),"Array",{slice:function(e,t){var n=s(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return u.call(this,e,t);for(var a=i(e,n),l=i(t,n),c=s(l-a),d=new Array(c),f=0;f<c;f++)d[f]="String"==r?this.charAt(a+f):this[a+f];return d}})},function(e,t,n){"use strict";var r=n(2),a=n(30),o=[].join;r(r.P+r.F*(n(89)!=Object||!n(33)(o)),"Array",{join:function(e){return o.call(a(this),void 0===e?",":e)}})},function(e,t,n){var r=n(2);r(r.S,"Array",{isArray:n(128)})},function(e,t,n){"use strict";var r=n(3),a=n(41);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return a(r(this),"number"!=e)}},function(e,t,n){var r=n(9)("toPrimitive"),a=Date.prototype;r in a||n(24)(a,r,n(538))},function(e,t,n){var r=Date.prototype,a=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(23)(r,"toString",function(){var e=o.call(this);return e==e?a.call(this):"Invalid Date"})},function(e,t,n){"use strict";var r=n(7),a=Date.prototype.getTime,o=Date.prototype.toISOString,i=function(e){return e>9?e:"0"+e};e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function(){if(!isFinite(a.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+i(e.getUTCMonth()+1)+"-"+i(e.getUTCDate())+"T"+i(e.getUTCHours())+":"+i(e.getUTCMinutes())+":"+i(e.getUTCSeconds())+"."+(n>99?n:"0"+i(n))+"Z"}:o},function(e,t,n){var r=n(2),a=n(541);r(r.P+r.F*(Date.prototype.toISOString!==a),"Date",{toISOString:a})},function(e,t,n){"use strict";var r=n(2),a=n(15),o=n(41);r(r.P+r.F*n(7)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=a(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var r=n(2);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";n(22)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){"use strict";n(22)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(22)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(22)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";n(22)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,n){"use strict";n(22)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";n(22)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,n){"use strict";n(22)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,n){"use strict";n(22)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(22)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";n(22)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(22)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(22)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,n){"use strict";var r=n(155)(!0);n(166)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";n(77)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){var r=n(2),a=n(228);r(r.S+r.F*(Number.parseInt!=a),"Number",{parseInt:a})},function(e,t,n){var r=n(2),a=n(227);r(r.S+r.F*(Number.parseFloat!=a),"Number",{parseFloat:a})},function(e,t,n){"use strict";var r=n(2),a=n(7),o=n(226),i=1..toPrecision;r(r.P+r.F*(a(function(){return"1"!==i.call(1,void 0)})||!a(function(){i.call({})})),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?i.call(t):i.call(t,e)}})},function(e,t,n){"use strict";var r=n(2),a=n(40),o=n(226),i=n(154),s=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",d=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*l[n],l[n]=r%1e7,r=u(r/1e7)},f=function(e){for(var t=6,n=0;--t>=0;)n+=l[t],l[t]=u(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==l[e]){var n=String(l[e]);t=""===t?n:t+i.call("0",7-n.length)+n}return t},h=function(e,t,n){return 0===t?n:t%2==1?h(e,t-1,n*e):h(e*e,t/2,n)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(7)(function(){s.call({})})),"Number",{toFixed:function(e){var t,n,r,s,u=o(this,c),l=a(e),m="",v="0";if(l<0||l>20)throw RangeError(c);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(m="-",u=-u),u>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(u*h(2,69,1))-69)<0?u*h(2,-t,1):u/h(2,t,1),n*=4503599627370496,(t=52-t)>0){for(d(0,n),r=l;r>=7;)d(1e7,0),r-=7;for(d(h(10,r,1),0),r=t-1;r>=23;)f(1<<23),r-=23;f(1<<r),d(1,1),f(2),v=p()}else d(0,n),d(1<<-t,0),v=p()+i.call("0",l);return v=l>0?m+((s=v.length)<=l?"0."+i.call("0",l-s)+v:v.slice(0,s-l)+"."+v.slice(s-l)):m+v}})},function(e,t,n){"use strict";var r=n(5),a=n(31),o=n(34),i=n(163),s=n(41),u=n(7),l=n(66).f,c=n(28).f,d=n(13).f,f=n(77).trim,p=r.Number,h=p,m=p.prototype,v="Number"==o(n(63)(m)),y="trim"in String.prototype,g=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,a,o=(t=y?t.trim():f(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+t}for(var i,u=t.slice(2),l=0,c=u.length;l<c;l++)if((i=u.charCodeAt(l))<48||i>a)return NaN;return parseInt(u,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(v?u(function(){m.valueOf.call(n)}):"Number"!=o(n))?i(new h(g(t)),n,p):g(t)};for(var b,_=n(12)?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;_.length>w;w++)a(h,b=_[w])&&!a(p,b)&&d(p,b,c(h,b));p.prototype=m,m.constructor=p,n(23)(r,"Number",p)}},function(e,t,n){var r=n(2),a=n(227);r(r.G+r.F*(parseFloat!=a),{parseFloat:a})},function(e,t,n){var r=n(2),a=n(228);r(r.G+r.F*(parseInt!=a),{parseInt:a})},function(e,t,n){"use strict";var r=n(8),a=n(29),o=n(9)("hasInstance"),i=Function.prototype;o in i||n(13).f(i,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=a(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(2);r(r.P,"Function",{bind:n(317)})},function(e,t,n){"use strict";var r=n(88),a={};a[n(9)("toStringTag")]="z",a+""!="[object z]"&&n(23)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var r=n(2);r(r.S+r.F*!n(12),"Object",{defineProperties:n(335)})},function(e,t,n){var r=n(2);r(r.S+r.F*!n(12),"Object",{defineProperty:n(13).f})},function(e,t,n){var r=n(2);r(r.S,"Object",{create:n(63)})},function(e,t,n){n(300),n(572),n(571),n(570),n(291),n(290),n(289),n(288),n(297),n(296),n(295),n(294),n(293),n(292),n(287),n(286),n(285),n(569),n(568),n(284),n(567),n(566),n(565),n(564),n(563),n(562),n(261),n(266),n(265),n(262),n(263),n(259),n(260),n(561),n(560),n(258),n(256),n(255),n(254),n(253),n(252),n(251),n(250),n(248),n(247),n(245),n(246),n(244),n(243),n(242),n(241),n(240),n(282),n(283),n(559),n(558),n(281),n(278),n(277),n(280),n(279),n(557),n(556),n(555),n(554),n(553),n(552),n(551),n(550),n(549),n(548),n(547),n(546),n(545),n(544),n(543),n(542),n(540),n(539),n(537),n(272),n(271),n(536),n(535),n(534),n(533),n(532),n(531),n(530),n(529),n(528),n(527),n(526),n(525),n(270),n(267),n(269),n(268),n(524),n(127),n(523),n(522),n(151),n(276),n(275),n(273),n(274),n(303),n(164),n(161),n(160),n(320),n(341),n(337),n(336),n(332),n(331),n(330),n(329),n(328),n(327),n(326),n(325),n(319),n(318),n(315),n(314),n(521),n(313),n(312),n(311),n(310),n(309),n(308),n(306),n(305),n(304),n(239),n(520),n(519),n(518),n(234),n(232),n(517),n(516),n(515),n(514),n(513),n(235),n(238),n(236),n(512),n(511),n(510),n(509),n(508),n(507),n(506),n(505),n(504),n(503),n(502),n(501),n(500),n(499),n(498),n(497),n(496),n(495),n(494),n(493),n(492),n(491),n(490),n(489),n(488),n(487),n(486),n(485),n(484),n(483),n(482),n(481),n(480),n(479),n(478),n(477),n(476),n(475),n(474),n(473),n(472),n(471),n(231),n(230),n(229),e.exports=n(42)},function(e,t,n){(function(t){!function(t){"use strict";var n,r=Object.prototype,a=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",l="object"==typeof e,c=t.regeneratorRuntime;if(c)l&&(e.exports=c);else{(c=t.regeneratorRuntime=l?e.exports:{}).wrap=_;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",m={},v={};v[i]=function(){return this};var y=Object.getPrototypeOf,g=y&&y(y(x([])));g&&g!==r&&a.call(g,i)&&(v=g);var b=S.prototype=E.prototype=Object.create(v);k.prototype=b.constructor=S,S.constructor=k,S[u]=k.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(b),e},c.awrap=function(e){return{__await:e}},O(C.prototype),C.prototype[s]=function(){return this},c.AsyncIterator=C,c.async=function(e,t,n,r){var a=new C(_(e,t,n,r));return c.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},O(b),b[u]="Generator",b[i]=function(){return this},b.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=x,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,a){return s.type="throw",s.arg=e,t.next=r,a&&(t.method="next",t.arg=n),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=a.call(i,"catchLoc"),l=a.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;M(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function _(e,t,n,r){var a=t&&t.prototype instanceof E?t:E,o=Object.create(a.prototype),i=new P(r||[]);return o._invoke=function(e,t,n){var r=d;return function(a,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===a)throw o;return j()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=D(i,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=w(e,t,n);if("normal"===u.type){if(r=n.done?h:f,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(e,n,i),o}function w(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function E(){}function k(){}function S(){}function O(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function C(e){function n(t,r,o,i){var s=w(e[t],e,r);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&a.call(l,"__await")?Promise.resolve(l.__await).then(function(e){n("next",e,o,i)},function(e){n("throw",e,o,i)}):Promise.resolve(l).then(function(e){u.value=e,o(u)},i)}i(s.arg)}var r;"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n)),this._invoke=function(e,t){function a(){return new Promise(function(r,a){n(e,t,r,a)})}return r=r?r.then(a,a):a()}}function D(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,D(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var a=w(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:n,done:!0}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,n(141))},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(62),a=n(124),o=n(87);e.exports=function(e){var t=r(e),n=a.f;if(n)for(var i,s=n(e),u=o.f,l=0;s.length>l;)u.call(e,i=s[l++])&&t.push(i);return t}},function(e,t,n){var r=n(8),a=n(128),o=n(9)("species");e.exports=function(e){var t;return a(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!a(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(1)),o=s(n(6)),i=s(n(189));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(){return u(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,a["default"].Component),r(t,[{key:"renderIcon",value:function(){return this.props.icon&&""!==this.props.icon?a.default.createElement("i",{className:this.props.icon}):""}},{key:"render",value:function(){return a.default.createElement("li",{onClick:this.props.onClick},this.renderIcon(),a.default.createElement(o.default,{message:this.props.label}))}}]),t}(),f=function(e){function t(e){u(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleMenu=function(){n.setState({openMenu:!n.state.openMenu})},n.handleOuterClick=function(e){n.setState({openMenu:!1})},n.handleItemClick=function(e,t){n.setState({openMenu:!1},function(){t&&t()})},n.state={openMenu:!1},n}return c(t,a["default"].Component),r(t,[{key:"render",value:function(){var e=this,t=this.state.openMenu?" show-menu":"",n=this.props.items;return a.default.createElement("div",{className:"dropdown "+(""==this.props.className?"":" "+this.props.className)},a.default.createElement("ul",{className:"dropdown-container"},a.default.createElement("li",{onClick:this.toggleMenu,className:"dropdown-button button "+t},this.props.icon&&a.default.createElement("i",{className:this.props.icon}),a.default.createElement(o.default,{message:this.props.text}),a.default.createElement("ul",{className:"dropdown-menu dropdown-select"},n.map(function(t,n){return a.default.createElement(d,{onClick:function(n){e.handleItemClick(n,t.handler)},label:t.label,key:"item_"+n,icon:t.icon})})))))}}]),t}();t.default=(0,i.default)(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n(1)),o=h(n(6)),i=h(n(10)),s=h(n(589)),u=h(n(51)),l=h(n(74)),c=h(n(588)),d=n(43),f=h(n(17)),p=h(n(432));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initializeTinyMCE=function(e){e.on("change",function(){tinymce.triggerSave()}),e.on("blur",function(){tinymce.triggerSave()}),e.on("click",function(e){e.target&&e.target.href&&n.isUrl(e.target.href)&&window.open(e.target.href,"_blank")}),e.on("change",function(){e.save(),n.props.onChange&&n.props.onChange(e.getContent())}),"about"!==n.props.editorType&&(e.addButton("dropbox",{title:i.default.translate("calendar","event.editor.wysiwyg.tooltipDropboxBtn"),image:f.default.getResourcesUrl()+"/img/tinymce/dropbox.png",subtype:"teamup-btn",onclick:function(){(window.Dropbox?Promise.resolve(!0):new Promise(function(e,t){var n=document.createElement("script"),r=document.getElementsByTagName("script")[0];n.async=!0,n.onload=e,n.onerror=t,n.src="https://www.dropbox.com/static/api/2/dropins.js",n.setAttribute("id","dropboxjs"),n.setAttribute("data-app-key","omzm8ln1bgn2142"),r.parentNode.insertBefore(n,r)})).then(function(){void 0===window.Dropbox&&n.alert("Dropbox has failed to load or is not yet initialized. Please try again in a few moments."),window.Dropbox.choose({success:n.insertDropboxFile,linkType:"preview",multiselect:!1})})}}),window.CALENDAR_SETTINGS&&window.CALENDAR_SETTINGS.filestack&&window.CALENDAR_SETTINGS.filestack.key&&e.addButton("upload",{title:i.default.translate("calendar","event.editor.wysiwyg.tooltipFilestackBtn"),image:f.default.getResourcesUrl()+"/img/tinymce/upload.png",subtype:"teamup-btn",onclick:n.startImageUpload})),n.props.onInit&&n.props.onInit(e),n.forceUpdate()},n.insertDropboxFile=function(e){n.tinyMceApi.focus();var t=e[0].name,r=t.lastIndexOf("."),a="",o="File Name";if(0===r?o=t.slice(1):r>0?(o=t.slice(0,r),a=t.slice(r)):t.length>0&&(o=t),".png"===(a=a.toLowerCase())||".jpg"===a||".jpeg"===a||".gif"===a){var i=e[0].link.replace("//www.","//dl.");n.tinyMceApi.selection.setContent('<img src="'+i+'" />')}else n.tinyMceApi.selection.setContent('<a href="'+e[0].link+'" target="_blank" />'+o+"</a>")},n.makeFilepickerRequest=function(e,t){(0,d.makeRequest)("GET",n.getBaseUrl()+"/upload/create-signature/attachments").then(function(r){e.then(function(){window.filepicker.setKey(window.CALENDAR_SETTINGS.filestack.key),window.filepicker.pickAndStore({mimetypes:["image/*","text/*","application/*"],policy:r.policy,signature:r.signature,language:window.APP_LANGUAGE,services:["COMPUTER","URL","WEBCAM","DROPBOX","IMAGE_SEARCH","FTP","FLICKR","GOOGLE_DRIVE","IMGUR","INSTAGRAM","SKYDRIVE","BOX"],multiple:!0},{location:"s3",container:window.CALENDAR_SETTINGS.filestack.uploadBucket,region:window.CALENDAR_SETTINGS.filestack.uploadRegion,path:window.CALENDAR_SETTINGS.appId+"/"},function(e){var t=[];e.forEach(function(e){e.key=n.encodeS3Key(e.key),e.mimetype.indexOf("image/")>-1&&!0,t.push(e)}),n.setState({filestackFiles:t})},function(e){console.log(e.toString())})},t)},t)},n.makeFiletackRequest=function(e,t){(0,d.makeRequest)("GET",n.getBaseUrl()+"/upload/create-signature/attachments").then(function(r){e.then(function(){window.filestack.init(window.CALENDAR_SETTINGS.filestack.key,{policy:r.policy,signature:r.signature}).pick({fromSources:["local_file_system","dropbox","googledrive","onedrive","facebook","instagram","flickr","box","imagesearch"],maxFiles:10,maxSize:15728640,storeTo:{location:"s3",container:window.CALENDAR_SETTINGS.filestack.uploadBucket,region:window.CALENDAR_SETTINGS.filestack.uploadRegion,path:window.CALENDAR_SETTINGS.appId+"/"}}).then(function(e){var t=[];e.filesUploaded.forEach(function(e){e.key=n.encodeS3Key(e.key),e.mimetype.indexOf("image/")>-1&&!0,t.push(e)}),n.setState({filestackFiles:t})})},t)},t)},n.startImageUpload=function(){var e,t=(0,p.default)().browser.name,r="IE"==t?"//api.filepicker.io/v2/filepicker.js":"//static.filestackapi.com/v3/filestack.js";if(!0!==window.CALENDAR_SETTINGS.licenseFeatures.file_upload||window.CALENDAR_SETTINGS.licenseFeatures.file_storage<=0)n.alert("calendar:event.editor.wysiwyg.requiredPremiumTitle","calendar:event.editor.wysiwyg.requiredPremiumText");else{e="IE"!==t&&!window.filestack||"IE"==t&&!window.filepicker?new Promise(function(e,t){!function(n){var a=n.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"===n.location.protocol?"https:":"http:")+r,a.onload=e,a.onerror=t;var o=n.getElementsByTagName("script")[0];o.parentNode.insertBefore(a,o);for(var i={_queue:[]},s="pick,pickMultiple,pickAndStore,read,write,writeUrl,export,convert,store,storeUrl,remove,stat,setKey,constructWidget,makeDropPane".split(","),u=function(e,t){return function(){t.push([e,arguments])}},l=0;l<s.length;l++)i[s[l]]=u(s[l],i._queue);window.filestack=i}(document)}):Promise.resolve(!0);var a=function(){n.alert("calendar:event.editor.wysiwyg.connectionNotAvailable")};"IE"==t?n.makeFilepickerRequest(e,a):n.makeFiletackRequest(e,a)}},n.handleLangUpdate=function(){n.forceUpdate()},n.commitChanges=function(){n.props.commitChanges(n.tinyMceApi.getContent())},n.cancelChanges=function(){n.props.cancelChanges()},n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"alert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.setState({showAlert:!0,alertTitle:e,alertMessage:t})}},{key:"focus",value:function(){this.tinyMceApi&&(this.tinyMceApi.execCommand("mceAutoResize"),this.tinyMceApi.focus())}},{key:"insertUploadedImages",value:function(e,t){var n=this;this.setState({filestackFiles:null}),(0,d.makeRequest)("POST",this.getBaseUrl()+"/upload/save-document",t).then(function(t){var r;t.files.forEach(function(t){r=window.CALENDAR_SETTINGS.filestack.s3_base_url+t.key,-1==n.tinyMceApi.getContent().indexOf(t.filename)&&("img"==e?t.mimetype.indexOf("image/")>-1?n.tinyMceApi.execCommand("mceInsertContent",!1,'<img src="'+r+'" alt="'+t.filename+'" style="float: left;" /> &nbsp; '):n.tinyMceApi.execCommand("mceInsertContent",!1,'<a href="'+r+'">'+t.filename+"</a> &nbsp; "):n.tinyMceApi.execCommand("mceInsertContent",!1,'<a href="'+r+'">'+t.filename+"</a> "))})},function(e){n.alert("Connection failed",e.response.error.message)})}},{key:"isUrl",value:function(e){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)}},{key:"getBaseUrl",value:function(){return f.default.getAppKey()?f.default.getBaseUrl()+"/"+f.default.getAppKey():f.default.getBaseUrl()+"/events/pointer/"+window.EVENT_POINTER}},{key:"encodeS3Key",value:function(e){var t=e.split("/"),n=encodeURIComponent(t[t.length-1]);return t[t.length-1]=n,t.join("/")}},{key:"componentDidMount",value:function(){var e=this;this.componentIsMounted=!0,function(e){if(window.tinymce)return e();if(!window.tinyMceSrc)throw new Error("window.tinyMceSrc must be defined in the template, or tinyMCE should be part of the build.");(0,c.default)(window.tinyMceSrc,e)}(function(){if(e.componentIsMounted){var t={language:f.default.getLanguage(),content_css:f.default.getResourcesUrl()+"/tinymce.css",autoresize_min_height:100,autoresize_bottom_margin:0,browser_spellcheck:!0,convert_urls:!1,entity_encoding:"raw",image_advtab:!0,menubar:!1,toolbar:!1,relative_urls:!1,statusbar:!1,auto_focus:e.props.autoFocus,toolbar_items_size:"small",image_dimensions:!1,tabfocus_elements:":prev,:next",paste_preprocess:function(e,t){var n=/<img[^>]+src="data:image\/([^">]+)/g.exec(t.content);n&&n.input&&(t.content=t.content.replace(n.input,"<strong>Sorry, pasting of images is not supported. Please use the file upload feature to insert images.</strong>"))},setup:e.initializeTinyMCE,valid_elements:"strong/b,em/i,strike,#p,-ol,-ul,-li,br,-h1,-h2,-h3",branding:!1},n="autolink autoresize lists tabfocus paste link teamuplinknewtab";"about"==e.props.editorType?(t.plugins=n,t.toolbar="bold italic | link unlink | bullist numlist",t.valid_elements+=",a[href|target|rel]",t.default_link_target="_blank"):"comment"==e.props.editorType?(t.plugins=n+" contextmenu image code",t.toolbar="undo redo | bold italic | bullist numlist | link unlink | image  dropbox  upload | code",t.block_formats=i.default.translate("calendar","event.editor.wysiwyg.blockFormats"),t.valid_elements+=",a[href|target:_blank|rel],img[src|title|alt|width|height|style],p[style],li[style],h1[style],h2[style],h3[style]",t.target_list=!1):(t.plugins=n+" contextmenu image code",t.toolbar="undo redo | bold italic | bullist numlist | formatselect | link unlink | alignleft aligncenter alignright | image  dropbox  upload | code",t.block_formats=i.default.translate("calendar","event.editor.wysiwyg.blockFormats"),t.valid_elements+=",a[href|target:_blank|rel],img[src|title|alt|width|height|style],p[style],li[style],h1[style],h2[style],h3[style]",t.target_list=!1),e.tinyMceApi=new tinymce.Editor(e.props.id,t,tinymce.EditorManager),e.tinyMceApi.render()}}),l.default.listen(this.handleLangUpdate)}},{key:"componentWillUnmount",value:function(){if(this.tinyMceApi)try{this.tinyMceApi.remove()}catch(e){console.log("Handled error from tinyMCE, probably can be ignored"),console.error(e)}this.componentIsMounted=!1,l.default.unlisten(this.handleLangUpdate)}},{key:"renderFilestackSelector",value:function(){var e=this;if(this.state.filestackFiles){var t="link";if(this.state.filestackFiles.forEach(function(e){e.mimetype.indexOf("image/")>-1&&(t="img")}),"link"!=t)return a.default.createElement(u.default,{title:"calendar:event.editor.wysiwyg.uploadWinTitle",message:"calendar:event.editor.wysiwyg.uploadWinText",yesText:"calendar:event.editor.wysiwyg.uploadWinBtnImg",noText:"calendar:event.editor.wysiwyg.uploadWinBtnLink",onYes:function(){e.insertUploadedImages("img",e.state.filestackFiles)},onNo:function(){e.insertUploadedImages("link",e.state.filestackFiles)},onEscape:function(){e.insertUploadedImages("img",e.state.filestackFiles)}});this.insertUploadedImages("link",this.state.filestackFiles)}return null}},{key:"renderAlert",value:function(){var e=this;return this.state.showAlert?a.default.createElement(s.default,{title:this.state.alertTitle,message:this.state.alertMessage,onOk:function(){e.setState({showAlert:!1})}}):null}},{key:"render",value:function(){var e="wysiwyg",t=this.props.defaultValue,n=this.props.placeholder;return""==t&&(e+=" is-placeholder"),n=i.default.translate("preferences",n),a.default.createElement("div",{className:e,style:window.tinymce?{}:{display:"none"}},this.renderFilestackSelector(),this.renderAlert(),a.default.createElement("textarea",{defaultValue:this.props.defaultValue,id:this.props.id}),this.props.commitChanges?a.default.createElement("button",{className:"btn__settings-add",type:"button",onClick:this.commitChanges},a.default.createElement(o.default,{section:"core_js",message:"save"})):null,this.props.cancelChanges?a.default.createElement("button",{className:"btn__settings-edit",type:"button",onClick:this.cancelChanges},a.default.createElement(o.default,{section:"core_js",message:"cancel"})):null)}}]),t}();t.default=m,m.defaultProps={placeholder:"",autoFocus:!0}},function(e,t,n){"use strict";e.exports=n(605)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={EVENT:"event",EVENT_DRAG_TIME_HANDLE:"event_drag_time_handle",CELL:"cell",TIME_CELL:"time_cell"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(218)),a=l(n(97)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(1)),s=l(n(219)),u=l(n(56));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleCalendarStateUpdate=function(t){t.datetime.currentDate.isSame(e.state.currentDate)&&(0,a.default)(t.datetime.dateRange,e.state.dateRange)||e.setState({currentDate:t.datetime.currentDate,dateRange:t.datetime.dateRange}),t.datetime.viewStartDate.isSame(e.state.viewStartDate)&&t.datetime.viewEndDate.isSame(e.state.viewEndDate)||e.setState({viewStartDate:t.datetime.viewStartDate,viewEndDate:t.datetime.viewEndDate}),t.datetime.visibleStartDate.isSame(e.state.visibleStartDate)&&t.datetime.visibleEndDate.isSame(e.state.visibleEndDate)||e.setState({visibleStartDate:t.datetime.visibleStartDate,visibleEndDate:t.datetime.visibleEndDate}),t.views.current!==e.state.currentView&&e.setState({currentView:t.views.current}),t.grid.resolution!==e.state.grid.resolution&&e.setState({grid:(0,r.default)(t.grid)}),t.datetime.hideWeekend!==e.state.hideWeekend&&e.setState({hideWeekend:t.datetime.hideWeekend})},e.handleEventsUpdate=function(t){e.updateEvents(t.events)},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["default"].Component),o(t,[{key:"initAbstractState",value:function(){return{readOnly:u.default.getState().authentication.readOnly,currentDate:u.default.getState().datetime.currentDate,dateRange:u.default.getState().datetime.dateRange,viewStartDate:u.default.getState().datetime.viewStartDate,viewEndDate:u.default.getState().datetime.viewEndDate,visibleStartDate:u.default.getState().datetime.visibleStartDate,visibleEndDate:u.default.getState().datetime.visibleEndDate,currentView:u.default.getState().views.current,grid:(0,r.default)(u.default.getState().grid),hideWeekend:u.default.getState().datetime.hideWeekend,weekStart:u.default.getState().datetime.weekStart,oneToManyLayoutStripe:"striped"===u.default.getState().oneToMany.layout,startHour:u.default.getState().datetime.startHour,endHour:u.default.getState().datetime.endHour,isPdf:u.default.getState().views.isPdf,formatPdfEco:u.default.getState().views.formatPdfEco}}},{key:"componentDidMount",value:function(){s.default.listen(this.handleEventsUpdate),u.default.listen(this.handleCalendarStateUpdate)}},{key:"componentWillUnmount",value:function(){s.default.unlisten(this.handleEventsUpdate),u.default.unlisten(this.handleCalendarStateUpdate)}}]),t}();t.default=c},function(e,t,n){var r=n(188),a=n(630),o=n(440),i=n(629),s=n(628),u=n(625),l=n(624),c=n(623),d=n(622),f=n(214),p=n(621),h=n(133),m=n(620),v=n(619),y=n(614),g=n(50),b=n(138),_=n(612),w=n(44),E=n(610),k=n(134),S=1,O=2,C=4,D="[object Arguments]",T="[object Function]",M="[object GeneratorFunction]",P="[object Object]",x={};x[D]=x["[object Array]"]=x["[object ArrayBuffer]"]=x["[object DataView]"]=x["[object Boolean]"]=x["[object Date]"]=x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Map]"]=x["[object Number]"]=x[P]=x["[object RegExp]"]=x["[object Set]"]=x["[object String]"]=x["[object Symbol]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x["[object Error]"]=x[T]=x["[object WeakMap]"]=!1,e.exports=function e(t,n,j,N,A,R){var L,I=n&S,F=n&O,Y=n&C;if(j&&(L=A?j(t,N,A,R):j(t)),void 0!==L)return L;if(!w(t))return t;var U=g(t);if(U){if(L=m(t),!I)return l(t,L)}else{var H=h(t),V=H==T||H==M;if(b(t))return u(t,I);if(H==P||H==D||V&&!A){if(L=F||V?{}:y(t),!I)return F?d(t,s(L,t)):c(t,i(L,t))}else{if(!x[H])return A?t:{};L=v(t,H,I)}}R||(R=new r);var B=R.get(t);if(B)return B;if(R.set(t,L),E(t))return t.forEach(function(r){L.add(e(r,n,j,r,t,R))}),L;if(_(t))return t.forEach(function(r,a){L.set(a,e(r,n,j,a,t,R))}),L;var W=Y?F?p:f:F?keysIn:k,z=U?void 0:W(t);return a(z||t,function(r,a){z&&(r=t[a=r]),o(L,a,e(r,n,j,a,t,R))}),L}},,,,function(e,t){function n(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function r(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,a){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");"function"==typeof t&&(a=t,t={}),t=t||{},a=a||function(){},i.type=t.type||"text/javascript",i.charset=t.charset||"utf8",i.async=!("async"in t)||!!t.async,i.src=e,t.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(i,t.attrs),t.text&&(i.text=""+t.text),("onload"in i?n:r)(i,a),i.onload||n(i,a),o.appendChild(i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(1)),o=i(n(51));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){return a.default.createElement(o.default,{message:this.props.message,title:this.props.title,onYes:this.props.onOk,yesText:"core_js:ok"})}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(1)),a=n(36),o=u(n(6)),i=u(n(426)),s=u(n(18));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=s.default.getUrl(e.to);return r.default.createElement("li",{"data-route":e.to},r.default.createElement(a.Route,{path:t,children:function(n){return r.default.createElement(a.Link,{className:n.match?"settings__nav-active":"",onClick:e.onClick,to:t},r.default.createElement(i.default,{routes:e.routes,route:e.to}),r.default.createElement(o.default,{message:e.message}))}}))}t.default=function(e){return r.default.createElement("nav",{className:"settings__nav"},r.default.createElement("ul",null,e.routes.map(function(t){return r.default.createElement(l,{key:t.name,routes:e.routes,to:t.name,message:t.message||"routing."+t.name,onClick:e.closeSidebar})})))}},function(e,t,n){"use strict";t.__esModule=!0;t.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.getConfirmation=function(e,t){return t(window.confirm(e))},t.supportsHistory=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},t.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},t.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},t.isExtraneousPopstateEvent=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(e,t,n){"use strict";t.__esModule=!0;var r,a=n(19),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(){var e=null,t=[];return{setPrompt:function(t){return(0,o.default)(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,a){if(null!=e){var i="function"==typeof e?e(t,n):e;"string"==typeof i?"function"==typeof r?r(i,a):((0,o.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),a(!0)):a(!1!==i)}else a(!0)},appendListener:function(e){var n=!0,r=function(){n&&e.apply(void 0,arguments)};return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}}},function(e,t,n){"use strict";t.__esModule=!0,t.locationsAreEqual=t.createLocation=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(343)),o=s(n(342)),i=n(428);function s(e){return e&&e.__esModule?e:{default:e}}t.createLocation=function(e,t,n,o){var s=void 0;"string"==typeof e?(s=(0,i.parsePath)(e)).state=t:(void 0===(s=r({},e)).pathname&&(s.pathname=""),s.search?"?"!==s.search.charAt(0)&&(s.search="?"+s.search):s.search="",s.hash?"#"!==s.hash.charAt(0)&&(s.hash="#"+s.hash):s.hash="",void 0!==t&&void 0===s.state&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(s.key=n),o?s.pathname?"/"!==s.pathname.charAt(0)&&(s.pathname=(0,a.default)(s.pathname,o.pathname)):s.pathname=o.pathname:s.pathname||(s.pathname="/"),s},t.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&(0,o.default)(e.state,t.state)}},function(e,t,n){"use strict";t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=d(n(19)),i=d(n(21)),s=n(593),u=n(428),l=d(n(592)),c=n(591);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(){try{return window.history.state||{}}catch(e){return{}}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(c.canUseDOM,"Browser history needs a DOM");var t=window.history,n=(0,c.supportsHistory)(),d=!(0,c.supportsPopStateOnHashChange)(),p=e.forceRefresh,h=void 0!==p&&p,m=e.getUserConfirmation,v=void 0===m?c.getConfirmation:m,y=e.keyLength,g=void 0===y?6:y,b=e.basename?(0,u.stripTrailingSlash)((0,u.addLeadingSlash)(e.basename)):"",_=function(e){var t=e||{},n=t.key,r=t.state,a=window.location,i=a.pathname+a.search+a.hash;return(0,o.default)(!b||(0,u.hasBasename)(i,b),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+i+'" to begin with "'+b+'".'),b&&(i=(0,u.stripBasename)(i,b)),(0,s.createLocation)(i,r,n)},w=function(){return Math.random().toString(36).substr(2,g)},E=(0,l.default)(),k=function(e){a(L,e),L.length=t.length,E.notifyListeners(L.location,L.action)},S=function(e){(0,c.isExtraneousPopstateEvent)(e)||D(_(e.state))},O=function(){D(_(f()))},C=!1,D=function(e){C?(C=!1,k()):E.confirmTransitionTo(e,"POP",v,function(t){t?k({action:"POP",location:e}):T(e)})},T=function(e){var t=L.location,n=P.indexOf(t.key);-1===n&&(n=0);var r=P.indexOf(e.key);-1===r&&(r=0);var a=n-r;a&&(C=!0,j(a))},M=_(f()),P=[M.key],x=function(e){return b+(0,u.createPath)(e)},j=function(e){t.go(e)},N=0,A=function(e){1===(N+=e)?((0,c.addEventListener)(window,"popstate",S),d&&(0,c.addEventListener)(window,"hashchange",O)):0===N&&((0,c.removeEventListener)(window,"popstate",S),d&&(0,c.removeEventListener)(window,"hashchange",O))},R=!1,L={length:t.length,action:"POP",location:M,createHref:x,push:function(e,a){(0,o.default)(!("object"===(void 0===e?"undefined":r(e))&&void 0!==e.state&&void 0!==a),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var i=(0,s.createLocation)(e,a,w(),L.location);E.confirmTransitionTo(i,"PUSH",v,function(e){if(e){var r=x(i),a=i.key,s=i.state;if(n)if(t.pushState({key:a,state:s},null,r),h)window.location.href=r;else{var u=P.indexOf(L.location.key),l=P.slice(0,-1===u?0:u+1);l.push(i.key),P=l,k({action:"PUSH",location:i})}else(0,o.default)(void 0===s,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},replace:function(e,a){(0,o.default)(!("object"===(void 0===e?"undefined":r(e))&&void 0!==e.state&&void 0!==a),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i=(0,s.createLocation)(e,a,w(),L.location);E.confirmTransitionTo(i,"REPLACE",v,function(e){if(e){var r=x(i),a=i.key,s=i.state;if(n)if(t.replaceState({key:a,state:s},null,r),h)window.location.replace(r);else{var u=P.indexOf(L.location.key);-1!==u&&(P[u]=i.key),k({action:"REPLACE",location:i})}else(0,o.default)(void 0===s,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},go:j,goBack:function(){return j(-1)},goForward:function(){return j(1)},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=E.setPrompt(e);return R||(A(1),R=!0),function(){return R&&(R=!1,A(-1)),t()}},listen:function(e){var t=E.appendListener(e);return A(1),function(){A(-1),t()}}};return L}},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var r,a=n(431);var o="transform",i=void 0,s=void 0,u=void 0,l=void 0,c=void 0,d=void 0,f=void 0,p=void 0,h=void 0,m=void 0,v=void 0;if(((r=a)&&r.__esModule?r:{default:r}).default){var y=function(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),r=void 0,a=void 0,o="",i=0;i<n.length;i++){var s=n[i];if(s+"TransitionProperty"in e){o="-"+s.toLowerCase(),r=t[s]("TransitionEnd"),a=t[s]("AnimationEnd");break}}!r&&"transitionProperty"in e&&(r="transitionend");!a&&"animationName"in e&&(a="animationend");return e=null,{animationEnd:a,transitionEnd:r,prefix:o}}();i=y.prefix,t.transitionEnd=s=y.transitionEnd,t.animationEnd=u=y.animationEnd,t.transform=o=i+"-"+o,t.transitionProperty=l=i+"-transition-property",t.transitionDuration=c=i+"-transition-duration",t.transitionDelay=f=i+"-transition-delay",t.transitionTiming=d=i+"-transition-timing-function",t.animationName=p=i+"-animation-name",t.animationDuration=h=i+"-animation-duration",t.animationTiming=m=i+"-animation-delay",t.animationDelay=v=i+"-animation-timing-function"}t.transform=o,t.transitionProperty=l,t.transitionTiming=d,t.transitionDelay=f,t.transitionDuration=c,t.transitionEnd=s,t.animationName=p,t.animationDuration=h,t.animationTiming=m,t.animationDelay=v,t.animationEnd=u,t.default={transform:o,end:s,property:l,timing:d,delay:f,duration:c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(431);var o,i="clearTimeout",s=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-l)),r=setTimeout(e,n);return l=t,r},u=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};((r=a)&&r.__esModule?r:{default:r}).default&&["","webkit","moz","o","ms"].some(function(e){var t=u(e,"request");if(t in window)return i=u(e,"cancel"),s=function(e){return window[t](e)}});var l=(new Date).getTime();(o=function(e){return s(e)}).cancel=function(e){window[i]&&"function"==typeof window[i]&&window[i](e)},t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.classList?e.classList.add(t):(0,o.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var r,a=n(599),o=(r=a)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=f(n(600)),o=f(n(598)),i=f(n(597)),s=n(596),u=f(n(1)),l=f(n(0)),c=n(32),d=n(430);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=[];s.transitionEnd&&h.push(s.transitionEnd),s.animationEnd&&h.push(s.animationEnd);l.default.node,d.nameShape.isRequired,l.default.bool,l.default.bool,l.default.bool,l.default.number,l.default.number,l.default.number;var m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=p(this,e.call.apply(e,[this].concat(o))),r.componentWillAppear=function(e){r.props.appear?r.transition("appear",e,r.props.appearTimeout):e()},r.componentWillEnter=function(e){r.props.enter?r.transition("enter",e,r.props.enterTimeout):e()},r.componentWillLeave=function(e){r.props.leave?r.transition("leave",e,r.props.leaveTimeout):e()},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var r=(0,c.findDOMNode)(this);if(r){var i=this.props.name[e]||this.props.name+"-"+e,u=this.props.name[e+"Active"]||i+"-active",l=null,d=void 0;(0,a.default)(r,i),this.queueClassAndNode(u,r);var f=function(e){e&&e.target!==r||(clearTimeout(l),d&&d(),(0,o.default)(r,i),(0,o.default)(r,u),d&&d(),t&&t())};n?(l=setTimeout(f,n),this.transitionTimeouts.push(l)):s.transitionEnd&&(d=function(e,t){return h.length?h.forEach(function(n){return e.addEventListener(n,t,!1)}):setTimeout(t,0),function(){h.length&&h.forEach(function(n){return e.removeEventListener(n,t,!1)})}}(r,f))}else t&&t()},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,i.default)(function(){return n.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,a.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=r({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,u.default.cloneElement(u.default.Children.only(this.props.children),e)},t}(u.default.Component);m.displayName="CSSTransitionGroupChild",m.propTypes={},t.default=m,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=function(e){if(!e)return e;var t={};return r.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t},t.mergeChildMappings=function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},a=[];for(var o in e)t.hasOwnProperty(o)?a.length&&(r[o]=a,a=[]):a.push(o);var i=void 0,s={};for(var u in t){if(r.hasOwnProperty(u))for(i=0;i<r[u].length;i++){var l=r[u][i];s[r[u][i]]=n(l)}s[u]=n(u)}for(i=0;i<a.length;i++)s[a[i]]=n(a[i]);return s};var r=n(1)},function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter(function(e){return null!=e})).length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=u(n(603)),o=u(n(1)),i=u(n(0)),s=(u(n(19)),n(602));function u(e){return e&&e.__esModule?e:{default:e}}i.default.any,i.default.func,i.default.node;var l=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return o.performAppear=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(o._handleDoneAppearing.bind(o,e,t)):o._handleDoneAppearing(e,t)},o._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete o.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performEnter=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(o._handleDoneEntering.bind(o,e,t)):o._handleDoneEntering(e,t)},o._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete o.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performLeave=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(o._handleDoneLeaving.bind(o,e,t)):o._handleDoneLeaving(e,t)},o._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete o.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)?o.keysToEnter.push(e):o.setState(function(t){var n=r({},t.children);return delete n[e],{children:n}})},o.childRefs=Object.create(null),o.state={children:(0,s.getChildMapping)(n.children)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,s.getChildMapping)(e.children),n=this.state.children;for(var r in this.setState({children:(0,s.mergeChildMappings)(n,t)}),t){var a=n&&n.hasOwnProperty(r);!t[r]||a||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var o in n){var i=t&&t.hasOwnProperty(o);!n[o]||i||this.currentlyTransitioningKeys[o]||this.keysToLeave.push(o)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[],n=function(n){var r=e.state.children[n];if(r){var i="string"!=typeof r.ref,s=e.props.childFactory(r),u=function(t){e.childRefs[n]=t};s===r&&i&&(u=(0,a.default)(r.ref,u)),t.push(o.default.cloneElement(s,{key:n,ref:u}))}};for(var i in this.state.children)n(i);var s=r({},this.props);return delete s.transitionLeave,delete s.transitionName,delete s.transitionAppear,delete s.transitionEnter,delete s.childFactory,delete s.transitionLeaveTimeout,delete s.transitionEnterTimeout,delete s.transitionAppearTimeout,delete s.component,o.default.createElement(this.props.component,s,t)},t}(o.default.Component);l.displayName="TransitionGroup",l.propTypes={},l.defaultProps={component:"span",childFactory:function(e){return e}},t.default=l,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(1)),o=l(n(0)),i=l(n(604)),s=l(n(601)),u=n(430);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}u.nameShape.isRequired,o.default.bool,o.default.bool,o.default.bool,(0,u.transitionTimeout)("Appear"),(0,u.transitionTimeout)("Enter"),(0,u.transitionTimeout)("Leave");var d=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=c(this,e.call.apply(e,[this].concat(i))),r._wrapChild=function(e){return a.default.createElement(s.default,{name:r.props.transitionName,appear:r.props.transitionAppear,enter:r.props.transitionEnter,leave:r.props.transitionLeave,appearTimeout:r.props.transitionAppearTimeout,enterTimeout:r.props.transitionEnterTimeout,leaveTimeout:r.props.transitionLeaveTimeout},e)},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a.default.createElement(i.default,r({},this.props,{childFactory:this._wrapChild}))},t}(a.default.Component);d.displayName="CSSTransitionGroup",d.propTypes={},d.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},t.default=d,e.exports=t.default},function(e,t,n){var r=n(470),a=1/0,o=1.7976931348623157e308;e.exports=function(e){return e?(e=r(e))===a||e===-a?(e<0?-1:1)*o:e==e?e:0:0===e?e:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DDHelpers=t.snapToGridAmount=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(4)),o=u(n(56)),i=u(n(91)),s=u(n(143));function u(e){return e&&e.__esModule?e:{default:e}}t.snapToGridAmount=21,t.DDHelpers=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"getElementUnderPointByClass",value:function(t,n,r){return"js-dnd-time-grid-column"!==r&&"day"!==r||console.error("WARNING: This function should not be called with js-dnd-time-grid-column or day as those have pointer-events disabled, see docblock"),e.elementAtLocation(t,n,r)}},{key:"getGridColumnUnderPoint",value:function(e,t,n){for(var r=document.querySelectorAll(n),a=0;a<r.length;a++){var o=r[a].getBoundingClientRect();if(o.left<=e&&o.right>e&&o.top<=t&&o.bottom>t)return r[a]}}},{key:"getChangeSet",value:function(t,n,r){var u=document.querySelector(".time-grid"),l={valid:!1,error:"out_of_bounds",fields:{}},c=void 0,d=void 0,f=void 0,p=void 0,h="scheduler"===o.default.getState().views.current,m=void 0;if(u&&(p=e.getGridColumnUnderPoint(r.x,r.y,".js-dnd-time-grid-column"))){var v=p.getBoundingClientRect(),y=r.y-n;if(y=Math.max(Math.min(y,v.bottom),v.top),f=e.getElementUnderPointByClass(r.x,y,"js-dnd-time-grid-row")){var g=f.getAttribute("data-date");g&&(c=(0,a.default)(g))}}if(u&&p&&c){var b=(0,a.default)(p.getAttribute("data-date"));c.year(b.year()).month(b.month()).date(b.date());var _=s.default.getEventDatesForDate(t,c,!0);l.fields.start_dt=_.start_dt,l.fields.end_dt=_.end_dt,l.valid=!0,l.error=void 0,t.all_day&&(l.fields.all_day=!1,l.fields.end_dt=_.start_dt.clone().add(1,"hour"))}else{var w=void 0;if(p=void 0,f=void 0,d=e.getElementUnderPointByClass(r.x,r.y,"js-dnd-grid-cell")){w=(0,a.default)(d.getAttribute("data-date"));var E=!1;u&&!t.all_day&&(l.fields.all_day=!0,w.startOf("day"),E=!0);var k=s.default.getEventDatesForDate(t,w,E);l.fields.start_dt=k.start_dt,l.fields.end_dt=k.end_dt,l.valid=!0,l.error=void 0}}if(h&&(p||d)){var S=p||d;(m=i.default.findById(parseInt(S.getAttribute("data-subcalendar-id"))))&&t.subcalendars[0].id!==m.id&&(l.fields.subcalendars=[m],l.fields.subcalendar_ids=[m.id],l.fields.subcalendar_id=m.id),l.fields.subcalendars&&l.fields.subcalendars[0].readonly&&(l.valid=!1,l.error="readonly"),t.subcalendar_ids.length>1&&l.fields.subcalendar_ids&&(l.valid=!1,l.error="multi_calendar_event_can_not_move"),l.fields.subcalendars&&d&&t.all_day&&(l.fields.start_dt=void 0,l.fields.end_dt=void 0)}return l.hoveredGridCell=d,l.hoveredTimeColumn=p,l.hoveredTimeRow=f,!0===l.valid&&t.rrule&&(l.fields.redit="single"),l}},{key:"getChangeSetForTimeRange",value:function(t,n,r){var o=e.getElementUnderPointByClass(t.x,t.y,"js-dnd-time-grid-row"),s=e.getGridColumnUnderPoint(t.x,t.y,".js-dnd-time-grid-column"),u=void 0;if(!n||!o||!s)return{valid:!1,error:"out_of_bounds",fields:{}};var l=(0,a.default)(s.getAttribute("data-date")),c=(0,a.default)(n.getAttribute("data-date")),d=(0,a.default)(o.getAttribute("data-date")),f=l.clone().set("hours",c.get("hour")).set("minute",c.get("minute")).set("second",c.get("second")),p=l.set("hours",d.get("hour")).set("minute",d.get("minute")).set("second",d.get("second"));if(f.isAfter(p)){var h=[p,f,o,n];f=h[0],p=h[1],n=h[2],o=h[3]}else p.add(r,"minutes");if(u={start_dt:f,end_dt:p},s.hasAttribute("data-subcalendar-id")){var m=i.default.findById(parseInt(s.getAttribute("data-subcalendar-id")));u.subcalendar_id=m.id}return{fields:u,valid:!0,hoveredTimeColumn:s,hoveredTimeRow:n,hoveredEndTimeRow:o}}},{key:"getShiftEventTimeChangeSet",value:function(t,n,r,o){var i=e.getElementUnderPointByClass(n.x,n.y,"js-dnd-time-grid-row"),s=e.getGridColumnUnderPoint(r.x,r.y,".js-dnd-time-grid-column");if(!s||!i)return{valid:!1,error:"out_of_bounds",fields:{}};var u=(0,a.default)(s.getAttribute("data-date")),l=(0,a.default)(i.getAttribute("data-date"));u.set("hours",l.get("hour")).set("minute",l.get("minute")).set("second",l.get("second")),u&&u.isAfter(t.start_dt)&&u.add(o,"minutes");var c={fields:{start_dt:t.start_dt.clone()},valid:!0};return u.isSameOrAfter(t.start_dt)?c.fields.end_dt=u:(c.fields.end_dt=c.fields.start_dt,c.fields.start_dt=u),c.hoveredTimeColumn=s,c.hoveredTimeRow=i,t.rrule&&(c.fields.redit="single"),c}},{key:"elementAtLocation",value:function(e,t,n){if(void 0!==document.elementsFromPoint)return document.elementsFromPoint(e,t).find(function(e){return e.classList.contains(n)&&e.hasAttribute("data-date")});var r=[],a=void 0,o=void 0,i=15;do{if(!(a=document.elementFromPoint(e,t)))break;if(a.classList.contains(n)&&a.hasAttribute("data-date")){o=a;break}if(r.push(a),a.style.pointerEvents="none",!i--)break}while("HTML"!==a.tagName&&-1===a.className.indexOf("calendar-body-content"));for(var s=0;s<r.length;s+=1)r[s].style.pointerEvents="";return o}},{key:"getGridMap",value:function(){var e=void 0,t=void 0,n=[],r=0,a=document.querySelectorAll(".grid-view > .body > .rows > .row");if(a.length>0)for(e=0;e<a.length;e++){var o=a[e],i=o.getBoundingClientRect(),s=[];for(t=0;t<o.childNodes[1].childNodes.length;t++){var u=o.childNodes[1].childNodes[t];u.classList.contains("day-title")&&s.push({date:u.getAttribute("data-date"),rect:u.getBoundingClientRect()})}n.push({startsAt:r,endsAt:r+i.height,rect:i,cells:s}),r+=i.height}return n}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=(r=o)&&r.__esModule?r:{default:r},s=n(176),u=n(137);var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleMouseOver=function(t){t.persist(),t.stopPropagation(),clearTimeout(e.mouseOutTimeoutId),clearTimeout(e.touchEndTimeoutId),e.mouseOverTimeoutId=window.setTimeout(function(){return e.showMenu(t)},700)},e.handleMouseOut=function(t){t.stopPropagation(),clearTimeout(e.mouseOverTimeoutId),clearTimeout(e.touchStartTimeoutId),e.mouseOutTimeoutId=window.setTimeout(function(){return e.hideMenu()},50)},e.handleTouchStart=function(t){t.persist(),clearTimeout(e.mouseOutTimeoutId),clearTimeout(e.touchEndTimeoutId),e.touchStartTimeoutId=window.setTimeout(function(){return e.showMenu(t)},700)},e.handleTouchEnd=function(t){clearTimeout(e.mouseOverTimeoutId),clearTimeout(e.touchStartTimeoutId),e.touchEndTimeoutId=window.setTimeout(function(){return e.hideMenu()},2e3)},e.handleClick=function(t){e.props.onClick&&e.props.onClick(t),clearTimeout(e.mouseOverTimeoutId),clearTimeout(e.mouseOutTimeoutId),clearTimeout(e.touchStartTimeoutId),clearTimeout(e.touchEndTimeoutId),setTimeout(function(){return e.hideMenu()},0)},e.hideMenu=function(){(0,s.hideMenu)({id:e.props.id})},e.showMenu=function(t){if(!e.props.disabled){var n=(t.clientX||t.touches&&t.touches[0].pageX)+15,r=(t.clientY||t.touches&&t.touches[0].pageY)+15;(0,s.showMenu)({position:{x:n,y:r},target:e.ref,id:e.props.id,data:e.props.collect?e.props.collect(e.props):{message:e.props.message||""}})}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["default"].Component),a(t,[{key:"shouldComponentUpdate",value:function(e){return!(e.disabled&&!this.props.disabled)||(this.hideMenu(),!1)}},{key:"render",value:function(){var e=this,t={onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick,ref:function(t){e.ref=t,e.props.ref&&e.props.ref(t)}},n=Object.assign({},(0,u.excludeProps)(this.props,["id","collect","message","disabled","component","children"]),t);return i.default.createElement(this.props.component||"span",n,this.props.children)}}]),t}();t.default=l},function(e,t,n){var r=n(133),a=n(49),o="[object Set]";e.exports=function(e){return a(e)&&r(e)==o}},function(e,t,n){var r=n(609),a=n(93),o=n(145),i=o&&o.isSet,s=i?a(i):r;e.exports=s},function(e,t,n){var r=n(133),a=n(49),o="[object Map]";e.exports=function(e){return a(e)&&r(e)==o}},function(e,t,n){var r=n(611),a=n(93),o=n(145),i=o&&o.isMap,s=i?a(i):r;e.exports=s},function(e,t,n){var r=n(44),a=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){var r=n(613),a=n(436),o=n(144);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(a(e))}},function(e,t,n){var r=n(217);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(81),a=r?r.prototype:void 0,o=a?a.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(217);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t,n){var r=n(217),a=n(618),o=n(617),i=n(616),s=n(615),u="[object Boolean]",l="[object Date]",c="[object Map]",d="[object Number]",f="[object RegExp]",p="[object Set]",h="[object String]",m="[object Symbol]",v="[object ArrayBuffer]",y="[object DataView]",g="[object Float32Array]",b="[object Float64Array]",_="[object Int8Array]",w="[object Int16Array]",E="[object Int32Array]",k="[object Uint8Array]",S="[object Uint8ClampedArray]",O="[object Uint16Array]",C="[object Uint32Array]";e.exports=function(e,t,n){var D=e.constructor;switch(t){case v:return r(e);case u:case l:return new D(+e);case y:return a(e,n);case g:case b:case _:case w:case E:case k:case S:case O:case C:return s(e,n);case c:return new D;case d:case h:return new D(e);case f:return o(e);case p:return new D;case m:return i(e)}}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(213),a=n(437),o=n(438);e.exports=function(e){return r(e,o,a)}},function(e,t,n){var r=n(179),a=n(437);e.exports=function(e,t){return r(e,a(e),t)}},function(e,t,n){var r=n(179),a=n(146);e.exports=function(e,t){return r(e,a(e),t)}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){(function(e){var r=n(25),a="object"==typeof t&&t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=o&&o.exports===a?r.Buffer:void 0,s=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(90)(e))},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(44),a=n(144),o=n(626),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=a(e),n=[];for(var s in e)("constructor"!=s||!t&&i.call(e,s))&&n.push(s);return n}},function(e,t,n){var r=n(179),a=n(438);e.exports=function(e,t){return e&&r(t,a(t),e)}},function(e,t,n){var r=n(179),a=n(134);e.exports=function(e,t){return e&&r(t,a(t),e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(50),a=n(468),o=n(686),i=n(683);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:o(i(e))}},function(e,t,n){var r=n(631),a=n(357);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[a(t[n++])];return n&&n==o?e:void 0}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},function(e,t,n){var r=n(44);e.exports=function(e){return e==e&&!r(e)}},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(1)),o=l(n(10)),i=l(n(45)),s=l(n(4)),u=l(n(904));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=function(e){n.state.startTime&&(0,s.default)("2016-01-01 "+e+":00").isBefore(n.state.startTime)?n.setState({value:String(e),invalid:!0}):(n.setState({value:String(e),invalid:!1}),n.props.onChange(e))},n.filterOptions=function(e,t){var n=t.match(/^ *(\d{1,2}?)( *[:.]?(\d{1,2}))? *(pm?|am?)? *$/i);if(t.match(/^ *\d{2} *[:.]? *(pm?|am?)? *$/)&&(n=t.match(/^ *(\d{1,2}) *([:.]?) *()(pm?|am?)? *$/i)),!t)return e;if(!n||Number(n[1])>24||Number(n[3])>59)return[];var r,a="^0?("+Number(n[1])%12+"|"+(Number(n[1])%12+12)+")";if(n[2]?a+=":"+("0"!==n[3].substring(0,1)?"0?":"")+n[3]+"\\d*":a+=":\\d+",Number(n[1])>12&&(r="PM"),n[4]&&(r=n[4].substring(0,1).toUpperCase()+"M"),0===(e=e.filter(function(e){return!!e.value.match(new RegExp(a))&&(!("PM"===r&&Number(e.value.substring(0,2))<12)&&!("AM"===r&&Number(e.value.substring(0,2))>=12))})).length){var o,u=i.default.get("upper_time_moment");Number(n[1])<12&&"PM"===r&&(n[1]=(parseInt(n[1])+12).toString()),24==Number(n[1])&&(n[1]="00"),12==Number(n[1])&&"PM"!==r&&(n[1]="00"),o=(0,s.default)("2016-01-01 "+("00"+n[1]).slice(-2)+":"+("00"+n[3]).slice(-2)+":00"),e.push({value:o.format("HH:mm"),label:o.format(u)}),!r&&Number(n[1])<12&&(n[1]=(parseInt(n[1])+12).toString(),o=(0,s.default)("2016-01-01 "+n[1]+":"+("00"+n[3]).slice(-2)+":00"),e.push({value:o.format("HH:mm"),label:o.format(u)}))}return e},n.state={value:e.defaultValue.format("HH:mm"),startTime:e.startDateTime?(0,s.default)("2016-01-01 "+e.startDateTime.format("HH:mm:ss")):null,invalid:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.defaultValue.format("HH:mm"),startTime:e.startDateTime?(0,s.default)("2016-01-01 "+e.startDateTime.format("HH:mm:ss")):null})}},{key:"getValue",value:function(){return this.state.value}},{key:"getAllOptions",value:function(){for(var e=i.default.get("upper_time_moment"),t=(0,s.default)("2016-01-01 00:00:00"),n=(0,s.default)("2016-01-01 23:59:59"),r=[],a=(0,s.default)("2016-01-01 "+this.state.value),o=!1;t.isBefore(n);)this.state.startTime&&t.isBefore(this.state.startTime)||(!o&&a.isSame(t)&&(o=!0),!o&&a.isBefore(t)&&(r.push({value:a.format("HH:mm"),label:a.format(e)}),o=!0),r.push({value:t.format("HH:mm"),label:t.format(e)})),t.add(this.props.resolution,"minutes");return o||r.push({value:a.format("HH:mm"),label:a.format(e)}),r}},{key:"render",value:function(){i.default.get("upper_time_moment");return a.default.createElement(u.default,{filterOptions:this.filterOptions,options:this.getAllOptions(),name:this.props.name,className:"timepicker "+(this.state.invalid?" invalid":""),onChange:this.onChange,value:this.state.value,noResultText:o.default.translate("core_js","time_picker.invalid_input")})}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(1)),o=i(n(6));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleOnUpdate=function(){n.props.onChange&&n.props.onChange(n.getValue())},n.onChange=function(e,t){var r={};r[t]=e.target.value,n.setState(r,n.handleOnUpdate)};var r=void 0;return(r=e.defaultValue.match(/P(\d+)W/))?n.state={count:+r[1],unit:"weeks"}:(r=e.defaultValue.match(/P(\d+)D/))?n.state={count:+r[1],unit:"days"}:(r=e.defaultValue.match(/PT(\d+)H/))?n.state={count:+r[1],unit:"hours"}:(r=e.defaultValue.match(/PT(\d+)M/))?n.state={count:+r[1],unit:"minutes"}:n.state={count:0,unit:"days"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"getValue",value:function(){return"weeks"===this.state.unit?"P"+this.state.count+"W":"days"===this.state.unit?"P"+this.state.count+"D":"hours"===this.state.unit?"PT"+this.state.count+"H":"minutes"===this.state.unit?"PT"+this.state.count+"M":void 0}},{key:"render",value:function(){var e=this,t=[];return this.props.intervalOptions?this.props.intervalOptions.forEach(function(e){t.push(a.default.createElement(o.default,{message:e.label,section:"core_js",component:"option",value:e.value,key:e.value}))}):(t.push(a.default.createElement(o.default,{message:"interval.days",section:"core_js",component:"option",value:"days",key:"days"})),t.push(a.default.createElement(o.default,{message:"interval.hours",section:"core_js",component:"option",value:"hours",key:"hours"}))),a.default.createElement("span",{className:"fields__interval"},a.default.createElement("input",{type:"number",className:this.props.className||"settings__input",min:"0",step:"1",value:this.state.count,onChange:function(t){return e.onChange(t,"count")}}),a.default.createElement("select",{className:this.props.className||"settings__input",value:this.state.unit,onChange:function(t){return e.onChange(t,"unit")}},t),a.default.createElement("input",{name:this.props.name,type:"hidden",value:this.getValue()}))}}]),t}();t.default=s,s.defaultProps={intervalOptions:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(1)),o=s(n(581)),i=s(n(6));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onHide=function(e){e.preventDefault(),n.setState({visible:!1}),setTimeout(function(){n.props.onHide&&n.props.onHide(n.props.id)},500)},n.state={visible:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"componentDidMount",value:function(){this.scrollTop()}},{key:"componentDidUpdate",value:function(){this.scrollTop()}},{key:"componentWillReceiveProps",value:function(){this.setState({visible:!0})}},{key:"scrollTop",value:function(){var e=document.getElementsByClassName("page__settings__content-right");e&&e[0]&&(e[0].scrollTop=0)}},{key:"renderCloseButton",value:function(){return this.props.dismissable?a.default.createElement("div",null,a.default.createElement("a",{href:"#",onClick:this.onHide},a.default.createElement("i",{className:"sprite-flash-close"}))):null}},{key:"render",value:function(){var e=this.state.visible?a.default.createElement("section",{className:"flash-message__"+this.props.type},a.default.createElement("div",null,a.default.createElement("i",null)),a.default.createElement(i.default,{message:this.props.message,component:"div",params:this.props.params}),this.renderCloseButton()):null;return a.default.createElement(o.default,{transitionName:"flash-message",transitionEnterTimeout:500,transitionLeaveTimeout:300},e)}}]),t}();u.defaultProps={dismissable:!0,params:{}},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n(1)),o=c(n(51)),i=c(n(6)),s=c(n(17)),u=c(n(57)),l=n(43);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.openModal=function(e){n.setState({show:!0})},n.addKeyToDashboard=function(){return(0,l.makeRequest)("POST",s.default.getBaseUrl()+"/user/dashboard/calendars/keys",{keys:[s.default.getAppKey()]}).then(function(e){n.setState({show:!1,isKeyAddedToDashboard:!0}),u.default.flashStatus(e.message,"saved")}).catch(function(e){n.setState({show:!1}),e.response&&e.response.error&&u.default.flashStatus(e.response.error.message,"error")})},n.state={show:!1,isKeyAddedToDashboard:e.isKeyAddedToDashboard||!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"renderAddKeyToDashboardPrompt",value:function(){var e=this;if(this.state.show)return a.default.createElement(o.default,{yesText:"core_js:yes",onYes:this.addKeyToDashboard,noText:"core_js:no",onNo:function(){e.setState({show:!1})},title:"settings_menu.addToDashboard.title"},a.default.createElement(i.default,{message:"settings_menu.addToDashboard.text",params:{dashboard_url:"user/dashboard"},component:"p"}))}},{key:"render",value:function(){return this.state.isKeyAddedToDashboard?null:a.default.createElement("div",null,this.renderAddKeyToDashboardPrompt(),a.default.createElement("a",{id:"add-to-dashboard-btn",onClick:this.openModal},a.default.createElement("i",{className:"sprite-icon-add"})))}}]),t}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(10)),o=l(n(45)),i=n(43),s=l(n(433)),u=l(n(17));function l(e){return e&&e.__esModule?e:{default:e}}var c=a.default.partial("calendar");function d(e,t){var n="",r=encodeURIComponent;n+="mailto:?",n+="subject=",n+=r(c("event.export.reminder")+": ");var a=e.title;n+=r(""!=a?a:c("event.export.event")),n+="&body=",n+=r(c("event.export.what")+": "),n+=r(a+"\n");e.start_dt,e.end_dt;n+=r(c("event.export.when")+": "),n+=r(function(e,t){var n,r=e.start_dt,a=e.end_dt;if(e.all_day)return r.isSame(a,"day")?r.format(o.default.get("day_date_year_moment")):r.isSame(a,"year")?r.format(o.default.get("day_date_moment"))+" "+c("event.export.to")+" "+a.format(o.default.get("day_date_year_moment")):r.format(o.default.get("day_date_year_moment"))+" "+c("event.export.to")+" "+a.format(o.default.get("day_date_year_moment"));n=r.isSame(a,"day")?r.format(o.default.get("day_date_year_moment"))+" "+c("event.export.from")+" "+r.format(o.default.get("time_moment"))+" "+c("event.export.to")+" "+a.format(o.default.get("time_moment")):r.format(o.default.get("day_date_year_time_moment").replace("%time%",o.default.get("time_moment")))+" "+c("event.export.to")+" "+a.format(o.default.get("day_date_year_time_moment").replace("%time%",o.default.get("time_moment")));t.timezone&&(n=n+" ("+c("event.export.timezone")+": "+s.default.getShortString(t.timezone)+")");return n}(e,t)+"\n");var i=e.location;n+=r(c("event.export.where")+": "),n+=r(i+"\n");var u=e.who;n+=r(c("event.export.who")+": "),n+=r(u+"\n");var l=e.subcalendars.map(function(e){return e.name}).join(", ");l&&(n+=r("Calendar: "),n+=r(l+"\n")),n+=r("\n");var d=e.notes;if(null!==d&&d.length>0){d=p(d);var f=1400-n.length;f<d.length?n+=r(d.substring(0,f).replace(/\s+(\S+)?$/,"")+" [...]\n"):n+=r(d)}n+=r("\n---\n"),n+=c("event.export.eventExported")+"\n\n",window.location.href=n}function f(e,t){var n=u.default.getBaseUrl()+"/"+t.appKey+"/events/"+e.id+"/pointer";return t.eventPointer&&void 0===window.calendarStateDefaults?Promise.resolve(document.URL):(0,i.makeRequest)("POST",n).then(function(e){return e.url})}function p(e){var t=e.replace(/\n/gi,"");t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/<h[1-6]>/gi,"")).replace(/<\/h[1-6]>/gi,"\n\n")).replace(/<p>/gi,"")).replace(/<\/p>/gi,"\n\n")).replace(/<br \/>/gi,"\n")).replace(/<\/?strong>/gi," ** ")).replace(/<\/?em>/gi," * ")).replace(/<ul>/gi,"")).replace(/<\/ul>/gi,"\n")).replace(/<ol>/gi,"")).replace(/<\/ol>/gi,"\n")).replace(/<li>/gi,"  * ")).replace(/<\/li>/gi,"\n")).replace(/<a href="mailto:(.+?)".+?<\/a>/gi,"$1")).replace(/<a href="(.+?)".+?<\/a>/gi,"$1")).replace(/<img src="(.+?)".+?>/gi,"$1");var n=document.createElement("div");return t=(t=t.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,"")).replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,""),n.innerHTML=t,t=n.innerText?n.innerText:n.textContent}function h(e){if(e.length>1100){var t=(e=e.substr(0,1099)).lastIndexOf("%");e=e.substr(0,t),e+="..."}return e}var m=[{name:"page",label:"calendar:export.menu.page",icon:"sprite-icon-page"},{name:"facebook",label:"calendar:export.menu.facebook",icon:"sprite-icon-facebook"},{name:"twitter",label:"calendar:export.menu.twitter",icon:"sprite-icon-twitter"},{name:"linkedin",label:"calendar:export.menu.linkedin",icon:"sprite-icon-linkedin"},{name:"xing",label:"calendar:export.menu.xing",icon:"sprite-icon-xing"},{name:"email",label:"calendar:export.menu.email",icon:"sprite-icon-email"},{name:"google",label:"calendar:export.menu.google",icon:"sprite-icon-google-cal"},{name:"outlook",label:"calendar:export.menu.outlook",icon:"sprite-icon-outlook"},{name:"ical",label:"calendar:export.menu.ical",icon:"sprite-icon-apple"},{name:"yahoo",label:"calendar:export.menu.yahoo",icon:"sprite-icon-yahoo"},{name:"other",label:"calendar:export.menu.other",icon:"sprite-icon-other"}],v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"exportTo",value:function(e,t,n){switch(e){case"outlook":case"other":case"ical":!function(e,t){var n="";n+=t.appBaseUrl,t.eventPointer?n+="/event/export/id/"+t.eventPointer:n+="/event/export/event_id/"+e.id+"/key/"+t.appKey,n+="/event.ics",t.timezone&&(n+="?tz="+encodeURIComponent(t.timezone)),window.location.href=n}(t,n);break;case"google":!function(e,t){var n="",r="",a=encodeURIComponent;n+="http://www.google.com/calendar/event?action=TEMPLATE",n+="&sprop=website:www.teamup.com",n+="&text=",n+=a(e.title),n+="&dates=",e.all_day?(n+=e.start_dt.format("YYYYMMDD"),n+="/",n+=e.end_dt.clone().add(12,"hours").startOf("day").format("YYYYMMDD")):(n+=e.start_dt.format("YYYYMMDD\\THHmmss"),n+="/",n+=e.end_dt.format("YYYYMMDD\\THHmmss"),t.timezone&&(n+="&ctz=",n+=a(t.timezone))),n+="&location=",n+=null==e.location?"":a(e.location),n+="&details=";var o=e.who;null!==o&&o.length>0&&(n+=c("event.export.who")+": ",n+=a(o+"\n\n"));var i=e.notes;null!==i&&i.length>0&&(n+=a(i=p(i))),n=h(n),r+=a("\n---\n"),r+=a(c("event.export.eventExported")),window.open(n+r,"_blank")}(t,n);break;case"yahoo":!function(e){var t="",n="",r=encodeURIComponent;t+="http://calendar.yahoo.com/?v=60&view=d&type=20",t+="&title=",t+=r(e.title),e.all_day?(t+="&st=",t+=e.start_dt.format("YYYYMMDD"),t+="&et=",t+=e.end_dt.clone().add(36,"hours").startOf("day").format("YYYYMMDD")):(t+="&st=",t+=e.start_dt.format("YYYYMMDD\\THHmmss"),t+="&et=",t+=e.end_dt.format("YYYYMMDD\\THHmmss")),t+="&in_loc=",t+=r(e.location),t+="&desc=";var a=e.who;""!=a&&(t+=c("event.export.who")+": ",t+=r(a+"\n\n"));var o=e.notes;null!==o&&o.length>0&&(t+=r(o=p(o))),t=h(t),n+=r("\n---\n"),n+=r(c("event.export.eventExported")),window.open(t+n,"_blank")}(t);break;case"email":d(t,n);break;case"twitter":!function(e,t){var n=window.open("","_blank","width=550, height=420");f(e,t).then(function(t){n&&n.location.assign("https://twitter.com/intent/tweet?via=TeamupCalendar&url="+encodeURIComponent(t)+"&text="+encodeURIComponent(e.title))})}(t,n);break;case"facebook":!function(e,t){var n=window.open("","_blank","width=550, height=273");f(e,t).then(function(e){n&&n.location.assign("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e))})}(t,n);break;case"linkedin":!function(e,t){var n=window.open("","_blank","width=550, height=500");f(e,t).then(function(e){n&&n.location.assign("https://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(e))})}(t,n);break;case"xing":!function(e,t){var n=window.open("","_blank","width=550, height=600");f(e,t).then(function(e){n&&n.location.assign("https://www.xing.com/spi/shares/new?url="+encodeURIComponent(e))})}(t,n);break;case"page":!function(e,t){var n=u.default.getBaseUrl()+"/"+t.appKey+"/events/"+e.id+"/pointer";window.open(n,"_blank")}(t,n)}}},{key:"getAvailableServices",value:function(e){return m.filter(function(t){return e.getState().effectivelyEnabledEventSharingServices[t.name]})}}]),e}();t.default=v},function(e,t,n){var r=n(96),a=n(92),o=n(200),i=n(44);e.exports=function(e,t,n){if(!i(n))return!1;var s=typeof t;return!!("number"==s?a(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},function(e,t,n){var r=n(669)();e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(1)),o=s(n(51)),i=s(n(6));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleKeyDown=function(e){38==e.keyCode&&n.selectOption(-1),40==e.keyCode&&n.selectOption(1)},n.handleSelect=function(e){n.setState({reditMode:e.currentTarget.getAttribute("data-type")},function(){n.props.onPick(n.state.reditMode)})},n.handleTab=function(e){return e.shiftKey||e.metaKey?(n.selectOption(-1),!1):"all"!==n.state.reditMode?(n.selectOption(1),!1):void n.setState({reditMode:void 0})},n.handleEnter=function(){n.state.reditMode&&n.props.onPick(n.state.reditMode)},n.state={reditMode:void 0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"componentDidMount",value:function(){document.body.addEventListener("keydown",this.handleKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("keydown",this.handleKeyDown,!1)}},{key:"selectOption",value:function(e){var t,n=["single","future","all"];e<0?this.state.reditMode?"single"!==this.state.reditMode&&(t=n.indexOf(this.state.reditMode)-1):t=2:e>0&&(this.state.reditMode?"all"!==this.state.reditMode&&(t=n.indexOf(this.state.reditMode)+1):t=0),void 0!==t&&this.setState({reditMode:n[t]})}},{key:"render",value:function(){return a.default.createElement(o.default,{title:"calendar:recurrence.range.title",message:"calendar:recurrence.range.headerText",noText:"core_js:cancel",onEnter:this.handleEnter,onNo:this.props.onCancel,onTab:this.handleTab},a.default.createElement("div",{className:"recurrence-edit-modes"},a.default.createElement("a",{className:"recurrence-edit-mode"+("single"==this.state.reditMode?" selected":""),onClick:this.handleSelect,"data-type":"single"},a.default.createElement("i",{className:"sprite-event-rec-single"}),a.default.createElement(i.default,{component:"span",className:"label",message:"calendar:recurrence.range.optionSingleButtonText"}),a.default.createElement(i.default,{component:"p",message:"calendar:recurrence.range.optionSingleDescription"})),a.default.createElement("a",{className:"recurrence-edit-mode"+("future"==this.state.reditMode?" selected":""),onClick:this.handleSelect,"data-type":"future"},a.default.createElement("i",{className:"sprite-event-rec-future"}),a.default.createElement(i.default,{component:"span",className:"label",message:"calendar:recurrence.range.optionFutureButtonText"}),a.default.createElement(i.default,{component:"p",message:"calendar:recurrence.range.optionFutureDescription"})),a.default.createElement("a",{className:"recurrence-edit-mode"+("all"==this.state.reditMode?" selected":""),onClick:this.handleSelect,"data-type":"all"},a.default.createElement("i",{className:"sprite-event-rec-all"}),a.default.createElement(i.default,{component:"span",className:"label",message:"calendar:recurrence.range.optionAllButtonText"}),a.default.createElement(i.default,{component:"p",message:"calendar:recurrence.range.optionAllDescription"}))),!0===this.props.rruleUntilMessage&&a.default.createElement("div",{className:"recurring-nofication-wrapper"},a.default.createElement("h4",null,"Notice"),a.default.createElement("p",null,"Recently a bug was fixed that caused repeating events to end one day earlier than specified. Please verify that this repeating event now ends on the intended date.")))}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(218)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e,t,n){return function(s){function l(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e));return n.isCopy=!1,n.item=void 0,n.ref=null,n.isAborted=!1,n.dragTimeout=null,n.handleMouseDown=function(e){n.initialClientOffset={x:e.clientX,y:e.clientY},n.clientOffset=n.initialClientOffset,n.isAborted=!1,t.canDrag&&!t.canDrag(n.props,n.initialClientOffset)||(e.stopPropagation(),document.addEventListener("mouseup",n.handleMouseUp),document.addEventListener("mousemove",n.handleMouseMove),document.addEventListener("keydown",n.handleKeyDown),document.addEventListener("keyup",n.handleKeyUp),n.dragTimeout=window.setTimeout(function(){n.dragTimeout=null,n.state.isDragging||(n.beginDrag(),n.move())},500))},n.handleMouseUp=function(e){n.state.isDragging&&(e.preventDefault(),e.stopPropagation()),n.isAborted||n.endDrag(),document.removeEventListener("mouseup",n.handleMouseUp),setTimeout(function(){n.setState({isDragging:!1})},0)},n.handleMouseMove=function(e){if(n.clientOffset={x:e.clientX,y:e.clientY},n.isCopy=u?e.altKey:e.ctrlKey,!n.state.isDragging){var t=Math.sqrt(Math.pow(n.clientOffset.x-n.initialClientOffset.x,2)+Math.pow(n.clientOffset.y-n.initialClientOffset.y,2));if(t<8)return;n.beginDrag()}n.move()},n.handleKeyDown=function(e){if(27!==e.keyCode){var t=u?e.altKey:e.ctrlKey;t!==n.isCopy&&(n.isCopy=t,n.state.isDragging&&n.move())}else n.endDrag(!0)},n.handleKeyUp=function(e){var t=u?e.altKey:e.ctrlKey;t!==n.isCopy&&(n.isCopy=t,n.state.isDragging&&n.move())},n.beginDrag=function(){n.setState({isDragging:!0}),n.clearSelection(),document.body.style.cursor="move",document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",document.body.style.msUserSelect="none";var e=n.getMonitorData();n.item=t.beginDrag(n.props,e,n.ref)},n.move=function(){var e=n.getMonitorData(),r=t.drag(n.props,e,n.ref);r&&(n.item=Object.assign(n.item,r)),i.default.updateDrag(e)},n.endDrag=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.dragTimeout&&clearTimeout(n.dragTimeout),document.body.style.cursor="",document.body.style.userSelect="",document.body.style.webkitUserSelect="",document.body.style.msUserSelect="",document.removeEventListener("mousemove",n.handleMouseMove),document.removeEventListener("keydown",n.handleKeyDown),document.removeEventListener("keyup",n.handleKeyUp),n.clearSelection(),n.state.isDragging&&t.endDrag(e,n.props,n.getMonitorData(),n.ref),n.item=void 0,i.default.abortDrag(),n.isAborted=!0},n.setRef=function(e){n.ref=e},n.state={isDragging:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,s),a(l,[{key:"clearSelection",value:function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}},{key:"getMonitorData",value:function(){return{clientOffset:this.clientOffset,initialClientOffset:this.initialClientOffset,dropResult:this.isCopy?"copy":"move",item:this.item,itemType:n}}},{key:"render",value:function(){var t=Object.assign((0,r.default)(this.props),{onMouseDown:this.handleMouseDown,isDragging:this.state.isDragging,ref:this.setRef});return o.default.createElement(e,t)}}]),l}(o.default.Component)};var o=s(n(1)),i=s(n(717));function s(e){return e&&e.__esModule?e:{default:e}}var u=!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)},function(e,t,n){var r=n(691),a=n(688),o=n(180),i=n(50),s=n(678);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?i(e)?a(e[0],e[1]):r(e):s(e)}},function(e,t,n){var r=n(44),a=n(696),o=n(470),i="Expected a function",s=Math.max,u=Math.min;e.exports=function(e,t,n){var l,c,d,f,p,h,m=0,v=!1,y=!1,g=!0;if("function"!=typeof e)throw new TypeError(i);function b(t){var n=l,r=c;return l=c=void 0,m=t,f=e.apply(r,n)}function _(e){var n=e-h;return void 0===h||n>=t||n<0||y&&e-m>=d}function w(){var e=a();if(_(e))return E(e);p=setTimeout(w,function(e){var n=t-(e-h);return y?u(n,d-(e-m)):n}(e))}function E(e){return p=void 0,g&&l?b(e):(l=c=void 0,f)}function k(){var e=a(),n=_(e);if(l=arguments,c=this,h=e,n){if(void 0===p)return function(e){return m=e,p=setTimeout(w,t),v?b(e):f}(h);if(y)return p=setTimeout(w,t),b(h)}return void 0===p&&(p=setTimeout(w,t)),f}return t=o(t)||0,r(n)&&(v=!!n.leading,d=(y="maxWait"in n)?s(o(n.maxWait)||0,t):d,g="trailing"in n?!!n.trailing:g),k.cancel=function(){void 0!==p&&clearTimeout(p),m=0,l=h=c=p=void 0},k.flush=function(){return void 0===p?f:E(a())},k}},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(1)),o=s(n(6)),i=s(n(10));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"renderIframe",value:function(){return a.default.createElement("iframe",{src:"https://app.companycam.com/embed/projects/"+this.props.projectId,frameBorder:"0",width:"100%",height:"300px"})}},{key:"render",value:function(){return!0===this.props.eventPageLayout?a.default.createElement("div",{className:"event__contentbox-primary"},a.default.createElement("div",{className:"event__contentbox-info"},a.default.createElement("label",null,a.default.createElement("i",{className:"sprite-event-companycam"}),i.default.translate("calendar","event.editor.companyCamText"))),this.renderIframe()):a.default.createElement("div",{className:"visual-input company-cam"},a.default.createElement("i",{className:"sprite-event-companycam visual-input-icon"}),a.default.createElement("label",null,this.props.label||a.default.createElement(o.default,{message:"calendar:event.editor.companyCamText"})),a.default.createElement("div",{className:"value"},this.renderIframe()))}}]),t}();t.default=u,u.defaultProps={eventPageLayout:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(1)),o=u(n(6)),i=u(n(51)),s=u(n(448));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleRemove=function(){n.props.eventId?s.default.deleteComment(n.props.comment,n.props.eventId).then(function(){n.props.onSuccess(n.props.comment)}).catch(function(e){var t=void 0;e.responseText?t=JSON.parse(e.responseText):e.response&&(t=e.response),n.setState({error:t.error.message})}):n.props.onSuccess(n.props.comment)},n.state={error:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){var e=this;return a.default.createElement(i.default,{title:"calendar:event.signup.remove_title",yesText:"core_js:remove",yesClassName:"button warning",noText:"core_js:cancel",onYes:this.handleRemove,onNo:function(){e.props.onCancel()},onClose:function(){e.props.onCancel()}},a.default.createElement(o.default,{component:"p",message:"calendar:event.signup.confirm_remove",params:{name:this.props.comment.name||this.props.comment.email}}),this.state.error&&a.default.createElement("p",{className:"error-msg"},a.default.createElement("i",{className:"sprite-icon-alert"}),this.state.error))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=v(n(1)),o=v(n(59)),i=v(n(6)),s=v(n(10)),u=v(n(580)),l=v(n(60)),c=v(n(57)),d=n(199),f=v(n(448)),p=v(n(4)),h=v(n(190)),m=v(n(17));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e){function t(e){y(this,t);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.commentBox=null,n.message=n.props.comment?n.props.comment.message:"",n.handleSubmit=function(e){e.preventDefault();var t=n.getFormValues();if(""!=t.name.trim()||""!=t.email.trim())if(""===t.email.trim()||(0,d.validateEmail)(t.email.trim()))if(!n.message||n.message&&""==n.message.trim())n.setState({error:{message:s.default.translate("calendar","event.comments.form.message_empty"),field:"message"}});else{t.message=n.message.trim();var r={id:0,name:t.name.trim(),email:t.email.trim(),email_hash:"0",message:t.message,creation_dt:(0,p.default)().format("YYYY-MM-DD HH:mm"),update_dt:null,updater:""};n.props.comment&&n.props.comment.id&&(r.id=n.props.comment.id),n.props.eventId||n.props.eventPointer?f.default.storeComment(r,n.props.eventId,n.props.eventPointer).then(function(e){c.default.flashStatus(e.message,"success"),n.props.onSuccess(e.data)}).catch(function(e){var t=void 0;e.responseText?t=JSON.parse(e.responseText):e.response&&(t=e.response),n.setState({error:{message:t.error.message,field:null}})}):n.props.onSuccess(r)}else n.setState({error:{field:"email",message:s.default.translate("calendar","event.comments.form.please_enter_valid_email")}});else n.setState({error:{message:s.default.translate("calendar","event.comments.form.name_empty"),field:""==t.name.trim()?"name":"email"}})},n.state={error:{message:null,field:null}},n}return b(t,e),r(t,[{key:"render",value:function(){var e=this,t=this.props.comment||null,n=this.state.error,r=JSON.parse(h.default.read(m.default.getAppKey()+"-comments"))||null,l=r?r.name:"",c=r?r.email:"",d="";return t&&(l=t.name,c=t.email,d=t.message),a.default.createElement("div",{className:"event__comments-form"},a.default.createElement("form",{className:"form",ref:"comments-form",onSubmit:this.handleSubmit},a.default.createElement("div",{className:"name-row"},a.default.createElement("div",{className:"visual-input"+("name"==n.field?" has-error":"")},a.default.createElement(o.default,{type:"text",className:"event-signup__input",name:"name",ref:"name",placeholder:s.default.translate("calendar","event.comments.form.name_placeholder"),defaultValue:l,autoComplete:"off",autoFocus:!0})),a.default.createElement("div",{className:"visual-input"+("email"==n.field?" has-error":"")},a.default.createElement(o.default,{type:"email",className:"event-signup__input",name:"email",ref:"email",placeholder:s.default.translate("calendar","event.comments.form.email_placeholder"),defaultValue:c,autoComplete:"off"}))),a.default.createElement("div",{className:"message-row"},a.default.createElement(u.default,{id:"event__comments-message-area",ref:function(t){e.commentBox=t},defaultValue:d,editorType:"comment",onChange:function(t){e.message=t},autoFocus:!1})),a.default.createElement("div",{className:"buttons-row"},a.default.createElement(i.default,{component:"button",type:"submit",className:"button primary",message:"core_js:save"}),a.default.createElement("button",{type:"button",onClick:function(){e.props.onCancel()},className:"button ghost"},a.default.createElement("i",{className:"sprite-event-close"})),n.message&&a.default.createElement("p",{className:"error-message"},a.default.createElement("i",{className:"sprite-icon-alert"}),n.message))))}}]),t}(l.default.makeFormValues(function(e){function t(){return y(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,a["default"].Component),t}()));t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=m(n(1)),o=m(n(659)),i=m(n(658)),s=m(n(6)),u=m(n(10)),l=m(n(4)),c=m(n(57)),d=m(n(448)),f=m(n(190)),p=m(n(17)),h=m(n(449));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){function t(){return v(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,a["default"].Component),r(t,[{key:"renderButtons",value:function(){var e=this;return a.default.createElement("span",null,"- ",a.default.createElement("a",{onClick:function(t){e.props.editHandler(t,e.props.comment)},className:"soft-button"},u.default.translate("core_js","edit")),"- ",a.default.createElement("a",{onClick:function(t){e.props.removeHandler(t,e.props.comment)},className:"soft-button"},u.default.translate("core_js","delete")))}},{key:"renderCreationDate",value:function(){(0,l.default)();var e=this.props.comment,t=(0,l.default)(e.creation_dt),n=null;return e.update_dt&&""!=e.updater&&(n=a.default.createElement(h.default,{date:(0,l.default)(e.update_dt),template:u.default.translate("calendar","event.comments.updated_by",{update_dt:"%time_ago%",updater_name:e.updater})})),a.default.createElement("p",null,a.default.createElement(h.default,{date:t}),n)}},{key:"render",value:function(){var e=this,t=this.props.comment,n=!(!this.props.editable||null===this.props.editingComment)&&this.props.editingComment;return!1!==n&&n.id==t.id?a.default.createElement(o.default,{eventId:this.props.eventId,eventPointer:this.props.eventPointer,comment:n,onSuccess:function(t){e.props.successHandler(t)},onCancel:this.props.cancelHandler}):a.default.createElement("div",{className:"flex-comment"},a.default.createElement("div",{className:"flex-row"},a.default.createElement("div",{className:"raw-item icon"},a.default.createElement("img",{src:"https://www.gravatar.com/avatar/"+t.email_hash+"?s=30&d=blank",alt:""})),a.default.createElement("div",{className:"flex-item name"},a.default.createElement("span",{title:t.name||t.email},t.name||t.email))),a.default.createElement("div",{className:"flex-row wysiwyg visual-input"},a.default.createElement("div",{className:"preview readonly",dangerouslySetInnerHTML:{__html:t.message}})),a.default.createElement("div",{className:"flex-row creation-dt"},this.renderCreationDate(),this.props.editable&&this.renderButtons()))}}]),t}(),_=-1,w=function(e){function t(e){v(this,t);var n=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleEdit=function(e,t){e.preventDefault(),n.props.editable&&n.props.eventId&&n.setState({showAddCommentForm:!1,editingComment:t})},n.handleRemove=function(e,t){e.preventDefault(),!n.state.showRemovePrompt&&n.props.editable&&n.props.eventId&&n.setState({showRemovePrompt:!0,deletingComment:t})},n.onUpdate=function(e){var t=[];if(n.props.displayComments){var r=(t=n.state.comments).findIndex(function(t){return t&&t.id==e.id});-1==r?(t.unshift(e),e.id||(e.id=_--),f.default.write(p.default.getAppKey()+"-comments",JSON.stringify({name:e.name,email:e.email}))):t[r]=e}n.setState({comments:t,editingComment:null,showAddCommentForm:!1}),n.props.updateHandler(t)},n.onRemove=function(e){if("boolean"!=typeof n.state.comments){var t=n.state.comments,r=t.findIndex(function(t){return t&&t.id==e.id});-1!==r&&t.splice(r,1),n.setState({comments:t,deletingComment:null,showRemovePrompt:!1}),n.props.updateHandler(t)}},n.state={comments:n.props.comments,showAddCommentForm:!1,editingComment:null,showRemovePrompt:!1,deletingComment:null,error:null},n}return g(t,a["default"].Component),r(t,[{key:"componentWillReceiveProps",value:function(e){e.comments!==this.state.comments&&this.setState({comments:e.comments})}},{key:"handleAdd",value:function(e){e.preventDefault(),this.setState({showAddCommentForm:!this.state.showAddCommentForm,editingComment:null})}},{key:"renderCommentForm",value:function(){var e=this;return this.state.showAddCommentForm?a.default.createElement(o.default,{eventId:this.props.eventId,eventPointer:this.props.eventPointer,comment:this.state.editingComment,onSuccess:this.onUpdate,onCancel:function(){e.setState({showAddCommentForm:!1})}}):null}},{key:"flushBufferedWrites",value:function(e){var t=this.state.comments.map(function(t){d.default.storeComment(t,e,void 0).catch(function(e){var t=void 0;e.responseText?t=JSON.parse(e.responseText):e.response&&(t=e.response),c.default.alert("",t.error.message)})});return Promise.all(t)}},{key:"renderRemovePrompt",value:function(){var e=this;return this.state.showRemovePrompt&&this.state.deletingComment?a.default.createElement(i.default,{eventId:this.props.eventId,comment:this.state.deletingComment,onSuccess:function(t){e.onRemove(e.state.deletingComment)},onCancel:function(){e.setState({showRemovePrompt:!1})}}):null}},{key:"render",value:function(){var e=this;if(!this.props.displayComments)return null;var t=this.props.comments&&this.props.comments.length>0?this.props.comments:[],n=this.props.enabled&&(this.props.editable||!this.props.editable&&"all_users"===this.props.visibility),r=this.state.showAddCommentForm?"core_js:cancel":"calendar:event.comments.add";return a.default.createElement("div",{className:this.props.containerClass},this.props.iconClass&&a.default.createElement("i",{className:this.props.iconClass}),a.default.createElement(s.default,{component:"label",message:"calendar:event.comments.list.count",params:{count:t.length}}),n&&a.default.createElement(s.default,{message:r,component:"a",onClick:function(t){e.handleAdd(t)},className:"soft-button"}),this.renderCommentForm(),this.renderRemovePrompt(),a.default.createElement("div",{className:"flex-container"},t.map(function(t){return a.default.createElement(b,{editable:e.props.editable,editingComment:e.state.editingComment,eventId:e.props.eventId,eventPointer:e.props.eventPointer,comment:t,editHandler:e.handleEdit,removeHandler:e.handleRemove,successHandler:function(t){e.onUpdate(t)},cancelHandler:function(){e.setState({editingComment:null})},timezone:e.props.timezone,key:t.id})})))}}]),t}();w.defaultProps={comments:[],editable:!1,eventId:null,eventPointer:null,enabled:!1,iconClass:"sprite-icon-event-flag"},t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(1)),o=l(n(6)),i=l(n(51)),s=l(n(60)),u=l(n(450));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(e){c(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleRemove=function(){var e=n.props.signup;n.props.eventId?u.default.deleteSignup(e,n.props.eventId).then(function(){n.props.onSuccess(e)}).catch(function(e){var t=void 0;e.responseText?t=JSON.parse(e.responseText):e.response&&(t=e.response),n.setState({error:t.error.message})}):n.props.onSuccess(e)},n.state={error:null},n}return f(t,e),r(t,[{key:"render",value:function(){var e=this;return a.default.createElement(i.default,{title:"calendar:event.signup.remove_title",yesText:"core_js:remove",yesClassName:"button warning",noText:"core_js:cancel",onYes:this.handleRemove,onNo:function(){return e.props.onCancel()},onClose:function(){return e.props.onCancel()}},a.default.createElement(o.default,{component:"p",message:"calendar:event.signup.confirm_remove",params:{name:this.props.signup.name||this.props.signup.email}}),this.state.error&&a.default.createElement("p",{className:"error-msg"},a.default.createElement("i",{className:"sprite-icon-alert"}),this.state.error))}}]),t}(s.default.makeFormValues(function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,a["default"].Component),t}()));t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n(1)),o=p(n(59)),i=p(n(6)),s=p(n(10)),u=n(199),l=p(n(51)),c=p(n(450)),d=p(n(57)),f=p(n(4));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){var t=n.state;t[e.target.name]=e.target.value,n.setState(t)},n.handleSave=function(){var e=void 0;""!=(e={id:0,name:n.state.name.trim(),email:n.state.email.trim(),email_hash:"0",creation_dt:(0,f.default)().format("YYYY-MM-DD HH:mm"),update_dt:null}).name||""!=e.email?""===e.email||(0,u.validateEmail)(e.email)?(n.props.signup&&n.props.signup.id&&(e.id=n.props.signup.id),n.props.eventId||n.props.eventPointer?c.default.storeSignup(e,n.props.eventId,n.props.eventPointer).then(function(e){d.default.flashStatus(e.message,"success"),n.props.onSuccess(e.data)}).catch(function(e){var t=void 0;e.responseText?t=JSON.parse(e.responseText):e.response&&(t=e.response),n.setState({error:t.error.message})}):n.props.onSuccess(e)):n.setState({error:s.default.translate("calendar","event.comments.form.please_enter_valid_email")}):n.setState({error:s.default.translate("calendar","event.signup.form.not_empty")})},n.state={name:n.props.signup?n.props.signup.name:"",email:n.props.signup?n.props.signup.email:"",error:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){var e=this,t=this.props.signup?this.props.signup.name:"",n=this.props.signup?this.props.signup.email:"";return a.default.createElement(l.default,{className:"eventsignup-form",title:"calendar:event.signup.form.title",yesText:"core_js:save",yesClassName:"button secondary",onYes:this.handleSave,onClose:function(){e.props.onCancel()},onEnter:this.handleSave},a.default.createElement("div",{className:"visual-input"},a.default.createElement(i.default,{message:"calendar:event.signup.form.name",component:"label"}),a.default.createElement("div",{className:"value"},a.default.createElement(o.default,{type:"text",className:"event-signup__input",name:"name",defaultValue:t,onChange:this.handleChange,autoComplete:"off",autoFocus:!0}))),a.default.createElement("div",{className:"visual-input"},a.default.createElement(i.default,{message:"calendar:event.signup.form.email",component:"label"}),a.default.createElement("div",{className:"value"},a.default.createElement(o.default,{type:"email",className:"event-signup__input",name:"email",defaultValue:n,onChange:this.handleChange}))),this.state.error&&a.default.createElement("p",{className:"error-msg"},a.default.createElement("i",{className:"sprite-icon-alert"}),this.state.error))}}]),t}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=v(n(1)),o=v(n(32)),i=v(n(662)),s=v(n(661)),u=v(n(6)),l=v(n(10)),c=v(n(4)),d=v(n(51)),f=v(n(57)),p=v(n(450)),h=v(n(45)),m=v(n(449));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e){function t(){return y(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,a["default"].Component),r(t,[{key:"render",value:function(){var e=this,t=h.default.get("box_layout.multi_day_month_start_moment"),n=h.default.get("time_moment");return this.props.deadline?a.default.createElement("div",null,a.default.createElement("button",{className:this.props.className,onClick:function(t){e.props.handler(t)}},a.default.createElement("i",{className:this.props.icon}),this.props.label),a.default.createElement("span",{className:"soft-button deadline-text"},a.default.createElement("i",{className:"sprite-event-time"}),l.default.translate("calendar","event.signup.deadline")," ",this.props.deadline.format(t)+" "+this.props.deadline.format(n))):a.default.createElement("button",{className:this.props.className,onClick:function(t){e.props.handler(t)}},a.default.createElement("i",{className:this.props.icon}),this.props.label)}}]),t}(),w=function(e){function t(){return y(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,a["default"].Component),r(t,[{key:"renderName",value:function(){var e=this,t=this.props.signup;if(this.props.editable){var n=[];return""!==t.name&&n.push(t.name),""!==t.email&&n.push(t.email),a.default.createElement("a",{onClick:function(t){e.props.editHandler(t,e.props.signup)},className:"name"},n.join(", "))}return a.default.createElement("span",{key:this.props.signup.id,className:"name"},t.name||t.email)}},{key:"render",value:function(){var e=this,t=((0,c.default)(),(0,c.default)(this.props.signup.creation_dt)),n="https://www.gravatar.com/avatar/"+this.props.signup.email_hash+"?s=20&d=blank";return a.default.createElement("div",{className:"flex-row"},a.default.createElement("div",{className:"raw-item icon"},a.default.createElement("img",{src:n,alt:""})),a.default.createElement("div",{className:"flex-item"},this.renderName(),"  ",a.default.createElement(m.default,{className:"creation-dt",date:t}),this.props.editable?a.default.createElement("span",null,", "):null,this.props.editable?a.default.createElement("a",{className:"soft-button",onClick:function(t){e.props.removeHandler(t,e.props.signup)}},l.default.translate("core_js","remove")):null))}}]),t}(),E=-1,k=function(e){function t(e){y(this,t);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.loadPromise=null,n.handleAdd=function(e){e.preventDefault(),n.props.allowSignup?n.props.signups&&n.props.signups.length>=n.props.limit&&n.props.limit?n.setState({showErrorPrompt:l.default.translate("calendar","event.signup.limit_hit")}):n.state.showEditForm||n.setState({showEditForm:!0,editingSignup:null}):n.setState({showErrorPrompt:l.default.translate("calendar","event.signup.expired")})},n.handleEdit=function(e,t){e.preventDefault(),!n.state.showEditForm&&n.props.editable&&n.setState({showEditForm:!0,editingSignup:t})},n.handleRemove=function(e,t){e.preventDefault(),!n.state.showRemovePrompt&&n.props.editable&&n.setState({showRemovePrompt:!0,deletingComment:t})},n.onRemove=function(e){var t=n.state.signups,r=t.findIndex(function(t){return t&&t.id==e.id});-1!==r&&t.splice(r,1),n.setState({signups:t,deletingComment:null,showRemovePrompt:!1}),n.props.updateHandler(t)},n.handleExport=function(e){e.preventDefault(),n.props.eventId&&(window.location=window.APP_BASE_URL+"/"+window.APP_KEY+"/events/"+n.props.eventId+"/export-signups")},n.state={signups:n.props.signups,showEditForm:!1,editingSignup:null,showErrorPrompt:!1,showRemovePrompt:!1,deletingComment:null,error:null},n}return b(t,a["default"].Component),r(t,[{key:"componentDidMount",value:function(){this.props.enabled&&this.renderSignupButtons()}},{key:"componentWillReceiveProps",value:function(e){e.enabled&&this.renderSignupButtons(),e.signups!==this.state.signups&&this.setState({signups:e.signups})}},{key:"componentWillUnmount",value:function(){this.loadPromise&&(this.loadPromise.cancel(),this.loadPromise=null)}},{key:"renderSignupButtons",value:function(){var e=this,t=this.props.signupButtons,n=void 0,r=function(){var r=t[n];o.default.render(a.default.createElement(_,{className:r.className,label:r.label,icon:r.icon,handler:function(t){r.onClick&&r.onClick(t),e.handleAdd(t)},deadline:"event-signup-btn"===r.id?e.props.deadline:null}),document.getElementById(r.id))};for(n=0;n<t.length;n++)r()}},{key:"renderEditForm",value:function(){var e=this;return this.state.showEditForm?a.default.createElement(i.default,{eventId:this.props.eventId,eventPointer:this.props.eventPointer,signup:this.state.editingSignup,onSuccess:function(t){e.onUpdate(t)},onCancel:function(){e.setState({showEditForm:!1})}}):null}},{key:"onUpdate",value:function(e){var t=void 0;if(this.props.displaySignups){var n=(t=this.state.signups).findIndex(function(t){return t.id==e.id});-1==n?(t.unshift(e),e.id||(e.id=E--)):t[n]=e}else t=[];this.setState({signups:t,showEditForm:!1,editingSignup:null,showErrorPrompt:!1}),this.props.updateHandler(t)}},{key:"flushBufferedWrites",value:function(e){var t=this.state.signups.map(function(t){p.default.storeSignup(t,e,void 0).catch(function(e){var t=void 0;e.responseText?t=JSON.parse(e.responseText):e.response&&(t=e.response),f.default.alert("",t.error.message)})});return Promise.all(t)}},{key:"renderErrorPrompt",value:function(){var e=this;return!1!==this.state.showErrorPrompt?a.default.createElement(d.default,{title:"calendar:event.options.signup",message:this.state.showErrorPrompt,yesText:"core_js:ok",yesClassName:"button primary",onYes:function(){e.setState({showErrorPrompt:!1})},onClose:function(){e.setState({showErrorPrompt:!1})},onEnter:function(){e.setState({showErrorPrompt:!1})}}):null}},{key:"renderRemovePrompt",value:function(){var e=this;return this.props.editable&&this.state.showRemovePrompt&&this.state.deletingComment?a.default.createElement(s.default,{eventId:this.props.eventId,signup:this.state.deletingComment,onSuccess:this.onRemove,onCancel:function(){e.setState({showRemovePrompt:!1})}}):null}},{key:"renderDeadline",value:function(){if(this.props.deadline){var e=h.default.get("box_layout.multi_day_month_start_moment"),t=h.default.get("time_moment"),n=this.props.deadline;return a.default.createElement("span",{className:"soft-button"},"("+l.default.translate("calendar","event.signup.list.deadline")+": "+n.format(e)+" "+n.format(t)+")")}}},{key:"render",value:function(){var e=this;if(!this.props.displaySignups)return a.default.createElement("div",{className:this.props.containerClass},this.renderEditForm(),this.renderErrorPrompt());var t=this.props.signups&&this.props.signups.length>0?this.props.signups:[],n=this.props.eventId||this.props.eventPointer;return a.default.createElement("div",{className:this.props.containerClass},this.props.iconClass&&a.default.createElement("i",{className:this.props.iconClass}),this.props.limit?a.default.createElement(u.default,{component:"label",message:"calendar:event.signup.list.count_out_of",params:{count:t.length,limit:this.props.limit}}):a.default.createElement(u.default,{component:"label",message:"calendar:event.signup.list.count",params:{count:t.length}}),this.props.editable&&n&&t.length>0&&a.default.createElement("a",{onClick:this.handleExport,className:"soft-button"},l.default.translate("calendar","event.signup.list.export")),this.props.allowSignup&&a.default.createElement("a",{onClick:this.handleAdd,className:"soft-button"},l.default.translate("calendar","event.signup.form.button")),this.renderDeadline(),this.renderEditForm(),this.renderErrorPrompt(),this.renderRemovePrompt(),a.default.createElement("div",{className:"flex-container"},t.map(function(t){return a.default.createElement(w,{editable:e.props.editable,signup:t,key:"signup"+t.id,editHandler:e.handleEdit,removeHandler:e.handleRemove})})))}}]),t}();k.defaultProps={signups:[],editable:!1,enabled:!1,allowSignup:!1,displaySignups:!1,iconClass:"sprite-icon-event-flag",signupButtons:[]},t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(1)),o=i(n(6));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){var e=this.props.htmlFor?"label":"p";return a.default.createElement(o.default,{section:this.props.section,message:this.props.message,component:e,htmlFor:this.props.htmlFor,className:"page__settings__content-title"})}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(1)),o=l(n(6)),i=n(94),s=l(n(427)),u=l(n(643));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"renderCloseButton",value:function(){return this.props.closeButton||null}},{key:"renderStatus",value:function(){if(this.props.showStatus){var e=this.props.status;if(!e)return this.props.defaultStatus;var t=this.props.statusTypeMap[e.type];return a.default.createElement("a",{href:"#",onClick:function(t){t.preventDefault(),e&&e.onClick&&e.onClick()},className:t.buttonClass},a.default.createElement("i",{className:t.buttonIcon})," ",e.message)}}},{key:"render",value:function(){var e=this.props.sidebarCollapsed?"":" settings__navicon-open";return this.props.showStatus||(e+=" modal__navicon"),a.default.createElement("div",{className:"page__settings"},a.default.createElement("section",{className:"page__settings__header"},a.default.createElement("div",{className:"page__settings__header-wrapper"},this.renderCloseButton(),a.default.createElement("section",{className:"page__settings__header-left"},this.renderStatus()),a.default.createElement("section",{className:"page__settings__header-right"},a.default.createElement(o.default,{message:this.props.title,component:"h1",className:"page__settings-title"}),this.props.showStatus&&window.loggedUser&&[a.default.createElement("div",{id:"add-to-dashboard",key:"add-to-dashboard"},a.default.createElement(i.TranslationContext,{section:"core_js"},a.default.createElement(u.default,{isKeyAddedToDashboard:window.loggedUser.isKeyAddedToDashboard})))],this.props.showStatus&&a.default.createElement("div",{id:"user-avatar",key:"user-avatar"},a.default.createElement(i.TranslationContext,{section:"core_js"},a.default.createElement(s.default,{user:window.loggedUser||null}))),a.default.createElement("a",{href:"#",onClick:this.props.toggleSidebar,className:"settings__navicon"+e},a.default.createElement("i",{className:"sprite-navicon"}))))),this.props.children)}}]),t}();t.default=c,c.defaultProps={showStatus:!1,defaultStatus:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(1)),o=i(n(913));function i(e){return e&&e.__esModule?e:{default:e}}var s={},u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initializeDraggable=function(e){if(e){var t=e.getBoundingClientRect();n.props.dragId&&(s[n.props.dragId+"_pos"]||(s[n.props.dragId+"_pos"]={left:t.left,top:t.top}),s[n.props.dragId]&&(s[n.props.dragId+"_pos"].left+=s[n.props.dragId].x,s[n.props.dragId+"_pos"].top+=s[n.props.dragId].y,delete s[n.props.dragId]),t=s[n.props.dragId+"_pos"]),n.setState({style:{margin:0,left:t.left,top:t.top,touchAction:"auto"}})}else n.setState({style:void 0})},n.handleDragStop=function(e,t){n.props.dragId&&(s[n.props.dragId]={x:t.x,y:t.y})},n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){return!0===this.props.draggable?a.default.createElement("div",{className:"modal"},a.default.createElement(o.default,{handle:this.props.draggableHandle,offsetParent:document.body,cancel:this.props.dragCancel,bounds:"body",onStop:this.handleDragStop},a.default.createElement("div",{className:"modal__window "+(this.props.className||""),style:this.state.style,ref:this.initializeDraggable},this.props.children))):a.default.createElement("div",{className:"modal"},a.default.createElement("div",{className:"modal__window "+(this.props.className||"")},this.props.children))}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(1)),o=l(n(581)),i=l(n(6)),s=l(n(51)),u=l(n(429));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateStoreState=function(e){n.setState(n.computeState(e))},n.discard=function(){n.setState({visible:!1})},n.handleAction=function(){n.state.params.action_handler(n.state.params)},n.state=n.computeState(u.default.getState()),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"componentDidMount",value:function(){u.default.listen(this.updateStoreState)}},{key:"componentWillUnmount",value:function(){u.default.unlisten(this.updateStoreState)}},{key:"computeState",value:function(e){return null===e.status?{params:void 0,message:void 0,type:null,visible:!1}:{params:e.status.params,message:e.status.message,type:e.status.type,visible:!0}}},{key:"renderCloseButton",value:function(){return a.default.createElement("i",{onClick:this.discard,className:"sprite-icon-close close-btn"})}},{key:"renderExtra",value:function(){return this.state.params.action_handler?a.default.createElement(i.default,{component:"a",message:this.state.params.action_message,onClick:this.handleAction}):""}},{key:"render",value:function(){var e=null,t="";if(this.state.visible){if("alert"==this.state.type)return a.default.createElement(s.default,{title:this.state.params.title,message:this.state.message,yesText:"core_js:ok",yesClassName:"button primary",onYes:this.discard,onClose:this.discard,onEnter:this.discard});t="visible "+this.state.type,e=a.default.createElement("div",null,a.default.createElement(i.default,{message:this.state.message||"",params:this.state.params,component:"span"})," ",this.renderExtra(),this.renderCloseButton())}return a.default.createElement("div",{id:"react-app-msg",className:t},a.default.createElement(o.default,{transitionName:"flash-message",transitionEnterTimeout:500,transitionLeaveTimeout:300},e))}}]),t}();t.default=c},function(e,t){var n=Math.ceil,r=Math.max;e.exports=function(e,t,a,o){for(var i=-1,s=r(n((t-e)/(a||1)),0),u=Array(s);s--;)u[o?s:++i]=e,e+=a;return u}},function(e,t,n){var r=n(668),a=n(645),o=n(606);e.exports=function(e){return function(t,n,i){return i&&"number"!=typeof i&&a(t,n,i)&&(n=i=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),i=void 0===i?t<n?1:-1:o(i),r(t,n,i,e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(27)),o=i(n(73));function i(e){return e&&e.__esModule?e:{default:e}}var s=a.default.createActions(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["default"]),r(t,[{key:"init",value:function(e){this.dispatch(e.clone().startOf("day"))}},{key:"move",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.dispatch({toDate:e.clone().startOf("day"),event:t})}},{key:"setSubcalendarId",value:function(e){this.dispatch(e)}},{key:"clear",value:function(){this.dispatch()}}]),t}());t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=b(n(218)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=b(n(1)),i=b(n(219)),s=b(n(56)),u=b(n(182)),l=b(n(143)),c=b(n(932)),d=b(n(719)),f=b(n(931)),p=b(n(928)),h=b(n(4)),m=b(n(45)),v=b(n(10)),y=b(n(715)),g=b(n(608));function b(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleCalendarStateUpdate=function(e){n.props.allowTogglingShowAllEvents&&e.views.showAllEvents!==n.state.showAllEvents&&n.setState({showAllEvents:e.views.showAllEvents})},n.state={events:i.default.getState().events,leftGutterWidth:e.leftGutterWidth||"20px",showAllEvents:!n.props.allowTogglingShowAllEvents||s.default.getState().views.showAllEvents},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["default"].Component),a(t,[{key:"componentWillReceiveProps",value:function(e){var t=!e.allowTogglingShowAllEvents||s.default.getState().views.showAllEvents;t!==this.state.showAllEvents&&this.setState({showAllEvents:t})}},{key:"componentDidMount",value:function(){s.default.listen(this.handleCalendarStateUpdate)}},{key:"componentWillUnmount",value:function(){s.default.unlisten(this.handleCalendarStateUpdate)}},{key:"renderHeader",value:function(){var e=[],t=void 0,n="year"===this.props.view,r=this.props.visibleStartDate.clone();n&&(r=c.default.getStartDateByMonth(this.props.currentDate,this.props.weekStart,0));for(var a=0;a<this.props.cellsCount;a++)t=r.format("ddd"),e.push({label:n?t.substr(0,1):t}),r.add(36,"hours").startOf("day"),this.props.hideWeekend&&6==r.day()&&(r=r.add(60,"hours").startOf("day"));var i=void 0;return this.props.allowTogglingShowAllEvents&&(i=o.default.createElement(g.default,{id:"generic-tooltips",message:this.state.showAllEvents?"calendar.showStaticGrid":"calendar.showAllEvents",className:"gutter-expander",component:"span"},o.default.createElement("i",{onClick:function(){u.default.toggleShowAllEvents()},className:this.state.showAllEvents?"sprite-arrow-collapse":"sprite-arrow-collapse-open"}))),o.default.createElement(d.default,{cells:e,leftGutterWidth:this.state.leftGutterWidth,gutterExtra:i})}},{key:"renderRows",value:function(){var e,n=[],a=this.props.visibleStartDate.clone().startOf("day"),i=void 0,s=void 0,u="year"===this.props.view,d=this.props.hideWeekend,p=u?"month":"week";e=l.default.groupEventsByDate(this.props.events,this.props.visibleStartDate,this.props.visibleEndDate,p,this.props.oneToManyLayoutStripe,!0);for(var h=0;h<this.props.rowsCount;h++){u&&(a=c.default.getStartDateByMonth(this.props.currentDate,this.props.weekStart,h)),d&&6==a.day()&&a.add(60,"hours").startOf("day"),i=a.clone().add(24*(this.props.cellsCount-1)+12,"hours").startOf("day"),s=[];var m=u?c.default.getVisibleStartDateByMonth(this.props.currentDate,h).format("YYYY-MM-DD"):a.clone().startOf(p).format("YYYY-MM-DD");if(s=s.concat(e[m]||[]),this.props.isHeaderView){var v=i.clone().startOf(p).format("YYYY-MM-DD");m!==v&&function(){var t=[];s.forEach(function(e){t.push(e.id)}),(e[v]||[]).forEach(function(e){-1===t.indexOf(e.id)&&s.push(e)})}()}s=(0,r.default)(s).sort(l.default.sortEventsForDay);var y=(u?c.default.getVisibleStartDateByMonth(this.props.currentDate,h):a).clone(),g=(u?c.default.getVisibleEndDateByMonth(this.props.currentDate,h):i).clone().endOf("day"),b=t.prepareRowEventGrid(s,this.props.view,this.props.hideWeekend,y,g,a);n.push(o.default.createElement("div",{className:"row",key:h,style:this.state.showAllEvents?f.default.calculateHeight(b):{}},this.renderRowSidebar(h,a,y,g),o.default.createElement(f.default,{view:this.props.view,readOnly:this.props.readOnly,events:b,currentDate:this.props.currentDate,rowStartDate:a.clone(),rowEndDate:i.clone().endOf("day"),rowVisibleStartDate:y,rowVisibleEndDate:g,visibleStartDate:this.props.visibleStartDate,cellsCount:this.props.cellsCount,hideWeekend:this.props.hideWeekend,leftGutterWidth:this.state.leftGutterWidth,oneToManyLayoutStripe:this.props.oneToManyLayoutStripe,showDateHeader:!0,isPdf:this.props.isPdf,formatPdfEco:this.props.formatPdfEco}))),u||(a=i.add(36,"hours").startOf("day"))}return o.default.createElement("div",{className:this.props.rowsContainerClassName+" "+this.props.rowsContainerClassName+"-"+this.props.rowsCount},n)}},{key:"renderSchedulerRow",value:function(){var e=this,n=this.props.subcalendars.map(function(n){return t.prepareRowEventGrid((0,r.default)(e.props.events[n.id]||[]).sort(l.default.sortEventsForDay),e.props.view,e.props.hideWeekend,e.props.currentDate,e.props.currentDate,e.props.currentDate)[0]}),a=this.props.subcalendars.map(function(t,r){return o.default.createElement(f.default,{key:"subcal-row-"+r,view:e.props.view,readOnly:e.props.readOnly,events:[n[r]],currentDate:e.props.currentDate,rowStartDate:e.props.currentDate,rowEndDate:e.props.currentDate,rowVisibleStartDate:e.props.currentDate,rowVisibleEndDate:e.props.currentDate,visibleStartDate:e.props.visibleStartDate,cellsCount:1,hideWeekend:e.props.hideWeekend,leftGutterWidth:e.state.leftGutterWidth,oneToManyLayoutStripe:e.props.oneToManyLayoutStripe,showDateHeader:0===r,dateHeaderData:{subcalendar_ids:t.id},subcalendarId:t.id,isPdf:e.props.isPdf,formatPdfEco:e.props.formatPdfEco})});return o.default.createElement("div",{className:this.props.rowsContainerClassName+" "+this.props.rowsContainerClassName+"-"+this.props.rowsCount},o.default.createElement("div",{className:"row",style:f.default.calculateHeight(n)},this.renderRowSidebar(0,this.props.currentDate,this.props.currentDate,this.props.currentDate),a))}},{key:"renderRowSidebar",value:function(e,t,n,r){return o.default.createElement(p.default,{text:"year"===this.props.view?this.props.currentDate.clone().add(e,"months").format("MMMM"):(this.props.isHeaderView?v.default.translate("calendar","week_short"):"")+t.format("w"),width:this.state.leftGutterWidth,startDate:n.clone(),endDate:r.clone(),switchesTo:"year"==this.props.view?"month":"week"})}},{key:"render",value:function(){var e="";return this.props.isHeaderView||(e=this.state.showAllEvents?"show-all-events":"show-static-grid"),o.default.createElement("div",{className:"grid-view "+e},this.props.showHeader&&this.renderHeader(),o.default.createElement("div",{className:this.props.bodyClassName},"scheduler"===this.props.view?this.renderSchedulerRow():this.renderRows()),0==this.props.readOnly&&o.default.createElement(y.default,{type:"grid"}))}}],[{key:"findEmptyRowIndex",value:function(e,t){for(var n=e[t]||[],r=n.length,a=0;a<r;a++)if(!n[a])return a;return r}},{key:"eventsStartOnDate",value:function(e,t,n){var r=h.default.max(e.start_dt,n);return t.isSame(r,"day")}},{key:"prepareRowEventGrid",value:function(e,n,a,o,i,s){var u=this,l=s.clone(),c=[],d=0;for(i=i.clone().endOf("day"),e=(0,r.default)(e);l.isSameOrBefore(i);)c[d]=c[d]||[],e=e.filter(function(e){if(!t.eventsStartOnDate(e,l,o))return!0;var n={event:e,grid:{spanRight:e.end_dt.isAfter(i),spanLeft:e.start_dt.isBefore(o)}},r=h.default.max(e.start_dt,o),a=h.default.min(e.end_dt,i),s=m.default.diffDays(r,a),f=t.findEmptyRowIndex(c,d);if(c[d][f]=n,s>0&&l.isBefore(i)){var p=l.clone(),v=d+1;for(c[v]=c[v]||[],c[v][f]={event:e,isSpan:!0};--s&&(p.add(36,"hours").startOf("day"),!p.isAfter(a));)++v>36&&(v=0,f=u.findEmptyRowIndex(c,v)),c[v]=c[v]||[],c[v][f]={event:e,isSpan:!0}}return!1}),d++,l.add(36,"hours").startOf("day"),a&&6==l.day()&&(l=l.add(60,"hours").startOf("day"));return c}}]),t}();_.defaultProps={hideWeekend:!1,showWeekLinks:!0,showWeekNumbers:!0,bodyClassName:"body",rowsContainerClassName:"rows",isPdf:!1,formatPdfEco:!1},t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=y(n(1)),o=y(n(45)),i=y(n(6)),s=y(n(722)),u=y(n(608)),l=n(176),c=y(n(10)),d=y(n(721)),f=y(n(143)),p=y(n(434)),h=y(n(18)),m=y(n(56)),v=y(n(720));function y(e){return e&&e.__esModule?e:{default:e}}var g=c.default.partial("calendar"),b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setAllowTooltip=function(e){n.setState({allowTooltip:e})},n.openEditor=function(){h.default.openEventEditor({event_id:n.props.event.id})},n.getContextMenuData=function(){return{event:n.props.event,component:n}},n.getTooltip=function(){return{component:a.default.createElement(s.default,{event:n.props.event,subcalendars:f.default.getAllSubcalendars(n.props.event)})}},n.state={allowTooltip:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"renderDetails",value:function(){var e=this;if(this.props.showDetails)return m.default.getState().fields.definitions.map(function(t){if(!(t.hidden||"builtin_location"===t.type||"builtin_who"===t.type&&t.type_data.shown_in_title)){var n="agenda-custom-"+t.id,r=e.props.event.custom||{};if("builtin_notes"===t.type){if(!e.props.event.notes||!e.props.event.notes.length)return;return a.default.createElement("dd",{key:n,className:"agenda-event__notes",dangerouslySetInnerHTML:{__html:e.props.event.notes}})}if("builtin_who"===t.type){if(!e.props.event.who)return;return a.default.createElement("dd",{key:n,className:"agenda-event__custom"},a.default.createElement("span",{className:"agenda-event__custom-label"},a.default.createElement("strong",null,t.name||g("event.editor.whoLabelText"))),e.props.event.who)}if("single_line_text"===t.type){var o=r[t.id];if(!o||!o.length)return;return a.default.createElement("dd",{key:n,className:"agenda-event__custom"},a.default.createElement("span",{className:"agenda-event__custom-label"},a.default.createElement("strong",null,t.name)),o)}if("choices"===t.type){var i=r[t.id];if(!i||!i.length)return;var s=p.default.listToMap(t.type_data.options);return a.default.createElement("dd",{key:n,className:"agenda-event__custom"},a.default.createElement("span",{className:"agenda-event__custom-label"},a.default.createElement("strong",null,t.name)),i.map(function(e){var t=s[e],r=v.default.getColor(t.color);if(t)return a.default.createElement("span",{key:n+"-choice-"+e,className:"agenda-event__custom-choice",style:{color:"#"+r.value}},t.name)}))}"builtin_signup"!==t.type&&"builtin_comments"!==t.type&&"builtin_company_cam"!==t.type&&console.log("Unrecognised type "+t.type+" for custom field "+t.id)}})}},{key:"getEventTimesMarkupForAgenda",value:function(e){var t=e.start_dt.clone().startOf("day"),n=e.end_dt.clone().startOf("day"),r=c.default.translate("calendar","agenda_view.allDayText"),i=o.default.get("time_moment");if(!this.props.currentViewDate)throw new Error("currentViewDate must be passed in if showDayColumn is not set to true");var s=this.props.currentViewDate.clone().startOf("day");return e.all_day?t.isSame(s,"day")?n.isSame(s,"day")?a.default.createElement("dt",{className:"agenda-event__time-period"},r):a.default.createElement("dt",{className:"agenda-event__time-period"},r+" "):n.isSame(s,"day")?a.default.createElement("dt",{className:"agenda-event__time-period"}," "+r):a.default.createElement("dt",{className:"agenda-event__time-period"},(e.start_dt.isBefore(s)?" ":"")+r+(s.isBefore(e.end_dt)?" ":"")):t.isSame(s,"day")?n.isSame(s,"day")?a.default.createElement("dt",{className:"agenda-event__time-period"},e.start_dt.format(i)+" - "+e.end_dt.format(i)):a.default.createElement("dt",{className:"agenda-event__time-period"},e.start_dt.format(i)+""):n.isSame(s,"day")?a.default.createElement("dt",{className:"agenda-event__time-period"}," "+e.end_dt.format(i)):a.default.createElement("dt",{className:"agenda-event__time-period"},(e.start_dt.isBefore(s)?" ":"")+r+(s.isBefore(e.end_dt)?" ":""))}},{key:"getEventTimesMarkupForList",value:function(e){var t=e.start_dt.clone().startOf("day"),n=e.end_dt.clone().startOf("day"),r="",i="-",s="",u="";return e.all_day?t.isSame(n,"day")?(r=c.default.translate("calendar","agenda_view.allDayText"),i=""):(r=c.default.translate("calendar","agenda_view.allDayText"),s=n.format(o.default.get("short_day_date_moment"))):t.isSame(n,"day")?(r=e.start_dt.format(o.default.get("time_moment")),s=e.end_dt.format(o.default.get("time_moment"))):(r=e.start_dt.format(o.default.get("time_moment")),s=n.format(o.default.get("short_day_date_moment")),u=e.end_dt.format(o.default.get("time_moment"))),a.default.createElement("dt",{className:"agenda-event__time-period"},a.default.createElement("span",null,r+" "+i+" "),a.default.createElement("span",null,s+" "+u))}},{key:"renderDayColumn",value:function(){var e="";if(this.props.showDayColumn)return this.props.isFirstEventInDay&&(e=this.props.event.start_dt.format(o.default.get("short_day_date_moment"))),a.default.createElement("dt",{className:"agenda-event__time-period daycol-spotter"},e)}},{key:"renderIcons",value:function(){var e=[];return this.props.event.readonly&&!this.props.readOnly&&e.push(a.default.createElement("i",{title:g("event.tooltip.readonly"),key:"readonly",className:"sprite-icon-lock"})),this.props.event.rrule.length>0&&e.push(a.default.createElement("i",{title:g("agenda_view.recurringTooltip"),key:"rrule",className:"sprite-icon-repeat"})),this.props.event.subcalendar_ids.length>1&&(e.push(a.default.createElement("i",{title:g("event.tooltip.multipleCals"),key:"onetomany",className:"sprite-icon-onetomany"})),e.push(this.renderOneToManyDots())),a.default.createElement("span",{className:"agenda-title__icons"},e)}},{key:"renderOneToManyDots",value:function(){if(this.props.oneToManyLayoutStripe&&this.props.event.subcalendar_ids.length>1)return a.default.createElement("div",{key:"one2manyDots",className:"event_evt-gradient-ct",style:d.default.makeVerticalStripes(this.props.event,9,5)})}},{key:"render",value:function(){var e=m.default.getState().fields.definitions,t=e.find(function(e){return"builtin_location"===e.id}).hidden;e.find(function(e){return"builtin_who"===e.id}).hidden;return a.default.createElement("div",{className:"agenda-events-list__event"+(this.props.isFirstEventInDay?" first-day-event":"")},this.renderDayColumn(),this.props.isAgendaView?this.getEventTimesMarkupForAgenda(this.props.event):this.getEventTimesMarkupForList(this.props.event),a.default.createElement("div",{className:"agenda-event-text-wrapper"},a.default.createElement("dd",{className:"agenda-event__title "},a.default.createElement(l.ContextMenuTrigger,{id:"eventContextMenuReact",collect:this.getContextMenuData,holdToDisplay:-1},a.default.createElement(u.default,{component:"a",id:"event-tooltip",onClick:this.openEditor,collect:this.getTooltip,className:"event-title-link cal-text-"+f.default.getVisibleSubcalendars(this.props.event)[0].color+" teamup-event-id-"+this.props.event.id,disabled:!this.state.allowTooltip},this.props.event.title.length>0?this.props.event.title:a.default.createElement(i.default,{message:"calendar.defaultEventTitleText"}),this.renderIcons())),!t&&this.props.event.location?" - "+this.props.event.location:"",f.default.renderEventTitleExtras(this.props.event,!0)),this.renderDetails()))}}]),t}();b.defaultProps={showDayColumn:!1},t.default=b},function(e,t,n){var r;r={},e.exports=r,r.simpleFilter=function(e,t){return t.filter(function(t){return r.test(e,t)})},r.test=function(e,t){return null!==r.match(e,t)},r.match=function(e,t,n){n=n||{};var r,a=0,o=[],i=t.length,s=0,u=0,l=n.pre||"",c=n.post||"",d=n.caseSensitive&&t||t.toLowerCase();e=n.caseSensitive&&e||e.toLowerCase();for(var f=0;f<i;f++)r=t[f],d[f]===e[a]?(r=l+r+c,a+=1,u+=1+u):u=0,s+=u,o[o.length]=r;return a===e.length?(s=d===e?1/0:s,{rendered:o.join(""),score:s}):null},r.filter=function(e,t,n){return t&&0!==t.length?"string"!=typeof e?t:(n=n||{},t.reduce(function(t,a,o,i){var s=a;n.extract&&(s=n.extract(a));var u=r.match(e,s,n);return null!=u&&(t[t.length]={string:u.rendered,score:u.score,index:o,original:a}),t},[]).sort(function(e,t){var n=t.score-e.score;return n||e.index-t.index})):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(1)),o=u(n(6)),i=u(n(190)),s=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.toggleSection=function(){if(n.setState({collapsed:!n.state.collapsed},function(){requestAnimationFrame(function(){var e=document.createEvent("Event");e.initEvent("calendarSidebarCollapseExpand",!1,!1),e.sidebarClassName=n.props.className,window.dispatchEvent(e)})}),n.props.stateId){var e=n.getLocalStorageData();e[n.props.stateId]=!n.state.collapsed,i.default.write(s.default.getAppKey()+"-sidebar",JSON.stringify(e))}};var r=void 0!==n.props.collapsed?n.props.collapsed:n.props.defaultCollapsed;if(void 0===n.props.collapsed&&n.props.stateId){var a=n.getLocalStorageData();void 0!==a[n.props.stateId]&&(r=a[n.props.stateId])}return n.state={collapsed:r},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"getLocalStorageData",value:function(){return JSON.parse(i.default.read(s.default.getAppKey()+"-sidebar"))||{}}},{key:"render",value:function(){return a.default.createElement("div",{className:"sidebar-section "+this.props.className+" "+(this.state.collapsed?"collapsed":"")},a.default.createElement("div",{className:"sidebar-header"},this.props.headerExtra,a.default.createElement(o.default,{message:this.props.title,className:"header-title"}),a.default.createElement("a",{className:"header-toggle",onClick:this.toggleSection},a.default.createElement("i",{className:this.state.collapsed?"sprite-arrow-down":"sprite-arrow-up"}))),a.default.createElement("div",{className:"sidebar-section-content"},this.props.children))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ref=document.querySelector(".calendar-body-container")}return r(e,[{key:"show",value:function(){this.ref.className+=" is-loading"}},{key:"hide",value:function(){this.ref.className=this.ref.className.replace(/ is-loading/g,"")}}]),e}())},function(e,t,n){var r=n(632);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(677),a=n(676),o=n(468),i=n(357);e.exports=function(e){return o(e)?r(i(e)):a(e)}},function(e,t,n){var r=n(631),a=n(210),o=n(50),i=n(200),s=n(139),u=n(357);e.exports=function(e,t,n){for(var l=-1,c=(t=r(t,e)).length,d=!1;++l<c;){var f=u(t[l]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++l!=c?d:!!(c=null==e?0:e.length)&&s(c)&&i(f,c)&&(o(e)||a(e))}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(680),a=n(679);e.exports=function(e,t){return null!=e&&a(e,t,r)}},function(e,t,n){var r=n(81),a=n(181),o=n(50),i=n(208),s=1/0,u=r?r.prototype:void 0,l=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(i(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},function(e,t,n){var r=n(682);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(140),a="Expected a function";function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(a);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var i=e.apply(this,r);return n.cache=o.set(a,i)||o,i};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},function(e,t,n){var r=n(684),a=500;e.exports=function(e){var t=r(e,function(e){return n.size===a&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=n(685)(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,function(e,n,r,o){t.push(r?o.replace(a,"$1"):n||e)}),t});e.exports=o},function(e,t,n){var r=n(632);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},function(e,t,n){var r=n(204),a=n(687),o=n(681),i=n(468),s=n(634),u=n(633),l=n(357),c=1,d=2;e.exports=function(e,t){return i(e)&&s(t)?u(l(e),t):function(n){var i=a(n,e);return void 0===i&&i===t?o(n,e):r(t,i,c|d)}}},function(e,t,n){var r=n(634),a=n(134);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var o=t[n],i=e[o];t[n]=[o,i,r(i)]}return t}},function(e,t,n){var r=n(188),a=n(204),o=1,i=2;e.exports=function(e,t,n,s){var u=n.length,l=u,c=!s;if(null==e)return!l;for(e=Object(e);u--;){var d=n[u];if(c&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++u<l;){var f=(d=n[u])[0],p=e[f],h=d[1];if(c&&d[2]){if(void 0===p&&!(f in e))return!1}else{var m=new r;if(s)var v=s(p,h,f,e,t,m);if(!(void 0===v?a(h,p,o|i,s,m):v))return!1}}return!0}},function(e,t,n){var r=n(690),a=n(689),o=n(633);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r;
/**
 * @preserve jquery-param (c) 2015 KNOWLEDGECODE | MIT
 */
/**
 * @preserve jquery-param (c) 2015 KNOWLEDGECODE | MIT
 */
!function(n){"use strict";var a=function(e){var t=[],n=function(e,n){n=null===(n="function"==typeof n?n():n)?"":void 0===n?"":n,t[t.length]=encodeURIComponent(e)+"="+encodeURIComponent(n)},r=function(e,a){var o,i,s;if(e)if(Array.isArray(a))for(o=0,i=a.length;o<i;o++)r(e+"["+("object"==typeof a[o]&&a[o]?o:"")+"]",a[o]);else if("[object Object]"===String(a))for(s in a)r(e+"["+s+"]",a[s]);else n(e,a);else if(Array.isArray(a))for(o=0,i=a.length;o<i;o++)n(a[o].name,a[o].value);else for(s in a)r(s,a[s]);return t};return r("",e).join("&")};"object"==typeof e&&"object"==typeof e.exports?e.exports=a:void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(43),o=s(n(17)),i=s(n(692));function s(e){return e&&e.__esModule?e:{default:e}}var u=o.default.getBaseUrl()+"/"+o.default.getAppKey(),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"fetchSubscriptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.makeRequest)("GET",u+"/subscriptions/list?"+(0,i.default)(e))}},{key:"fetchEditableSubscription",value:function(e,t,n){return(0,a.makeRequest)("GET",u+"/subscriptions/"+e+"/"+t+"/"+n)}},{key:"createSubscription",value:function(e){return(0,a.makeRequest)("POST",u+"/subscriptions",e)}},{key:"updateSubscription",value:function(e,t){var n=this;if(e.recipient.toLowerCase()!==t.recipient.toLowerCase()){var r=this.createSubscription(e);return r.then(function(e){n.deleteSubscription(t.type,t.id,t.key_id)}),r}return(0,a.makeRequest)("PUT",u+"/subscriptions/"+e.id+"/"+t.key_id,e)}},{key:"activateSubscription",value:function(e){var t={type:e.type,active:1};return(0,a.makeRequest)("PATCH",u+"/subscriptions/"+e.id+"/"+e.key_id,t)}},{key:"deactivateSubscription",value:function(e){var t={type:e.type,active:0};return(0,a.makeRequest)("PATCH",u+"/subscriptions/"+e.id+"/"+e.key_id,t)}},{key:"deleteSubscription",value:function(e,t,n){return(0,a.makeRequest)("DELETE",u+"/subscriptions/"+e+"/"+t+"/"+n)}},{key:"countSubscriptions",value:function(){return(0,a.makeRequest)("GET",u+"/subscriptions/count")}}]),e}();t.default=new l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(17),i=(r=o)&&r.__esModule?r:{default:r},s=n(43);var u=i.default.getBaseUrl()+"/"+i.default.getAppKey(),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"createKey",value:function(e){return(0,s.makeRequest)("POST",u+"/keys",e)}},{key:"refresh",value:function(){return(0,s.makeRequest)("GET",u+"/keys")}},{key:"updateKey",value:function(e){return(0,s.makeRequest)("PATCH",u+"/keys/"+e.id,e)}},{key:"activateKey",value:function(e){return(0,s.makeRequest)("PATCH",u+"/keys/"+e.id,{active:!0})}},{key:"deactivateKey",value:function(e){return(0,s.makeRequest)("PATCH",u+"/keys/"+e.id,{active:!1})}},{key:"deleteKey",value:function(e){return(0,s.makeRequest)("DELETE",u+"/keys/"+e.id)}},{key:"sendInvitation",value:function(e){return(0,s.makeRequest)("GET",u+"/keys/"+e.id+"/send-invitation")}}]),e}();t.default=new l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(17),i=(r=o)&&r.__esModule?r:{default:r},s=n(43);var u=i.default.getBaseUrl()+"/"+i.default.getAppKey(),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"updateResources",value:function(){return(0,s.makeRequest)("GET",u+"/subcalendars?includeInactive=1")}},{key:"activateResource",value:function(e){return(0,s.makeRequest)("PATCH",u+"/subcalendars/"+e.id,{active:1})}},{key:"deactivateResource",value:function(e){return(0,s.makeRequest)("PATCH",u+"/subcalendars/"+e.id,{active:0})}},{key:"enableResourceOverlap",value:function(e){return(0,s.makeRequest)("PATCH",u+"/subcalendars/"+e.id,{overlap:1})}},{key:"disableResourceOverlap",value:function(e){return(0,s.makeRequest)("PATCH",u+"/subcalendars/"+e.id,{overlap:0})}},{key:"deleteResource",value:function(e){return(0,s.makeRequest)("DELETE",u+"/subcalendars/"+e.id)}},{key:"createResource",value:function(e){var t={name:e.name,color:e.color,overlap:e.overlap,active:e.active,type:e.type};return window.location.pathname.match("icalendar-feed")&&(t.feed_url=e.feed_url,t.polling_interval=e.polling_interval,t.overlap=!0,t.type=1),(0,s.makeRequest)("POST",u+"/subcalendars",t)}},{key:"updateResource",value:function(e){var t={name:e.name,color:e.color,overlap:e.overlap,active:e.active,type:e.type,link_permissions:e.link_permissions};return 1==e.type&&(t.feed_url=e.feed_url||e.attributes.feed_url,t.polling_interval=e.polling_interval||e.attributes.polling_interval,t.overlap=!0),(0,s.makeRequest)("PUT",u+"/subcalendars/"+e.id,t)}}]),e}();t.default=new l},function(e,t,n){var r=n(25);e.exports=function(){return r.Date.now()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n(1)),o=d(n(10)),i=d(n(45)),s=d(n(190)),u=d(n(189)),l=d(n(6)),c=d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.ref=null,n.handleOuterClick=function(e){n.handleClose()},n.handleNewsClicked=function(){n.setSeenDate(),window.ga&&window.ga("send","event","calendar","news_ticker_click")},n.handleOpen=function(e){e.preventDefault(),n.setSeenDate(),n.setState({isOpen:!n.state.isOpen}),window.ga&&window.ga("send","event","calendar","news_ticker")},n.handleClose=function(){n.state.isOpen&&n.setState({isOpen:!1})};var r=s.default.read("news_seen_date")||0;0===r&&(r=n.setSeenDate());var a=[],o=(new Date).getTime()-7776e6;return e.news.forEach(function(e){e.date>r&&e.date>o&&a.push(e.id)}),n.state={actualNews:a,isOpen:!1,showHasNews:a.length>0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"setSeenDate",value:function(){var e=(new Date).getTime();return s.default.write("news_seen_date",e.toString()),this.setState({showHasNews:!1}),e}},{key:"render",value:function(){var e=this,t=this.props.news.map(function(t){var n=-1!==e.state.actualNews.indexOf(t.id);return a.default.createElement("li",{className:"news-item"+(n?" is-new":""),key:t.id},a.default.createElement("div",{className:n?"icon sprite-icon-news-on":"icon sprite-icon-news-off"}),a.default.createElement("div",{className:"text"},a.default.createElement("a",{href:t.href,target:"_blank",onClick:e.handleNewsClicked},n&&a.default.createElement("span",{className:"new-label"},"NEW!"),t.text),a.default.createElement("span",null,(0,c.default)(parseInt(t.date,10)).format(i.default.get("date_year_moment")))))});return a.default.createElement("div",{className:"news-ticker-content",ref:function(t){e.ref=t}},a.default.createElement("a",{onClick:this.handleOpen,href:"http://blog.teamup.com/category/news/",className:"news_button"+(this.state.showHasNews?" sprite-icon-info-on":" sprite-icon-info-off"),title:o.default.translate("core_js","header.news_button")}),a.default.createElement("ul",{className:"news"+(this.state.isOpen?" visible":"")},t,a.default.createElement("li",{className:"social"},a.default.createElement("a",{href:"http://blog.teamup.com/news/",target:"_blank"},a.default.createElement("i",{className:"icon-offset-normal sprite-icon-popup-teamup"}),"More news"),a.default.createElement("a",{href:"https://twitter.com/teamupcalendar",target:"_blank"},a.default.createElement("i",{className:"icon-offset-normal sprite-icon-popup-twitter"}),"Twitter"),a.default.createElement("a",{href:"https://www.facebook.com/TeamupCalendar/?rc=p",target:"_blank"},a.default.createElement("i",{className:"icon-offset-normal sprite-icon-popup-facebook"}),"Facebook")),a.default.createElement(l.default,{component:"li",className:"close-button",message:"news_ticker.close",onClick:this.handleClose})))}}]),t}();t.default=(0,u.default)(f)},,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(17),i=(r=o)&&r.__esModule?r:{default:r},s=n(43);var u=i.default.getBaseUrl()+"/"+i.default.getAppKey(),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"updateDefaultSubscriptions",value:function(e){return(0,s.makeRequest)("GET",u+"/reminders/default"+(e?"/"+e:""))}},{key:"saveDefaultSubscriptions",value:function(e,t){return(0,s.makeRequest)("PUT",u+"/reminders/default"+(e?"/"+e:""),t)}},{key:"saveEventSubscriptions",value:function(e,t){return(0,s.makeRequest)("PUT",u+"/events/"+e+"/reminder-subscriptions",t)}}]),e}();t.default=new l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(27)),o=l(n(57)),i=l(n(10)),s=l(n(73)),u=l(n(711));function l(e){return e&&e.__esModule?e:{default:e}}var c=i.default.partial("settings"),d=a.default.createActions(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["default"]),r(t,[{key:"actionFailed",value:function(e){return o.default.flashStatus(c("preferences:reminders.status_failure"),"error"),Promise.reject(e)}},{key:"saveDefaultSubscriptions",value:function(e,t){return this.dispatch({resId:e,reminders:t}),o.default.flashStatus(c("preferences:reminders.status_saving"),"saving"),u.default.saveDefaultSubscriptions(e,t).then(function(e){d.defaultSubscriptionsSaved(e)}).catch(this.actions.actionFailed)}},{key:"defaultSubscriptionsSaved",value:function(e){return this.dispatch(e),o.default.flashStatus(c("preferences:reminders.status_saved"),"success"),Promise.resolve(e)}},{key:"updateReminders",value:function(e){return u.default.updateDefaultSubscriptions(e).then(function(e){d.defaultSubscriptionsUpdated(e)}).catch(this.actions.actionFailed)}},{key:"defaultSubscriptionsUpdated",value:function(e){return this.dispatch(e),Promise.resolve(e)}}]),t}());t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(27)),o=s(n(76)),i=s(n(712));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=void 0,r=[];return(n=window.preferences&&null!==window.preferences.reminders?window.preferences.reminders.map(e.formatReminder):[]).forEach(function(e){r[e.res_id]||(r[e.res_id]=[]),r[e.res_id].push(e)}),e.state={allReminders:n,remindersPerResource:r},e.bindActions({handleDefaultSubscriptionsSaved:i.default.defaultSubscriptionsSaved,handleRemindersUpdated:i.default.defaultSubscriptionsUpdated}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["default"]),r(t,[{key:"formatReminder",value:function(e){return e.all_day="1"==e.all_day,e}},{key:"updateReminders",value:function(e){var t=this.state.allReminders,n=this.state.remindersPerResource,r=void 0;e.resId&&(n[e.resId]||(n[e.resId]=[]),n[e.resId]=e.reminders),e.reminders.forEach(function(e){(r=t.findIndex(function(t){return parseInt(t.id)===parseInt(e.id)}))&&(t[r]=e)}),this.state={allReminders:t,remindersPerResource:n}}},{key:"handleDefaultSubscriptionsSaved",value:function(e){this.updateReminders(e)}},{key:"handleRemindersUpdated",value:function(e){this.updateReminders(e)}}]),t}();t.default=a.default.createStore(u,"ReminderStore")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(1)),o=s(n(671)),i=s(n(922));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.checkForAllDayHeight=function(){var e=document.querySelector(".grid-view .row");if(e&&e.style.minHeight){var t=document.querySelector(".calendar-body-content"),r=parseInt(e.style.minHeight,10)>t.offsetHeight/2;if(r!==n.state.scrollAllDayGrid&&(n.setState({scrollAllDayGrid:r}),r)){var a=document.querySelector(".week-content");a&&(a.scrollTop=0)}}},n.state={scrollAllDayGrid:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.checkForAllDayHeight,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.checkForAllDayHeight,!0)}},{key:"renderHeader",value:function(e){if(!this.state.scrollAllDayGrid||this.props.header)return a.default.createElement("div",{className:"week-header"},this.props.header,!this.state.scrollAllDayGrid&&e)}},{key:"render",value:function(){window.requestAnimationFrame(this.checkForAllDayHeight);var e="week-view"+(0==this.props.allDayEvents.length?" week-header-empty":""),t=a.default.createElement(o.default,{view:this.props.currentView,readOnly:this.props.readOnly,events:this.props.allDayEvents,currentDate:this.props.currentDate,visibleStartDate:this.props.visibleStartDate,visibleEndDate:this.props.visibleEndDate,viewStartDate:this.props.viewStartDate,viewEndDate:this.props.viewEndDate,rowsCount:1,cellsCount:this.props.cellsCount,subcalendars:this.props.subcalendars,weekStart:this.props.weekStart,hideWeekend:this.props.hideWeekend,oneToManyLayoutStripe:this.props.oneToManyLayoutStripe,showHeader:!1,isHeaderView:!0,leftGutterWidth:"49px",isPdf:this.props.isPdf,formatPdfEco:this.props.formatPdfEco});return a.default.createElement("div",{className:e},this.renderHeader(t),a.default.createElement("div",{className:"week-content"},this.state.scrollAllDayGrid&&t,a.default.createElement(i.default,{view:this.props.currentView,readOnly:this.props.readOnly,currentDate:this.props.currentDate,events:this.props.hourlyEvents,startHour:this.props.startHour,endHour:this.props.endHour,subcalendars:this.props.subcalendars,grid:this.props.grid,hourIncrement:60,viewStartDate:this.props.viewStartDate,viewEndDate:this.props.viewEndDate,oneToManyLayoutStripe:this.props.oneToManyLayoutStripe,formatPdfEco:this.props.formatPdfEco})))}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(218)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(1)),i=d(n(582)),s=d(n(927)),u=d(n(926)),l=d(n(925)),c=d(n(924));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateDragState=function(e){n.setState((0,r.default)(e))},n.state=(0,r.default)(c.default.getState()),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["default"].Component),a(t,[{key:"componentDidMount",value:function(){c.default.listen(this.updateDragState)}},{key:"componentWillUnmount",value:function(){c.default.unlisten(this.updateDragState)}},{key:"render",value:function(){if(!this.state.isDragging)return null;var e=this.state.monitor,t=e.item,n=e.itemType,r=(e.initialClientOffset,e.clientOffset),a=e.dropResult;switch(n){case i.default.EVENT_DRAG_TIME_HANDLE:case i.default.EVENT:return"time"===this.props.type?o.default.createElement(s.default,{item:t,itemType:n}):o.default.createElement(u.default,{item:t,clientOffset:r,dropResult:a});case i.default.CELL:if("grid"===this.props.type)return o.default.createElement(l.default,{clientOffset:r,item:t,type:"grid"});break;case i.default.TIME_CELL:return"time"===this.props.type?o.default.createElement(s.default,{item:t,itemType:n}):o.default.createElement(l.default,{clientOffset:r,item:t,type:"time"})}return null}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(27)),o=u(n(670)),i=u(n(76)),s=u(n(45));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={},e.handleMove=function(t){var n=t.toDate,r=t.event;if(r)e.state.startDate=n,e.state.endDate=n.clone().add(24*s.default.diffDays(r.start_dt,r.end_dt)+12,"hours").startOf("day");else if(n.isBefore(e.state.dragStartDate)){if(e.state.startDate.isSame(n))return!1;e.state.startDate=n,e.state.endDate=e.state.dragStartDate}else{if(e.state.endDate&&e.state.endDate.isSame(n)&&e.state.dragStartDate&&e.state.dragStartDate.isSame(e.state.startDate))return!1;e.state.startDate=e.state.dragStartDate,e.state.endDate=n}},e.handleSetSubcalendarId=function(t){e.state.subcalendarId=t},e.bindActions({handleInit:o.default.init,handleMove:o.default.move,handleSetSubcalendarId:o.default.setSubcalendarId,handleClear:o.default.clear}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["default"]),r(t,[{key:"handleInit",value:function(e){this.state.dragStartDate=e,this.state.startDate=e,this.state.endDate=e}},{key:"handleClear",value:function(){this.state.startDate=void 0,this.state.endDate=void 0,this.state.dragStartDate=void 0,this.state.subcalendarId=void 0}}]),t}();t.default=a.default.createStore(l,"CellDragStore")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(27)),o=i(n(73));function i(e){return e&&e.__esModule?e:{default:e}}var s=a.default.createActions(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["default"]),r(t,[{key:"updateDrag",value:function(e){this.dispatch(e)}},{key:"abortDrag",value:function(){this.dispatch()}}]),t}());t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=w(n(435)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=w(n(1)),i=w(n(10)),s=w(n(45)),u=w(n(143)),l=n(176),c=w(n(722)),d=w(n(608)),f=w(n(721)),p=w(n(216)),h=w(n(582)),m=w(n(930)),v=w(n(670)),y=w(n(648)),g=n(607),b=w(n(4)),_=w(n(18));function w(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.eventRef="",n.getContextMenuData=function(){return{event:n.props.event.event,component:n}},n.openEditor=function(){_.default.openEventEditor({event_id:n.props.event.event.id})},n.renderTooltip=function(){return{component:o.default.createElement(c.default,{event:n.props.event.event,subcalendars:u.default.getAllSubcalendars(n.props.event.event)})}},n.setAllowTooltip=function(e){n.setState({allowTooltip:e})},n.state={allowTooltip:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["default"].Component),a(t,[{key:"renderStartTime",value:function(){var e=this.props.event,t=e.timegrid&&e.timegrid.date?e.timegrid.date:e.event.start_dt,n="time_moment";return 0==t.minutes()&&(n="short_time_moment"),e.event.all_day||"year"===this.props.view?"":o.default.createElement("span",null,t.format(s.default.get(n)))}},{key:"renderReadOnlyFlagMarkup",value:function(){if(this.props.event.event.readonly&&!this.props.readOnly){var e=this.props.formatPdfEco?"sprite-icon-lock":"sprite-icon-lock-white";return o.default.createElement("i",{className:e,title:i.default.translate("calendar","event.tooltip.readonly")}," ")}}},{key:"renderRecurrenceFlagMarkup",value:function(){if(""!==this.props.event.event.rrule){var e=this.props.formatPdfEco?"sprite-icon-repeat":"sprite-icon-repeat-white";return o.default.createElement("i",{className:e,title:i.default.translate("calendar","agenda_view.recurringTooltip")}," ")}}},{key:"renderMultipleCalendarsFlagMarkup",value:function(){if(this.props.event.event.subcalendar_ids&&this.props.event.event.subcalendar_ids.length>1){var e=this.props.formatPdfEco?"sprite-icon-onetomany":"sprite-icon-onetomany-white";return o.default.createElement("i",{className:e,title:i.default.translate("calendar","event.tooltip.multipleCals")}," ")}}},{key:"computeClassName",value:function(){var e=this.props.event,t="event-block cal-bg-"+e.event.subcalendars[0].color+" teamup-event-id-"+e.event.id;return(e.readonly||this.props.readOnly)&&(t+=" event-readonly"),e.grid&&(t+=e.grid.spanLeft?e.grid.spanRight?" ev-spanboth":" ev-spanleft":e.grid.spanRight?" ev-spanright":""),t}},{key:"renderDragHandle",value:function(){return!this.props.event.event.readonly&&(this.props.resizable?o.default.createElement(m.default,{event:this.props.event}):void 0)}},{key:"render",value:function(){var e=this,t="",n={},r=this.props.style,a={},i={};if(this.props.oneToManyLayoutStripe&&this.props.event.event.subcalendar_ids.length>1){var s="year"===this.props.view?8:30;i=f.default.makeObliqueStripes(this.props.event.event,s,"scheduler"===this.props.view)}return"grid"===this.props.eventType?(n={className:"event",style:r},t=this.computeClassName(),a=i):n={className:"event "+this.computeClassName(),style:Object.assign(r,i)},o.default.createElement("div",{ref:function(t){e.eventRef=t},style:n.style,className:n.className,onMouseDown:this.props.onMouseDown},o.default.createElement(l.ContextMenuTrigger,{id:"eventContextMenuReact",collect:this.getContextMenuData,holdToDisplay:-1},o.default.createElement(d.default,{component:"a",id:"event-tooltip",onClick:this.props.isDragging?void 0:this.openEditor,collect:this.renderTooltip,className:t,style:a,disabled:this.props.isDragging||!this.state.allowTooltip},this.renderStartTime(),this.renderReadOnlyFlagMarkup(),this.renderRecurrenceFlagMarkup(),this.renderMultipleCalendarsFlagMarkup(),u.default.renderEventTitle(this.props.event.event)),this.renderDragHandle()))}}]),t}(),k={canDrag:function(e){return!e.event.event.readonly},beginDrag:function(e,t,n){var r=document.querySelector(".calendar-body-content");return r&&(n.eventRef.classList.add("js-current-dragging-event"),r.classList.add("js-event-dragging")),{event:e.event.event,eventDiv:n.eventRef,eventYDiff:t.clientOffset.y-n.eventRef.getBoundingClientRect().top}},drag:function(e,t,n){var r=g.DDHelpers.getChangeSet(e.event.event,t.item.eventYDiff,t.clientOffset);return r.valid?(r.hoveredGridCell?"scheduler"===e.view?v.default.setSubcalendarId(r.fields.subcalendar_id||e.event.event.subcalendars[0].id):v.default.move(r.fields.start_dt,e.event.event):v.default.clear(),document.body.style.cursor=t.dropResult,{changeSet:r}):(v.default.clear(),document.body.style.cursor="not-allowed",{changeSet:r})},endDrag:function(e,t,n,a){v.default.clear();var o=document.querySelector(".calendar-body-content");if(o&&(a.eventRef.classList.remove("js-current-dragging-event"),o.classList.remove("js-event-dragging")),!e){var i=g.DDHelpers.getChangeSet(t.event.event,n.item.eventYDiff,n.clientOffset);if(i.valid){var s=(0,r.default)(t.event.event),u=!1;Object.keys(i.fields).forEach(function(e){if(void 0!==i.fields[e]){var t=i.fields[e];b.default.isMoment(t)?s[e].format()!==t.format()&&(s[e]=t,u=!0):s[e]!==t&&(s[e]=t,u=!0)}}),u&&(a.props.event.event.rrule&&"move"===n.dropResult?a.props.dragRecurEvent(s):p.default.updateEvent(s,n.dropResult))}}}};t.default=(0,y.default)(E,k,h.default.EVENT)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=(r=o)&&r.__esModule?r:{default:r};var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["default"].Component),a(t,[{key:"render",value:function(){var e=[i.default.createElement("div",{className:"header-gutter",key:this.props.cells.length,style:{width:this.props.leftGutterWidth}},this.props.gutterExtra)];return this.props.cells.forEach(function(t,n){e.push(i.default.createElement("div",{className:"week-day"+(t.color?" cal-bg-"+t.color:" no-color"),key:n,title:t.label},i.default.createElement("span",null,t.label)))}),i.default.createElement("div",{className:"grid-header-wrapper"},i.default.createElement("div",{className:"grid-header"},e))}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a={1:{id:1,value:"f2665b"},2:{id:2,value:"cf2424"},3:{id:3,value:"a01a1a"},4:{id:4,value:"7e3838"},5:{id:5,value:"ca7609"},6:{id:6,value:"f16c20"},7:{id:7,value:"f58a4b"},8:{id:8,value:"d2b53b"},9:{id:9,value:"d96fbf"},10:{id:10,value:"b84e9d"},11:{id:11,value:"9d3283"},12:{id:12,value:"7a0f60"},13:{id:13,value:"542382"},14:{id:14,value:"7742a9"},15:{id:15,value:"8763ca"},16:{id:16,value:"b586e2"},17:{id:17,value:"668CB3"},18:{id:18,value:"4770d8"},19:{id:19,value:"2951b9"},20:{id:20,value:"133897"},21:{id:21,value:"1a5173"},22:{id:22,value:"1a699c"},23:{id:23,value:"0080a6"},24:{id:24,value:"4aaace"},25:{id:25,value:"88b347"},26:{id:26,value:"5a8121"},27:{id:27,value:"2d850e"},28:{id:28,value:"176413"},29:{id:29,value:"0f4c30"},30:{id:30,value:"386651"},31:{id:31,value:"00855b"},32:{id:32,value:"4fb5a1"},33:{id:33,value:"553711"},34:{id:34,value:"724f22"},35:{id:35,value:"9c6013"},36:{id:36,value:"f6c811"},37:{id:37,value:"ce1212"},38:{id:38,value:"b20d47"},39:{id:39,value:"d8135a"},40:{id:40,value:"e81f78"},41:{id:41,value:"f5699a"},42:{id:42,value:"5c1c1c"},43:{id:43,value:"a55757"},44:{id:44,value:"c37070"},45:{id:45,value:"000000"},46:{id:46,value:"383838"},47:{id:47,value:"757575"},48:{id:48,value:"a3a3a3"}},o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"getDefaultColor",value:function(){return{id:16,value:"668cb3"}}},{key:"getColor",value:function(t){return a[t]?a[t]:"virtual"===t?{id:"virtual",value:"cfcfd0"}:e.getDefaultColor()}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(143)),o=i(n(720));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"makeObliqueStripes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?a.default.getAllSubcalendars(e):a.default.getVisibleSubcalendars(e),r=this.calculateGradient("oblique",n,t,0),i="repeating-linear-gradient(-45deg, ",s="";return i=(i+=r.gradient).slice(0,-1),i+=")",r.resources[0]&&(s="#"+o.default.getColor(r.resources[0].color).value),{backgroundImage:i,borderColor:s}}},{key:"calculateGradient",value:function(e,t,n,r){for(var a="",i=0,s=0;s<t.length;s++){var u=o.default.getColor(t[s].color);a+="#"+u.value+" "+i+"px,",i+=n,a+="#"+u.value+" "+i+"px,","vertical"===e&&s<t.length-1&&(a+="#ffffff "+i+"px,",a+="#ffffff "+(i+=r||1)+"px,")}return{gradient:a,resources:t}}},{key:"makeVerticalStripes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=this.calculateGradient("vertical",a.default.getAllSubcalendars(e),t,n),o="linear-gradient(to right, ",i=r.resources.length*(t+n)-n;return o=(o+=r.gradient).slice(0,-1),{backgroundImage:o+=")",width:i+"px"}}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n(1)),o=c(n(45)),i=c(n(143)),s=c(n(434)),u=c(n(6)),l=c(n(56));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderProp=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t)return a.default.createElement("li",{key:n,className:"field"},a.default.createElement("strong",null,r?a.default.createElement(u.default,{message:e}):e,":")," ",t)},n.renderBadges=function(e,t,n){return a.default.createElement("span",{key:t,className:(n?"choice cal-fg-":"calendar cal-bg-")+e.color},e.name)},n.renderDescription=function(e,t,r){var o=i.default.formatDescription(n.props.event.notes);if(o)return a.default.createElement("li",{key:t,className:"field"},a.default.createElement("strong",null,r?a.default.createElement(u.default,{message:e}):e,": "),a.default.createElement("span",{dangerouslySetInnerHTML:{__html:o}}))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"renderCustomisableFields",value:function(){var e=this;return l.default.getState().fields.definitions.map(function(t){if(!t.hidden){var n=e.props.event.custom||{},r="custom-"+t.id;if("builtin_who"===t.type)return e.renderProp(t.name||"event.tooltip.who",e.props.event.who,r,""===t.name);if("builtin_location"===t.type)return e.renderProp(t.name||"event.tooltip.location",e.props.event.location,r,""===t.name);if("builtin_notes"===t.type)return e.renderDescription(t.name||"event.tooltip.description",r,""===t.name);if("single_line_text"===t.type)return e.renderProp(t.name,n[t.id],r,!1);if("choices"!==t.type)"builtin_signup"!==t.type&&"builtin_comments"!==t.type&&"builtin_company_cam"!==t.type&&console.log("Field "+t.id+" is of unknown type "+t.type);else{var o=n[t.id];if(o&&o.length){var i=s.default.listToMap(t.type_data.options);return a.default.createElement("li",{className:"field calendar-list",key:r},a.default.createElement("span",{className:"label"},a.default.createElement("strong",null,t.name,":")),o.map(function(n,r){if(!i[n].hidden)return e.renderBadges(i[n],"custom-"+t.id+"tag-"+n,!0)}))}}}})}},{key:"render",value:function(){var e=this,t=this.props.event.start_dt,n=this.props.event.end_dt,r=this.props.event.subcalendars[0].color;this.props.event.notes&&this.props.event.notes.substr(0,100);return a.default.createElement("ul",null,a.default.createElement("li",{className:"title pb-8 cal-text-"+r},this.props.event.title||a.default.createElement(u.default,{message:"calendar.defaultEventTitleText"})),a.default.createElement("li",{className:"pb-8"},o.default.renderShortTime(t,n,this.props.event.all_day)),a.default.createElement("li",{className:"field calendar-list"},a.default.createElement("span",{className:"label"},a.default.createElement("strong",null,a.default.createElement(u.default,{message:"event.tooltip.subcalendar"}),":")),this.props.subcalendars.map(function(t,n){return e.renderBadges(t,n,!1)})),this.renderCustomisableFields())}}]),t}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(218)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(1)),i=f(n(672)),s=f(n(935)),u=f(n(934)),l=f(n(143)),c=f(n(6)),d=f(n(4));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.duplicateOneToManyEvents=function(e){var t=[];return e.forEach(function(e){l.default.getVisibleSubcalendars(e).forEach(function(n,a){if(0===a)t.push(e);else{var o=(0,r.default)(e);o.subcalendars=[n],t.push(o)}})}),t},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["default"].Component),a(t,[{key:"renderUnGroupedEvents",value:function(e){var t=this,n=!0,r=[],a=[];return e.forEach(function(e,s){var u=e.start_dt.format("DD-MM-YYYY");-1===r.indexOf(u)?(n=!0,r.push(u)):n=!1,a.push(o.default.createElement(i.default,{key:"event-"+s+"-"+e.id,event:e,showDetails:t.props.showDetails,showDayColumn:!0,isFirstEventInDay:n,oneToManyLayoutStripe:t.props.oneToManyLayoutStripe,isAgendaView:t.props.isAgendaView,readOnly:t.props.readOnly}))}),a}},{key:"render",value:function(){var e=this,t=[];if("none"===this.props.groupBySelectValue){var n=this.props.events;n=(0,r.default)(n).sort(function(t,n){return l.default.sortEventsForDay(t,n,!e.props.isAgendaView)}),t=this.renderUnGroupedEvents(this.props.oneToManyLayoutStripe?n:this.duplicateOneToManyEvents(n))}else{var a=void 0,i=this.props.events;a="day"===this.props.groupBySelectValue?s.default:u.default,Object.keys(i).forEach(function(n){var s=i[n];if(s.length>0){var u={key:n,date:(0,d.default)(n),events:(0,r.default)(s).sort(function(t,n){return l.default.sortEventsForDay(t,n,!e.props.isAgendaView)}),showDetails:e.props.showDetails,oneToManyLayoutStripe:e.props.oneToManyLayoutStripe,groupBy:e.props.groupBySelectValue,isAgendaView:e.props.isAgendaView,readOnly:e.props.readOnly};t.push(o.default.createElement(a,u))}})}return o.default.createElement("div",{className:"agenda-view__body"},o.default.createElement("div",{className:"agenda-view__agenda-list"},"none"===this.props.groupBySelectValue?o.default.createElement("dl",{className:"agenda-day__agenda-events-list"},t):t,t.length>0?null:o.default.createElement(c.default,{component:"div",className:"no-results",message:"agenda_view.noEventsText"})),this.props.pageLinks.length>0?o.default.createElement("div",{className:"agenda-list__pagination-wrapper"},this.props.pageLinks):null)}}]),t}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n(1)),o=h(n(219)),i=h(n(56)),s=h(n(182)),u=h(n(91)),l=h(n(936)),c=h(n(143)),d=h(n(6)),f=h(n(723)),p=h(n(583));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onRangeClick=function(e){s.default.setViewSetting(n.props.isAgendaView?"agenda":"list","dateRange",e.currentTarget.value),n.setState({selectValue:e.currentTarget.value})},n.showDetailsChangeHandler=function(e){s.default.setViewSetting(n.props.isAgendaView?"agenda":"list","showDetails",!!e.currentTarget.checked),n.setState({showDetails:e.currentTarget.checked})},n.setGrouping=function(e){var t,r=e.currentTarget.value;s.default.setViewSetting(n.props.isAgendaView?"agenda":"list","groupBy",e.currentTarget.value),t=c.default.splitEventsByListGrouping(o.default.getState().events,n.state.viewStartDate,n.state.viewEndDate,r,n.state.oneToManyLayoutStripe,n.state.showEventsInEveryPeriod),n.setState({groupBySelectValue:r,events:t})};var r=n.initAbstractState(),a=void 0,l=void 0,d=void 0;return n.props.isAgendaView?(a=i.default.getState().views.agenda,l="day",d=!0):(l=(a=i.default.getState().views.list).groupBy,d=!0),n.state=Object.assign(r,{selectValue:a.dateRange,groupBySelectValue:l,events:c.default.splitEventsByListGrouping(o.default.getState().events,r.viewStartDate,r.viewEndDate,l,r.oneToManyLayoutStripe,d),showEventsInEveryPeriod:d,showDetails:!!a.showDetails,subcalendars:u.default.getState().resources}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p["default"]),r(t,[{key:"updateEvents",value:function(e){this.setState({events:c.default.splitEventsByListGrouping(e,this.state.viewStartDate,this.state.viewEndDate,this.state.groupBySelectValue,this.state.oneToManyLayoutStripe,this.state.showEventsInEveryPeriod)})}},{key:"renderHeader",value:function(){return this.props.isAgendaView?a.default.createElement(l.default,{readOnly:this.state.readOnly,dateRangeChangedHandler:this.onRangeClick,rangeSelectValue:this.state.selectValue,showDetails:this.state.showDetails,showDetailsChangeHandler:this.showDetailsChangeHandler}):a.default.createElement(l.default,{readOnly:this.state.readOnly,dateRangeChangedHandler:this.onRangeClick,rangeSelectValue:this.state.selectValue,groupBySelectValue:this.state.groupBySelectValue,groupByChangeHandler:this.setGrouping,showDetails:this.state.showDetails,showDetailsChangeHandler:this.showDetailsChangeHandler})}},{key:"render",value:function(){return a.default.createElement("div",{className:"agenda-view "+(this.props.isAgendaView?"":"list-view")},this.renderHeader(),a.default.createElement(f.default,{events:this.state.events,subcalendars:this.state.subcalendars,groupBySelectValue:this.state.groupBySelectValue,showDetails:this.state.showDetails,oneToManyLayoutStripe:this.state.oneToManyLayoutStripe,isAgendaView:this.props.isAgendaView,readOnly:this.state.readOnly,pageLinks:[a.default.createElement(d.default,{component:"a",key:"prev",onClick:s.default.prevDateRange,className:"previous-link",section:"calendar",message:"agenda_view.prevLinkText"}),a.default.createElement("span",{key:"sep"},"|"),a.default.createElement(d.default,{component:"a",key:"next",onClick:s.default.nextDateRange,className:"next-link",section:"calendar",message:"agenda_view.nextLinkText"})]}))}}]),t}();m.defaultProps={isAgendaView:!0},t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(1)),o=u(n(453)),i=u(n(56)),s=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.datePicker=null,n.toggleCalendar=function(){n.setState({calendarOpen:!n.state.calendarOpen})},n.handleChange=function(e){var t=(0,s.default)(e[0]);n.props.onChange(t)},n.createCalendarDay=function(e,t,r,a){if(0!==n.props.highlightedDates.length){var o=(0,s.default)(a.dateObj).format("YYYY-MM-DD");-1!==n.props.highlightedDates.indexOf(o)&&(a.innerHTML+='<span class="calendar-view-area"></span>')}},n.initPicker=function(e){if(e){var t=s.default.weekdays().map(function(e){return null!==i.default.getState().language.match("zh")?e.substring(2,3):e.substring(0,1).toUpperCase()}),r={firstDayOfWeek:i.default.getState().datetime.weekStart,weekdays:{shorthand:t,longhand:n.props.mini?t:s.default.weekdays()},months:{shorthand:s.default.monthsShort(),longhand:s.default.months()}},a={dateFormat:"Y-m-d",allowInput:!1,onChange:n.handleChange,onClose:function(){n.state.calendarOpen&&n.setState({calendarOpen:!1})},onDayCreate:n.createCalendarDay,defaultDate:n.props.currentDate.toDate(),disableMobile:!0,locale:r,inline:!n.props.togglable};n.props.nextArrow&&(a.nextArrow=n.props.nextArrow),n.props.prevArrow&&(a.prevArrow=n.props.prevArrow),n.datePicker=new o.default(e,a),n.datePicker.calendarContainer.classList.remove("arrowTop"),n.datePicker.calendarContainer.classList.add("highlighted-date-picker"),n.props.mini&&n.datePicker.calendarContainer.classList.add("mini-calendar")}else n.datePicker&&n.datePicker.destroy(),n.datePicker=null},n.state={calendarOpen:!n.props.togglable},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"componentDidUpdate",value:function(e,t){var n=this;this.props.currentDate!==e.currentDate&&this.datePicker&&(this.datePicker.setDate(this.props.currentDate.toDate()),this.datePicker.jumpToDate(this.props.currentDate.toDate())),e.highlightedDates!==this.props.highlightedDates&&this.datePicker&&this.datePicker.redraw(),this.props.togglable&&setTimeout(function(){n.datePicker&&(n.state.calendarOpen?n.datePicker.open():n.datePicker.close())},0)}},{key:"render",value:function(){return a.default.createElement("input",{ref:this.initPicker,className:"noinput-datepicker-input"})}}]),t}();l.defaultProps={togglable:!1,mini:!1},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(1)),o=u(n(32)),i=u(n(10)),s=n(947);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=n(946),p=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,a["default"].Component),r(t,[{key:"render",value:function(){return a.default.createElement(f.default||f,Object.assign({},this.props,{className:this.props.className+" "+this.props.option.className}))}}]),t}(),h=function(e){function t(e){l(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.ref=null,n.clear=function(){n.ref.setValue([])},n.onChange=function(e){var t;n.props.onChange&&(t=function(){n.props.onChange&&n.props.onChange(n.getValue())}),n.props.multi?n.setState({values:e},t):(n.setState({value:e[e.length-1]},t),n.ref&&n.ref.closeMenu()),n.updateSelectHeight()},n.updateSelectHeight=function(){if(n.ref){var e=o.default.findDOMNode(n.ref);e&&setTimeout(function(){var t=e.querySelectorAll(".Select-control")[0].clientHeight;e.style.height=(t+1).toString()+"px"})}},n.filterOptions=function(e,t){var r=n.getUsableOptions();if(e){var a=e.split("");r=r.filter(function(e){for(var t,n,r=0,o=a.length;r<o;r++){if(-1===(n=e.normalized.indexOf(a[r],t)))return!1;t=n+1}return!0}),n.updateSelectHeight(),t(null,{options:r}),n.props.onKeyUp&&n.props.onKeyUp()}else t(null,{options:r})},n.state=n.extractValuesFromIds(n.props.defaultValue),n}return d(t,a["default"].Component),r(t,[{key:"getValue",value:function(){return(this.props.multi&&this.state.values?this.state.values:this.state.value?[this.state.value]:[]).map(function(e){return e.value})}},{key:"extractValuesFromIds",value:function(e){var t=this.getAllOptions(),n=[];if(e.forEach(function(e){for(var r=0,a=t.length;r<a;r++)if(t[r].value==e){n.push(t[r]);break}}),this.props.multi){var r=n.filter(function(e){return!e.clearableValue});return{values:n,resetValue:r}}return{value:n[0],resetValue:null}}},{key:"getAllOptions",value:function(){var e=this,t=[];return this.props.resources.forEach(function(n){t.push({value:n.id,label:n.name,title:n.name,normalized:n.name.toLowerCase(),className:"cal-bg-"+n.color,clearableValue:!!e.props.showAll||!n.readonly,readonly:n.readonly,visible:n.visible})}),t}},{key:"getUsableOptions",value:function(){var e=this,t=[];return this.props.multi&&this.state.values?this.state.values.forEach(function(e){t.push(e.value)}):this.state.value&&t.push(this.state.value.value),this.getAllOptions().filter(function(n){return(e.props.showAll||!n.readonly)&&-1===t.indexOf(n.value)})}},{key:"render",value:function(){var e=this;return setTimeout(function(){e.updateSelectHeight()},10),a.default.createElement(s.Async,{disabled:!this.props.editable,loadOptions:this.filterOptions,options:this.getUsableOptions(),filterOptions:function(e){return e},className:"calendarpicker"+(this.props.required?" required":"")+(this.props.className?" "+this.props.className:""),onChange:this.onChange,onInputChange:function(t){return e.updateSelectHeight(),t},onBlurResetsInput:!1,autoBlur:!1,autosize:!0,clearable:this.props.clearable,required:this.props.required,multi:!0,cache:!1,resetValue:this.state.resetValue,optionComponent:p,placeholder:i.default.translate(this.props.placeholderSection||"core_js",this.props.placeholderMessage||"calendar_picker.placeholder",this.props.placeholderParams||{}),openAfterFocus:!0,value:this.props.multi?this.state.values:this.state.value,noResultsText:this.props.searchPromptText,ref:function(t){e.ref=t?t.select:null}})}}]),t}();t.default=h,h.defaultProps={clearable:!0,showAll:!1,required:!1,className:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(435)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(43),i=l(n(4)),s=l(n(91)),u=l(n(56));function l(e){return e&&e.__esModule?e:{default:e}}var c=window.APP_BASE_URL+"/"+window.APP_KEY;function d(e,t){var n=e[t];if("string"==typeof n){if(!0===e.all_day&&["start_dt","end_dt","ristart_dt"].indexOf(t)>-1){var r=(0,i.default)(n.split("T")[0]+" 12:00:00");return"end_dt"===t?r.endOf("day").second(0):r.startOf("day"),r}return(0,i.default)(n.substring(0,19))}return n}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"deleteEvent",value:function(e){var t={tz:this.getTz()};return-1!==navigator.userAgent.indexOf("Edge/14.")&&(t.version=e.version,e.redit&&(t.redit=e.redit)),(0,o.makeRequest)("DELETE",c+"/events/"+e.id,this.prepareForApi(e),t)}},{key:"createEvent",value:function(e){return(0,o.makeRequest)("POST",c+"/events",this.prepareForApi(e),{tz:this.getTz()})}},{key:"updateEvent",value:function(e){return(0,o.makeRequest)("PUT",c+"/events/"+e.id,this.prepareForApi(e),{tz:this.getTz()})}},{key:"fetchEvents",value:function(e,t,n){i.default.isMoment(e)&&(e=e.format("YYYY-MM-DD")),i.default.isMoment(t)&&(t=t.format("YYYY-MM-DD"));var r={startDate:e,endDate:t,tz:this.getTz()};return void 0!==n.query&&(r.query=n.query,r.offset=n.offset,r.limit=n.limit),(0,o.makeRequest)("GET",c+"/events",null,r)}},{key:"fetchEvent",value:function(e){return(0,o.makeRequest)("GET",c+"/events/"+e,null,{tz:this.getTz()})}},{key:"undoEventChange",value:function(e){return(0,o.makeRequest)("PUT",c+"/events/undo/"+e,null,{tz:this.getTz()})}},{key:"initializeEvent",value:function(e){return e.start_dt=d(e,"start_dt"),e.signup_deadline=d(e,"signup_deadline"),e.end_dt=d(e,"end_dt"),e.creation_dt=d(e,"creation_dt"),e.ristart_dt=d(e,"ristart_dt"),e.rsstart_dt=d(e,"rsstart_dt"),e.update_dt=d(e,"update_dt"),e.delete_dt=d(e,"delete_dt"),e.subcalendars=e.subcalendar_ids.map(function(e){return s.default.findById(e)}),e}},{key:"prepareForApi",value:function(e){var t=(0,r.default)(e);return delete t.subcalendars,delete t.readonly,delete t.subcalendar_id,delete t.creation_dt,delete t.update_dt,delete t.delete_dt,["spanRight","spanLeft","colspan","style","_width","_height","_top","_left","_date"].forEach(function(e){delete t[e]}),t.start_dt=i.default.isMoment(t.start_dt)?(0,i.default)(t.start_dt).format("YYYY-MM-DDTHH:mm:ss"):t.start_dt,t.signup_deadline=i.default.isMoment(t.signup_deadline)?(0,i.default)(t.signup_deadline).format("YYYY-MM-DDTHH:mm:ss"):t.signup_deadline,t.end_dt=i.default.isMoment(t.end_dt)?(0,i.default)(t.end_dt).format("YYYY-MM-DDTHH:mm:ss"):t.end_dt,t.creation_dt=i.default.isMoment(t.creation_dt)?(0,i.default)(t.creation_dt).format("YYYY-MM-DDTHH:mm:ss"):t.creation_dt,t.ristart_dt=i.default.isMoment(t.ristart_dt)?(0,i.default)(t.ristart_dt).format("YYYY-MM-DDTHH:mm:ss"):t.ristart_dt,t.rsstart_dt=i.default.isMoment(t.rsstart_dt)?(0,i.default)(t.rsstart_dt).format("YYYY-MM-DDTHH:mm:ss"):t.rsstart_dt,t.update_dt=i.default.isMoment(t.update_dt)?(0,i.default)(t.update_dt).format("YYYY-MM-DDTHH:mm:ss"):t.update_dt,t.delete_dt=i.default.isMoment(t.delete_dt)?(0,i.default)(t.delete_dt).format("YYYY-MM-DDTHH:mm:ss"):t.delete_dt,t.rrule&&(t.tz=this.getTz()),t}},{key:"getTz",value:function(){var e=u.default.getState().timezone.value;return e||void 0}}]),e}();t.default=new f},function(e,t,n){var r=n(951),a=n(948)(r);e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(17)),o=u(n(91)),i=u(n(219)),s=u(n(56));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"buildAppStateUrl",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0)||location.protocol+"//"+location.hostname+location.pathname,t=s.default.getState(),n=t.views.current;e+="?tz="+encodeURIComponent(t.timezone.value),"search"===n?(e+="&query="+t.views.search.query,e+="+from:"+t.datetime.viewStartDate.format("YYYY-MM-DD"),e+="+to:"+t.datetime.viewEndDate.format("YYYY-MM-DD")):(e+="&view="+s.default.getViewAbbrev(n).toUpperCase(),e+="&date="+t.datetime.currentDate.format("YYYY-MM-DD")),t.sidebar.expanded!==a.default.getCalendarDefaults().sidebarDefaultExpanded&&(e+="&sidepanel="+encodeURIComponent(t.sidebar.expanded?"v":"c")),t.grid.resolution!==a.default.getCalendarDefaults().grid.resolution&&(e+="&resolution="+t.grid.resolution),t.language!==a.default.getCalendarDefaults().defaultLanguage&&(e+="&lang="+t.language);var r=i.default.getState(),u=r.filter,l=r.filteredCalendars,c=r.filteredCustom;l.length>0&&(e+="&filterby="+l.join(",")),u.length>0&&(e+="&keywords="+encodeURIComponent(u));var d=function(t){c.hasOwnProperty(t)&&c[t].forEach(function(n){e+="&filterby_"+t+"[]="+encodeURIComponent(n)})};for(var f in c)d(f);var p=[];o.default.getState().resources.forEach(function(e){e.visible&&p.push(e.id)}),o.default.getState().resources.length!==p.length&&(e+="&calendars="+(0===p.length?"none":p.join(",")));var h=a.default.getInitialQueryParams();return["showTitle","showLogo","showHeader","disableSidepanel","showViewSelector","showStripes","resolution"].forEach(function(t){void 0!==h[t]&&(e+="&"+t+"="+encodeURIComponent(h[t]))}),"search"!==n&&t.views[n]&&(e+="&viewstate="+encodeURIComponent(JSON.stringify(t.views[n]))),e}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=u(o),s=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var l={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},c=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],d=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},f=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),p=function(){return f?"_"+Math.random().toString(36).substr(2,12):void 0},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"==typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||p()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentWillReceiveProps",value:function(e){var t=e.id;t!==this.props.id&&this.setState({inputId:t||p()})}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(d(e,this.sizer),this.placeHolderSizer&&d(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return f&&e?i.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce(function(e,t){return null!==e&&void 0!==e?e:t}),t=r({},this.props.style);t.display||(t.display="inline-block");var n=r({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(this.props,[]);return function(e){c.forEach(function(t){return delete e[t]})}(a),a.className=this.props.inputClassName,a.id=this.state.inputId,a.style=n,i.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),i.default.createElement("input",r({},a,{ref:this.inputRef})),i.default.createElement("div",{ref:this.sizerRef,style:l},e),this.props.placeholder?i.default.createElement("div",{ref:this.placeHolderSizerRef,style:l},this.props.placeholder):null)}}]),t}();h.propTypes={className:s.default.string,defaultValue:s.default.any,extraWidth:s.default.oneOfType([s.default.number,s.default.string]),id:s.default.string,injectStyles:s.default.bool,inputClassName:s.default.string,inputRef:s.default.func,inputStyle:s.default.object,minWidth:s.default.oneOfType([s.default.number,s.default.string]),onAutosize:s.default.func,onChange:s.default.func,placeholder:s.default.string,placeholderIsMinWidth:s.default.bool,style:s.default.object,value:s.default.any},h.defaultProps={minWidth:1,injectStyles:!0},t.default=h},function(e,t,n){"use strict";n.r(t);n(0);var r=n(1),a=n.n(r);function o(e){return e.type&&"Tab"===e.type.tabsRole}function i(e){return e.type&&"TabPanel"===e.type.tabsRole}function s(e){return e.type&&"TabList"===e.type.tabsRole}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return r.Children.map(e,function(e){return null===e?null:function(e){return o(e)||s(e)||i(e)}(e)?t(e):e.props&&e.props.children&&"object"==typeof e.props.children?Object(r.cloneElement)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}({},e.props,{children:l(e.props.children,t)})):e})}function c(e,t){return r.Children.forEach(e,function(e){null!==e&&(o(e)||i(e)?t(e):e.props&&e.props.children&&"object"==typeof e.props.children&&(s(e)&&t(e),c(e.props.children,t)))})}var d,f=n(14),p=n.n(f),h=0;function m(){return"react-tabs-"+h++}function v(){h=0}function y(e){var t=0;return c(e,function(e){o(e)&&t++}),t}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e){return"getAttribute"in e&&"tab"===e.getAttribute("role")}function _(e){return"true"===e.getAttribute("aria-disabled")}try{d=!("undefined"==typeof window||!window.document||!window.document.activeElement)}catch(e){d=!1}var w=function(e){var t,n;function u(){for(var t,n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=n=e.call.apply(e,[this].concat(a))||this,n.tabNodes=[],n.handleKeyDown=function(e){if(n.isTabFromContainer(e.target)){var t=n.props.selectedIndex,r=!1,a=!1;32!==e.keyCode&&13!==e.keyCode||(r=!0,a=!1,n.handleClick(e)),37===e.keyCode||38===e.keyCode?(t=n.getPrevTab(t),r=!0,a=!0):39!==e.keyCode&&40!==e.keyCode||(t=n.getNextTab(t),r=!0,a=!0),r&&e.preventDefault(),a&&n.setSelected(t,e)}},n.handleClick=function(e){var t=e.target;do{if(n.isTabFromContainer(t)){if(_(t))return;var r=[].slice.call(t.parentNode.children).filter(b).indexOf(t);return void n.setSelected(r,e)}}while(null!==(t=t.parentNode))},t||function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)}n=e,(t=u).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var f=u.prototype;return f.setSelected=function(e,t){e<0||e>=this.getTabsCount()||this.props.onSelect(e,this.props.selectedIndex,t)},f.getNextTab=function(e){for(var t=this.getTabsCount(),n=e+1;n<t;n++)if(!_(this.getTab(n)))return n;for(var r=0;r<e;r++)if(!_(this.getTab(r)))return r;return e},f.getPrevTab=function(e){for(var t=e;t--;)if(!_(this.getTab(t)))return t;for(t=this.getTabsCount();t-- >e;)if(!_(this.getTab(t)))return t;return e},f.getTabsCount=function(){return y(this.props.children)},f.getPanelsCount=function(){return e=this.props.children,t=0,c(e,function(e){i(e)&&t++}),t;var e,t},f.getTab=function(e){return this.tabNodes["tabs-"+e]},f.getChildren=function(){var e=this,t=0,n=this.props,u=n.children,c=n.disabledTabClassName,f=n.focus,p=n.forceRenderTabPanel,h=n.selectedIndex,v=n.selectedTabClassName,y=n.selectedTabPanelClassName;this.tabIds=this.tabIds||[],this.panelIds=this.panelIds||[];for(var g=this.tabIds.length-this.getTabsCount();g++<0;)this.tabIds.push(m()),this.panelIds.push(m());return l(u,function(n){var u=n;if(s(n)){var m=0,g=!1;d&&(g=a.a.Children.toArray(n.props.children).filter(o).some(function(t,n){return document.activeElement===e.getTab(n)})),u=Object(r.cloneElement)(n,{children:l(n.props.children,function(t){var n="tabs-"+m,a=h===m,o={tabRef:function(t){e.tabNodes[n]=t},id:e.tabIds[m],panelId:e.panelIds[m],selected:a,focus:a&&(f||g)};return v&&(o.selectedClassName=v),c&&(o.disabledClassName=c),m++,Object(r.cloneElement)(t,o)})})}else if(i(n)){var b={id:e.panelIds[t],tabId:e.tabIds[t],selected:h===t};p&&(b.forceRender=p),y&&(b.selectedClassName=y),t++,u=Object(r.cloneElement)(n,b)}return u})},f.isTabFromContainer=function(e){if(!b(e))return!1;var t=e.parentElement;do{if(t===this.node)return!0;if(t.getAttribute("data-tabs"))break;t=t.parentElement}while(t);return!1},f.render=function(){var e=this,t=this.props,n=(t.children,t.className),r=(t.disabledTabClassName,t.domRef),o=(t.focus,t.forceRenderTabPanel,t.onSelect,t.selectedIndex,t.selectedTabClassName,t.selectedTabPanelClassName,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName"]));return a.a.createElement("div",g({},o,{className:p()(n),onClick:this.handleClick,onKeyDown:this.handleKeyDown,ref:function(t){e.node=t,r&&r(t)},"data-tabs":!0}),this.getChildren())},u}(r.Component);w.defaultProps={className:"react-tabs",focus:!1},w.propTypes={};var E=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).handleSelected=function(e,t,a){if("function"!=typeof n.props.onSelect||!1!==n.props.onSelect(e,t,a)){var o={focus:"keydown"===a.type};r.inUncontrolledMode(n.props)&&(o.selectedIndex=e),n.setState(o)}},n.state=r.copyPropsToState(n.props,{},n.props.defaultFocus),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentWillReceiveProps=function(e){this.setState(function(t){return r.copyPropsToState(e,t)})},r.inUncontrolledMode=function(e){return null===e.selectedIndex},r.copyPropsToState=function(e,t,n){void 0===n&&(n=!1);var a={focus:n};if(r.inUncontrolledMode(e)){var o=y(e.children)-1,i=null;i=null!=t.selectedIndex?Math.min(t.selectedIndex,o):e.defaultIndex||0,a.selectedIndex=i}return a},o.render=function(){var e=this.props,t=e.children,n=(e.defaultIndex,e.defaultFocus,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["children","defaultIndex","defaultFocus"]));return n.focus=this.state.focus,n.onSelect=this.handleSelected,null!=this.state.selectedIndex&&(n.selectedIndex=this.state.selectedIndex),a.a.createElement(w,n,t)},r}(r.Component);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}E.defaultProps={defaultFocus:!1,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null},E.propTypes={},E.tabsRole="Tabs";var S=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["children","className"]);return a.a.createElement("ul",k({},r,{className:p()(n),role:"tablist"}),t)},r}(r.Component);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}S.defaultProps={className:"react-tabs__tab-list"},S.propTypes={},S.tabsRole="TabList";var C=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){this.checkFocus()},o.componentDidUpdate=function(){this.checkFocus()},o.checkFocus=function(){this.props.selected&&this.props.focus&&this.node.focus()},o.render=function(){var e,t=this,n=this.props,r=n.children,o=n.className,i=n.disabled,s=n.disabledClassName,u=(n.focus,n.id),l=n.panelId,c=n.selected,d=n.selectedClassName,f=n.tabIndex,h=n.tabRef,m=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(n,["children","className","disabled","disabledClassName","focus","id","panelId","selected","selectedClassName","tabIndex","tabRef"]);return a.a.createElement("li",O({},m,{className:p()(o,(e={},e[d]=c,e[s]=i,e)),ref:function(e){t.node=e,h&&h(e)},role:"tab",id:u,"aria-selected":c?"true":"false","aria-disabled":i?"true":"false","aria-controls":l,tabIndex:f||(c?"0":null)}),r)},r}(r.Component);function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}C.defaultProps={className:"react-tabs__tab",disabledClassName:"react-tabs__tab--disabled",focus:!1,id:null,panelId:null,selected:!1,selectedClassName:"react-tabs__tab--selected"},C.propTypes={},C.tabsRole="Tab";var T=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.props,n=t.children,r=t.className,o=t.forceRender,i=t.id,s=t.selected,u=t.selectedClassName,l=t.tabId,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,["children","className","forceRender","id","selected","selectedClassName","tabId"]);return a.a.createElement("div",D({},c,{className:p()(r,(e={},e[u]=s,e)),role:"tabpanel",id:i,"aria-labelledby":l}),o||s?n:null)},r}(r.Component);T.defaultProps={className:"react-tabs__tab-panel",forceRender:!1,selectedClassName:"react-tabs__tab-panel--selected"},T.propTypes={},T.tabsRole="TabPanel",n.d(t,"Tabs",function(){return E}),n.d(t,"TabList",function(){return S}),n.d(t,"Tab",function(){return C}),n.d(t,"TabPanel",function(){return T}),n.d(t,"resetIdCounter",function(){return v})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ref=null}return r(e,[{key:"show",value:function(e){this.ref=document.querySelector("."+e),this.ref&&(this.ref.className+=" is-loading")}},{key:"hide",value:function(e){this.ref=document.querySelector("."+e),this.ref&&(this.ref.className=this.ref.className.replace(/ is-loading/g,""))}}]),e}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=m(n(1)),o=m(n(666)),i=m(n(6)),s=m(n(56)),u=m(n(60)),l=m(n(182)),c=m(n(729)),d=m(n(17)),f=m(n(18)),p=m(n(883)),h=m(n(10));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){function t(e){v(this,t);var n=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleKeyDown=function(e){27===e.keyCode&&f.default.backToCalendar()},n.closeModal=function(){f.default.backToCalendar()},n.refresh=function(e){e.preventDefault();var t=n.getFormValues();l.default.setPrintPdfOptions(t),p.default.show(n.props.loadingContainerClassName),n.setState(t)};var r=s.default.getState();return n.state=r.printPdfOptions||{format:"en"===window.APP_LANGUAGE?"Letter":"A4",orientation:"portrait",color:"full",sidepanel:"v"},n}return g(t,e),r(t,[{key:"componentDidMount",value:function(){p.default.show(this.props.loadingContainerClassName),document.body.addEventListener("keydown",this.handleKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("keydown",this.handleKeyDown,!1)}},{key:"renderCloseButton",value:function(){return a.default.createElement("a",{className:"button ghost close-icon",onClick:this.closeModal},a.default.createElement("i",{className:"sprite-event-close"}))}},{key:"buildUrl",value:function(){var e="&format="+this.state.format+"&orientation="+this.state.orientation+"&color="+this.state.color+"&sidepanel="+this.state.sidepanel,t=d.default.getInitialQueryParams();return t.zoom&&(e+="&zoom="+t.zoom),c.default.buildAppStateUrl(this.props.baseUrl)+e}},{key:"renderPreviewIframe",value:function(){var e=this;return a.default.createElement("iframe",{src:this.buildUrl()+"&cachebuster="+Math.round((new Date).getTime()/1e3),height:"100%",width:"100%",onLoad:function(){p.default.hide(e.props.loadingContainerClassName)},onError:function(t){p.default.hide(e.props.loadingContainerClassName)}})}},{key:"renderPreferencesForm",value:function(){return a.default.createElement("form",{onSubmit:this.refresh},a.default.createElement("div",{className:"row__inputs"},a.default.createElement("div",null,a.default.createElement("label",null,a.default.createElement("i",{className:"sprite-icon-orientation"}),h.default.translate("calendar","settings_menu.pdfExportWin.orientation")),a.default.createElement("select",{className:"settings__select",name:"orientation",defaultValue:this.state.orientation},a.default.createElement(i.default,{message:"calendar:settings_menu.pdfExportWin.portrait",component:"option",value:"portrait"}),a.default.createElement(i.default,{message:"calendar:settings_menu.pdfExportWin.landscape",component:"option",value:"landscape"})))),a.default.createElement("div",{className:"row__inputs"},a.default.createElement("div",null,a.default.createElement("label",null,a.default.createElement("i",{className:"sprite-icon-page"}),h.default.translate("calendar","settings_menu.pdfExportWin.format")),a.default.createElement("select",{className:"settings__select",name:"format",defaultValue:this.state.format},a.default.createElement("option",{value:"Legal"},"Legal"),a.default.createElement("option",{value:"Letter"},"Letter"),a.default.createElement("option",{value:"Tabloid"},"Tabloid"),a.default.createElement("option",{value:"A4"},"A4"),a.default.createElement("option",{value:"A3"},"A3"),a.default.createElement("option",{value:"A2"},"A2"),a.default.createElement("option",{value:"A1"},"A1"),a.default.createElement("option",{value:"A0"},"A0")))),a.default.createElement("div",{className:"row__inputs"},a.default.createElement("div",null,a.default.createElement("label",null,a.default.createElement("i",{className:"sprite-icon-color"}),h.default.translate("calendar","settings_menu.pdfExportWin.color")),a.default.createElement("select",{className:"settings__select",name:"color",defaultValue:this.state.color},a.default.createElement("option",{value:"full"},"Full Color"),a.default.createElement("option",{value:"eco"},"Eco Mode")))),a.default.createElement("div",{className:"row__inputs"},a.default.createElement("div",null,a.default.createElement("label",null,a.default.createElement("i",{className:"sprite-icon-sidebar"}),h.default.translate("calendar","settings_menu.pdfExportWin.sidepanel")),a.default.createElement("select",{className:"settings__select",name:"sidepanel",defaultValue:this.state.sidepanel},a.default.createElement("option",{value:"v"},h.default.translate("core_js","yes")),a.default.createElement("option",{value:"c"},h.default.translate("core_js","no"))))),a.default.createElement("div",{className:"row__inputs buttons"},a.default.createElement(i.default,{type:"submit",message:"calendar:settings_menu.pdfExportWin.refreshBtn",component:"button",className:"button secondary"})))}},{key:"render",value:function(){return a.default.createElement(o.default,{className:"pdf-preview-win"},a.default.createElement("section",{className:"pdf-preview-win__header"},a.default.createElement("div",{className:"menu"},this.renderCloseButton()),a.default.createElement("section",{className:"title-input"},a.default.createElement(i.default,{message:"calendar:settings_menu.pdfExport",component:"h1"}))),a.default.createElement("section",{className:"pdf-preview-win__options"},this.renderPreferencesForm()),a.default.createElement("section",{className:"pdf-preview-win__body"},a.default.createElement("div",{className:this.props.loadingContainerClassName},a.default.createElement("div",{className:"spinner"})),this.renderPreviewIframe()))}}]),t}(u.default.makeFormValues(function(e){function t(){return v(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,a["default"].Component),t}()));b.defaultProps={baseUrl:window.APP_BASE_URL+"/"+window.APP_KEY+"/print/pdf",loadingContainerClassName:"loading-spinner"},t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=m(n(1)),o=m(n(60)),i=m(n(10)),s=m(n(6)),u=m(n(4)),l=m(n(347)),c=m(n(641)),d=m(n(640)),f=m(n(711)),p=m(n(57)),h=m(n(713));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){function t(e){v(this,t);var n=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=function(e,t){var r=n.state.reminder;r[e]="time_of_day"===e?(0,u.default)("2016-01-01 "+t,"YYYY-MM-DD HH:mm").format("HH:mm"):t,n.props.onUpdate(r),n.setState({reminder:r})},n.state={reminder:e.reminder},n}return g(t,e),r(t,[{key:"getValue",value:function(){return Object.assign(this.getFormValues(),this.state.reminder)}},{key:"render",value:function(){var e=this,t=this.state.reminder,n=[{value:"email",label:i.default.trans("calendar:event.reminders.transport.email")}],r=i.default.translate("calendar","event.reminders.before_at"),o=window.CALENDAR_SETTINGS.reminders;return a.default.createElement("li",null,a.default.createElement("form",{id:"form-"+t.id},a.default.createElement(l.default,{name:"transport",options:n,defaultValue:t.transport,className:"reminder-input",onChange:function(t){e.onChange("transport",t.currentTarget.value)}}),a.default.createElement(c.default,{name:"offset",defaultValue:t.offset,className:"reminder-input",onChange:function(t){e.onChange("offset",t||"P1D")},intervalOptions:this.props.isAllDay?o.optionsAllDay.map(function(e){return{value:e,label:"interval."+e}}):o.optionsHourly.map(function(e){return{value:e,label:"interval."+e}})}),this.props.isAllDay?[a.default.createElement("div",{className:"before-label",key:"separator-"+t.id,title:r},r),a.default.createElement(d.default,{name:"time_of_day",defaultValue:(0,u.default)((0,u.default)().format("YYYY-MM-DD")+" "+t.time_of_day,"YYYY-MM-DD HH:mm"),resolution:60,onChange:function(t){e.onChange("time_of_day",t)},key:"timepicker-"+t.id})]:null,a.default.createElement("a",{onClick:this.props.removeHandler,className:"button ghost"},a.default.createElement("i",{className:"sprite-event-close"}))))}}]),t}(o.default.makeFormValues(function(e){function t(){return v(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,a["default"].Component),t}()));b.defaultProps={reminder:null};var _=function(e){function t(e){v(this,t);var n=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.remindersRefs=[],n.handleToggleEditing=function(){var e={editing:!n.state.editing};n.setState(e)},n.addNewReminderHandler=function(){var e=n.state.reminders||[];e.push({id:"rem-"+String(e.length),transport:"email",offset:n.props.allDay?"P1D":"PT10M",all_day:n.props.allDay,time_of_day:"08:00:00",tz:n.props.timezone}),n.setState({reminders:e,editing:!0},n.saveReminders)},n.removeHandler=function(e){var t=[];n.state.reminders.forEach(function(n){e!==n&&t.push(n)}),n.setState({reminders:t},n.saveReminders)},n.saveReminders=function(e){var t=n.state.reminders.map(function(e){return{id:e.id,transport:e.transport,offset:e.offset,time_of_day:n.props.allDay?e.time_of_day:null,tz:n.props.timezone,all_day:n.props.allDay}});n.props.editable?(n.props.onSave(t),e&&n.setState({editing:!1})):e&&f.default.saveEventSubscriptions(n.props.eventId,t).then(function(e){p.default.flashStatus(e.message,"success"),n.props.onSave(t),n.setState({editing:!1})}).catch(function(e){var t=void 0;e.responseText?t=JSON.parse(e.responseText):e.response&&(t=e.response),p.default.alert("",t.error.message)})},n.onUpdate=function(e){var t=n.state.reminders;t.forEach(function(n,r){n.id&&n.id==e.id&&(t[r]=e)}),n.setState({reminders:t},n.saveReminders)};var r=e.reminders?e.reminders.filter(function(t){return t.all_day==e.allDay}):[];return 0===r.length&&(r=n.readDefaultReminders(e.allDay,e.resIds)),n.state={reminders:r,editing:!1},n}return g(t,a["default"].Component),r(t,[{key:"componentWillReceiveProps",value:function(e){if(e.allDay!==this.props.allDay||e.resIds!==this.props.resIds){var t=e.reminders?e.reminders.filter(function(t){return t.all_day==e.allDay}):[];0===t.length&&(t=this.readDefaultReminders(e.allDay,e.resIds)),this.setState({reminders:t})}}},{key:"readDefaultReminders",value:function(e,t){var n=[],r=void 0,a=[];return h.default.getState().remindersPerResource.forEach(function(o,i){t.includes(i)&&o.forEach(function(t){t.all_day==e&&(r=t.transport+"-"+t.offset,e&&t.time_of_day&&(r+="-"+t.time_of_day.substr(0,5)),a[r]||(delete t.id,a[r]=t,n.push(t)))})}),n}},{key:"renderLabel",value:function(){return a.default.createElement("div",null,a.default.createElement(s.default,{message:"calendar:event.reminders.label",component:"label",className:"reminders-label print-hidden"}),a.default.createElement(s.default,{message:"calendar:event.reminders.total",params:{total:this.state.reminders.length},className:"soft-button",component:"a",onClick:this.handleToggleEditing}))}},{key:"renderFooter",value:function(){return a.default.createElement("div",{className:"footer"},a.default.createElement(s.default,{message:this.props.editable?"core_js:done":"core_js:save",component:"a",onClick:this.saveReminders,className:"button primary"}),a.default.createElement("div",null,a.default.createElement("a",{href:"https://calendar.teamup.com/kb/can-i-set-event-reminders/",target:"_blank"},a.default.createElement("i",{className:"sprite-icon-help icon-offset-normal"})),a.default.createElement("a",{onClick:this.addNewReminderHandler,className:"add-reminder-btn"},a.default.createElement("i",{className:"sprite-icon-plus-green icon-offset-normal"}),i.default.translate("calendar","event.reminders.add_reminder"))))}},{key:"renderRemindersList",value:function(){var e=this,t=this.state.reminders||[];return 0===t.length?a.default.createElement("div",{className:"reminders-editor no-reminder"},a.default.createElement("div",{className:"content"},a.default.createElement("i",{className:"sprite-illustration-flag"}),a.default.createElement(s.default,{message:"calendar:event.reminders.no_reminders_text",component:"p"})),this.renderFooter()):a.default.createElement("div",{className:"reminders-editor"},a.default.createElement("ul",null,t.map(function(t,n){return a.default.createElement(b,{reminder:t,ref:function(n){e.remindersRefs[t.id]=n},removeHandler:function(){e.removeHandler(t)},isAllDay:e.props.allDay,onUpdate:e.onUpdate,key:t.id||t.transport+"-"+t.offset+"-"+t.time_of_day+"-"+n})})),this.renderFooter())}},{key:"render",value:function(){return a.default.createElement("div",{className:"visual-input reminders "+(this.state.editing?"editing ":"")},a.default.createElement("i",{className:"sprite-event-reminders visual-input-icon"}),null!==this.state.reminders&&this.renderLabel(),this.state.editing&&this.renderRemindersList())}}]),t}();t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n(1)),o=c(n(72)),i=c(n(6)),s=c(n(142)),u=c(n(10)),l=c(n(51));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleEnabledChange=function(e){var t=n.state;t[e.target.name]=e.target.checked,n.setState(t)},n.handleVisibilityChange=function(e){n.setState({visibility:e.target.value})},n.onSave=function(){n.props.handleSave({enabled:n.state.enabled,visibility:n.state.visibility})},n.state={enabled:n.props.options.enabled,visibility:n.props.options.visibility||"all_users",error:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){var e=this;return a.default.createElement(l.default,{className:"eventsignup-options",title:"calendar:event.comments.title",yesText:"core_js:done",yesClassName:"button primary",onYes:this.onSave,noText:"core_js:help",noClassName:"button help",onNo:function(){window.open("http://calendar.teamup.com/kb/event-comments","_blank")},onClose:function(){e.props.onCancel()},onEnter:this.onSave},a.default.createElement("section",{className:"eventsignup-options__content visual-input"},a.default.createElement(o.default,{section:"calendar",message:"event.comments.enabled.label",htmlFor:"enabled",spacer:!1,fullWidth:!1},a.default.createElement(s.default,{name:"enabled",onChange:this.handleEnabledChange,defaultChecked:this.state.enabled,enabledTitle:u.default.translate("core_js","enabled"),disabledTitle:u.default.translate("core_js","disabled")}),a.default.createElement(i.default,{component:"span",message:"core_js:"+(this.state.enabled?"enabled":"disabled")})),a.default.createElement(i.default,{section:"calendar",message:"event.comments.privacy.label",component:"label"}),a.default.createElement("select",{name:"visibility",defaultValue:this.state.visibility,onChange:this.handleVisibilityChange},a.default.createElement(i.default,{key:"comments-visibility-all",value:"all_users",message:"calendar:event.comments.privacy.option_all",component:"option"}),a.default.createElement(i.default,{key:"comments-visibility-modifiers",value:"users_with_modify_permission",message:"calendar:event.comments.privacy.option_modifiers",component:"option"}))),this.state.error&&a.default.createElement("p",{className:"error-msg"},a.default.createElement("i",{className:"sprite-icon-alert"}),this.state.error))}}]),t}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(1)),o=i(n(579));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){var e=[this.props.signup&&{label:"calendar:event.options.signup",handler:this.props.onSignup,icon:"sprite-icon-event-flag"},this.props.comments&&{label:"calendar:event.options.comments",handler:this.props.onComments,icon:"sprite-icon-event-comments"}].filter(function(e){return!!e});return e.length?a.default.createElement(o.default,{icon:"sprite-icon-event-options",className:"dropdown-options-button",text:"calendar:event.editor.optionsButtonText",items:e}):null}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(1)),o=u(n(579)),i=u(n(644)),s=u(n(56));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleExport=function(t){i.default.exportTo(t,e.props.event,{appBaseUrl:window.APP_BASE_URL,timezone:s.default.getState().timezone.value,appKey:window.APP_KEY}),e.props.onExport&&e.props.onExport(t)},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){var e=this,t=i.default.getAvailableServices(s.default).map(function(t){return{label:t.label,handler:function(){return e.handleExport(t.name)},icon:t.icon}});return t.length?a.default.createElement(o.default,{icon:"sprite-event-share",className:"export-menu",text:"calendar:event.editor.exportButtonText",items:t}):null}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n(1)),o=h(n(72)),i=h(n(6)),s=h(n(142)),u=h(n(640)),l=h(n(348)),c=h(n(56)),d=h(n(10)),f=h(n(51)),p=h(n(4));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleToggleBtn=function(e){var t={};t[e.target.name]=e.target.checked,n.setState(t)},n.onDateChange=function(e){n.setState({deadline:(0,p.default)(e.format("YYYY-MM-DD")+" "+n.state.deadline.format("HH:mm:ss"))})},n.onTimeChange=function(e){var t=e.match(/^(\d+):(\d+)/);t&&n.setState({deadline:n.state.deadline.clone().hours(parseInt(t[1])).minutes(parseInt(t[2]))})},n.onVisibilityChange=function(e){n.setState({visibility:e.target.value})},n.onLimitChange=function(e){n.setState({limit:+e.target.value})},n.onShowLimitChange=function(e){n.setState({limit:e.target.checked?10:0,showLimit:e.target.checked})},n.onSave=function(){n.props.handleSave({enabled:n.state.enabled,deadline:n.state.deadline.clone().format("YYYY-MM-DDTHH:mm:ss"),visibility:n.state.visibility,limit:n.state.limit})};var r=n.props.options;return n.state={enabled:r.enabled,deadline:r.deadline?(0,p.default)(r.deadline):(0,p.default)(),visibility:r.visibility||"users_with_modify_permission",limit:r.limit||0,showLimit:r.limit>0,error:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){var e=this;return a.default.createElement(f.default,{className:"eventsignup-options",title:"calendar:event.signup.title",yesText:"core_js:done",yesClassName:"button primary",onYes:this.onSave,noText:"core_js:help",noClassName:"button help",onNo:function(){window.open("https://calendar.teamup.com/kb/signup-for-an-event/","_blank")},onClose:function(){e.props.onCancel()},onEnter:this.onSave},a.default.createElement("section",{className:"eventsignup-options__content visual-input"},a.default.createElement(o.default,{section:"calendar",message:"calendar:event.signup.enabled.label",htmlFor:"enabled",spacer:!1,fullWidth:!1},a.default.createElement(s.default,{name:"enabled",onChange:this.handleToggleBtn,defaultChecked:this.state.enabled,enabledTitle:d.default.translate("core_js","enabled"),disabledTitle:d.default.translate("core_js","disabled")}),a.default.createElement(i.default,{component:"span",message:"core_js:"+(this.state.enabled?"enabled":"disabled")})),a.default.createElement(o.default,{section:"calendar",message:"calendar:event.signup.deadline",htmlFor:"deadline_dt",spacer:!1,fullWidth:!1},a.default.createElement(l.default,{name:"deadline_dt",defaultValue:this.state.deadline,weekStart:c.default.getState().datetime.weekStart,onChange:this.onDateChange}),a.default.createElement(u.default,{name:"deadline_tm",defaultValue:this.state.deadline,resolution:15,onChange:this.onTimeChange})),a.default.createElement(o.default,{section:"calendar",message:"calendar:event.signup.limit",htmlFor:"limit",spacer:!1,fullWidth:!1},a.default.createElement(s.default,{name:"limit_enabled",defaultChecked:this.state.limit>0,onChange:this.onShowLimitChange,enabledTitle:d.default.translate("core_js","enabled"),disabledTitle:d.default.translate("core_js","disabled")}),this.state.showLimit&&a.default.createElement("input",{type:"number",min:"1",step:"1",id:"limit",value:""+this.state.limit,onChange:this.onLimitChange})),a.default.createElement(i.default,{message:"calendar:event.signup.visibility_label",htmlFor:"visibility",component:"label"}),a.default.createElement("select",{name:"visibility",defaultValue:this.state.visibility,onChange:this.onVisibilityChange},a.default.createElement(i.default,{component:"option",message:"calendar:event.comments.privacy.option_all",value:"all_users"}),a.default.createElement(i.default,{component:"option",message:"calendar:event.comments.privacy.option_modifiers",value:"users_with_modify_permission"}))),this.state.error&&a.default.createElement("p",{className:"error-msg"},a.default.createElement("i",{className:"sprite-icon-alert"}),this.state.error))}}]),t}();t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}var i=o(n(10)).default.partial("calendar"),s=["SU","MO","TU","WE","TH","FR","SA"],u=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.frequency=null,this.count=null,this.until=null,this.interval=1,this.byDay=null,this.byDayWeekdays=null,this.byDayNthWeekday=null,this.byMonthDay=null,this.byMonth=null,this.rule=t,t){var n,r,a,o,i=0;for(r=(n=t.split(";")).length;i<r;i++)if("FREQ"===(a=n[i].split("="))[0]){this.frequency=a[1];break}for(i=0;i<r;i++)switch(o=(a=n[i].split("="))[1],a[0]){case"INTERVAL":this.interval=parseInt(o,10);break;case"COUNT":this.setCount(parseInt(o,10));break;case"UNTIL":this.setUntil(o);break;case"BYDAY":this.setByDay(o);break;case"BYMONTHDAY":this.setByMonthDay(parseInt(o,10));break;case"BYMONTH":this.byMonth=parseInt(o,10)}}}return r(e,[{key:"getRule",value:function(){var e=[];return this.frequency?(e.push("FREQ="+this.frequency),1!==this.interval&&e.push("INTERVAL="+this.interval),this.byDay&&e.push("BYDAY="+this.byDay),this.byMonthDay&&e.push("BYMONTHDAY="+this.byMonthDay),this.byMonth&&e.push("BYMONTH="+this.byMonth),this.count&&e.push("COUNT="+this.count),this.until&&e.push("UNTIL="+this.until.format("YYYYMMDD")+"T235959Z"),e.join(";")+";"):""}},{key:"getDescription",value:function(e){var t=[],n="";return this.frequency&&this.frequency.length>0&&(n=this.frequency.substr(0,1).toUpperCase()+this.frequency.substr(1).toLowerCase()),e=(0,a.default)(e),n&&this["getDescription"+n]&&this["getDescription"+n](t,e),this.getDescriptionCount(t,e),this.getDescriptionUntil(t,e),t.join("")}},{key:"setCount",value:function(e){this.until=null,this.count=e}},{key:"setUntil",value:function(e){this.count=this.until=null,this.until=(0,a.default)(e.substring(0,15))}},{key:"setByDay",value:function(e){if(this.byMonthDay=null,this.byDayWeekdays=null,this.byDayNthWeekday=null,"string"==typeof e){this.byDay=e;var t=parseInt(e,10);isNaN(t)?this.byDayWeekdays=e.split(","):this.byDayNthWeekday=-1===t?{number:t,weekday:e.substr(2,2)}:{number:t,weekday:e.substr(1,2)}}else Array.isArray(e)?(this.byDay=e.join(","),this.byDayWeekdays=e):e instanceof Object&&void 0!==e.number&&void 0!==e.weekday&&(this.byDay=e.number+e.weekday,this.byDayNthWeekday=e)}},{key:"setByMonthDay",value:function(e){this.byDay=null,this.byDayWeekdays=null,this.byDayNthWeekday=null,this.byMonthDay=e}},{key:"getDescriptionDaily",value:function(e,t){1===this.interval?e.push(i("recurrence.rule.frequency.daily")):e.push(i("recurrence.rule.every")," ",this.interval.toString()," ",i("recurrence.rule.days"))}},{key:"getDescriptionWeekly",value:function(t,n){if(1===this.interval?t.push(i("recurrence.rule.frequency.weekly")):t.push(i("recurrence.rule.every")," ",this.interval.toString()," ",i("recurrence.rule.weeks")),this.byDayWeekdays){var r=this.byDayWeekdays.length;t.push(" ",i("recurrence.rule.on")," ");for(var a=0;a<r;a++)a>0&&a<r-1?t.push(", "):r>1&&a===r-1&&t.push(" ",i("recurrence.rule.and")," "),r>2?t.push(e.getShortDay(this.byDayWeekdays[a])):t.push(e.getLongDay(this.byDayWeekdays[a]))}else n&&t.push(" ",i("recurrence.rule.on")," ",e.getLongDay(n.day()))}},{key:"getDescriptionWeekdays",value:function(e,t){1===this.interval?e.push(i("recurrence.rule.frequency.weekdays")):e.push(i("recurrence.rule.every")," ",this.interval.toString()," ",i("recurrence.rule.weekdays"))}},{key:"getDescriptionMonthly",value:function(t,n){1===this.interval?t.push(i("recurrence.rule.frequency.monthly")):t.push(i("recurrence.rule.every")," ",this.interval.toString()," ",i("recurrence.rule.months")),null!==this.byMonthDay&&this.byMonthDay>0?t.push(" "+i("recurrence.rule.onDay")+" "+this.byMonthDay+i("recurrence.rule.onDayPostfix")):null!==this.byMonthDay&&-1===this.byMonthDay?t.push(" "+i("recurrence.rule.onTheLastDay")):this.byDayNthWeekday&&(this.byDayNthWeekday.number>0?t.push(" ",i("recurrence.rule.onThe")," ",i("recurrence.rule.ordinals."+this.byDayNthWeekday.number)," ",e.getLongDay(this.byDayNthWeekday.weekday)):t.push(" "+i("recurrence.rule.onTheLast")+" "+e.getLongDay(this.byDayNthWeekday.weekday)))}},{key:"getDescriptionYearly",value:function(t,n){1===this.interval?t.push(i("recurrence.rule.frequency.yearly")):t.push(i("recurrence.rule.every")," ",this.interval.toString()," ",i("recurrence.rule.years")),n&&(-1===this.byMonthDay?t.push(" ",i("recurrence.rule.onTheLastDay")," ",i("recurrence.rule.of")," ",n.format("MMMM")):this.byDayNthWeekday?this.byDayNthWeekday.number>0?t.push(" ",i("recurrence.rule.onThe")," ",i("recurrence.rule.ordinals."+this.byDayNthWeekday.number)," ",e.getLongDay(this.byDayNthWeekday.weekday)," ",i("recurrence.rule.of")," ",n.format("MMMM")):t.push(" ",i("recurrence.rule.onTheLast")," ",e.getLongDay(this.byDayNthWeekday.weekday)," ",i("recurrence.rule.of")," ",n.format("MMMM")):t.push(" ",i("recurrence.rule.on")," ",n.format(i("recurrence.rule.monthDayFormatMoment"))))}},{key:"getDescriptionCount",value:function(e,t){this.count&&e.push(", ",this.count.toString()," ",1===this.count?i("recurrence.rule.time"):i("recurrence.rule.times"))}},{key:"getDescriptionUntil",value:function(e,t){this.until&&e.push(", ",i("recurrence.rule.until")," ",this.until.format(i("recurrence.rule.untilFormatMoment")))}}],[{key:"getShortDay",value:function(e){return"string"==typeof e&&(e=s.indexOf(e)),a.default.weekdaysShort()[e]}},{key:"getLongDay",value:function(e){return"string"==typeof e&&(e=s.indexOf(e)),a.default.weekdays()[e]}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n(1)),o=h(n(45)),i=h(n(10)),s=n(731),u=h(n(6)),l=h(n(56)),c=h(n(348)),d=h(n(59)),f=h(n(4)),p=h(n(890));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=i.default.partial("calendar"),b=["DAILY","WEEKDAYS","WEEKLY","MONTHLY","YEARLY"],_=["SU","MO","TU","WE","TH","FR","SA"];function w(e,t){for(var n=0,r=e.split(";"),a=r.length;n<a;n++)if(0===r[n].indexOf(t))return r[n];return null}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=w(e,t);if(!r)return n;var a=r.split("=")[1];return isNaN(parseInt(a,10))&&parseInt(a,10)==a?parseInt(a,10):a}var k=function(e){function t(e){m(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateValue=function(e){n.setState({value:parseInt(e.target.value,10)},n.props.onChange)},n.state={value:E(n.props.defaultValue,"INTERVAL",1)},n}return y(t,a["default"].Component),r(t,[{key:"getValue",value:function(){return this.state.value>1?"INTERVAL="+this.state.value:null}},{key:"render",value:function(){var e=o.default.get("date_year_moment");return a.default.createElement("p",null,a.default.createElement(u.default,{message:"recurrence.interval.repeatEvery",section:"calendar"})," ",a.default.createElement("input",{className:"settings__input number-input",type:"number",defaultValue:this.state.value.toString(),"aria-required":"true",min:"1",max:"999",autoComplete:"off",onChange:this.updateValue})," ",a.default.createElement(u.default,{message:"recurrence.interval."+this.props.type+(this.state.value>1?"s":""),section:"calendar"})," ",a.default.createElement(u.default,{message:"recurrence.interval.beginning",section:"calendar"})," ",this.props.dateFrom.format(e))}}]),t}(),S=function(e){function t(e){m(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=E(n.props.defaultValue,"COUNT",null),a=E(n.props.defaultValue,"UNTIL",null);return n.state={count:r||1,until:a?(0,f.default)(a.substring(0,15)):n.props.dateFrom.clone().add(5,n.props.type),selected:r?"count":a?"until":"forever"},n}return y(t,a["default"].Component),r(t,[{key:"getValue",value:function(){return"count"===this.state.selected?"COUNT="+this.state.count:"until"===this.state.selected?"UNTIL="+this.state.until.endOf("day").format("YYYYMMDDTHHmmss"):null}},{key:"renderCountOption",value:function(){var e=this;return a.default.createElement("span",null,a.default.createElement("input",{className:"settings__input number-input",type:"number",defaultValue:this.state.count.toString(),"aria-required":"true",min:"1",max:"999",autoComplete:"off",onChange:function(t){e.setState({count:parseInt(t.target.value,10)},e.props.onChange)}})," ",a.default.createElement(u.default,{message:"recurrence.duration.occurrences",section:"calendar"}))}},{key:"renderUntilOption",value:function(){var e=this;return a.default.createElement(c.default,{name:"untilDate",defaultValue:this.state.until,weekStart:l.default.getState().datetime.weekStart,minDate:this.props.dateFrom,onChange:function(t){e.setState({until:t},e.props.onChange)}})}},{key:"render",value:function(){var e=this;return a.default.createElement("div",null,a.default.createElement(u.default,{message:"recurrence.duration.andContinuing",section:"calendar"})," ",a.default.createElement("select",{onChange:function(t){e.setState({selected:t.target.value},e.props.onChange)},defaultValue:this.state.selected,className:"settings__select"},a.default.createElement(u.default,{component:"option",value:"forever",message:"recurrence.duration.forever",section:"calendar"}),a.default.createElement(u.default,{component:"option",value:"count",message:"recurrence.duration.forText",section:"calendar"}),a.default.createElement(u.default,{component:"option",value:"until",message:"recurrence.duration.until",section:"calendar"}))," ","count"===this.state.selected?this.renderCountOption():null,"until"===this.state.selected?this.renderUntilOption():null)}}]),t}(),O=function(e){function t(e){m(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateValue=function(e){var t=n.state.values;e.target.checked?(t.push(e.target.value),t.sort(function(e,t){return _.indexOf(e)-_.indexOf(t)})):t.splice(t.indexOf(e.target.value),1),n.setState({values:t},n.props.onChange)},n.state={values:E(n.props.defaultValue,"BYDAY",n.getDefaultValue()).split(",")},n}return y(t,a["default"].Component),r(t,[{key:"getValue",value:function(){return"BYDAY="+(this.state.values.join(",")||this.getDefaultValue())}},{key:"getDayValue",value:function(e){return _[e]}},{key:"getDefaultValue",value:function(){return this.getDayValue(parseInt(this.props.dateFrom.format("d"),10))}},{key:"renderBoxes",value:function(){for(var e=[],t=l.default.getState().datetime.weekStart,n=0;n<7;n++){var r=this.getDayValue(t);e.push(a.default.createElement("label",{key:"DAY_"+r,className:"checkbox-label"},a.default.createElement("input",{type:"checkbox",value:r,onChange:this.updateValue,defaultChecked:-1!==this.state.values.indexOf(r)}),a.default.createElement("span",null,p.default.getShortDay(r)))),t=6===t?0:t+1}return e}},{key:"render",value:function(){return a.default.createElement("p",null,a.default.createElement(u.default,{message:"recurrence.weekly.on",section:"calendar"})," ",this.renderBoxes())}}]),t}(),C=function(e){function t(e){m(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.select=null;var r=[];r.push(w(n.props.defaultValue,"BYMONTH")),r.push(w(n.props.defaultValue,"BYDAY")),r.push(w(n.props.defaultValue,"BYMONTHDAY"));var a=r.filter(function(e){return!!e}).join(";");return n.state={value:a},n}return y(t,a["default"].Component),r(t,[{key:"getValue",value:function(){return this.select&&this.select.value||null}},{key:"renderOption",value:function(e,t){return this.props.isYearly&&(e+=" "+g("recurrence.monthly.inText")+" "+this.props.dateFrom.format("MMMM")),a.default.createElement("option",{key:"opt_"+t,value:t},e)}},{key:"render",value:function(){var e=this,t=this.props.dateFrom.clone().endOf("month").date(),n=this.props.dateFrom.date(),r=Math.ceil(n/7),o=_[this.props.dateFrom.day()],i=this.props.isYearly?"BYMONTH="+this.props.dateFrom.format("M"):"",s=this.props.isYearly?";":"",l=[this.renderOption(this.props.dateFrom.format(g("recurrence.monthly.monthDayDateFormatMoment"))+" "+g("recurrence.monthly.day"),""),this.renderOption((0,f.default)("2000-01-0"+r).format(g("recurrence.monthly.monthDayDateFormatMoment"))+" "+this.props.dateFrom.format("dddd"),i+s+"BYDAY="+r+o)];return t-n<7&&l.push(this.renderOption(g("recurrence.monthly.last")+" "+this.props.dateFrom.format("dddd"),i+s+"BYDAY=-1"+o)),t===n&&l.push(this.renderOption(g("recurrence.monthly.lastDay"),i+s+"BYMONTHDAY=-1")),a.default.createElement("p",null,a.default.createElement(u.default,{message:"recurrence.monthly.onThe",section:"calendar"})," ",a.default.createElement("select",{ref:function(t){e.select=t},className:"settings__select",defaultValue:this.state.value,onChange:this.props.onChange},l)," ",a.default.createElement(u.default,{message:"recurrence.monthly.ofEach",section:"calendar"})," ",a.default.createElement(u.default,{message:"recurrence.monthly."+(this.props.isYearly?"year":"month"),section:"calendar"}))}}]),t}();C.defaultProps={isYearly:!1};var D=function(e){function t(e){m(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.frequency=null,n.until=null,n.options=null,n.recurs=null,n.handleTabSwitch=function(e){n.setState({frequency:e},n.handleRRuleUpdate)},n.handleToggleEditing=function(){var e={editing:!n.state.editing,recurring:!0},t=void 0;n.recurs&&!n.recurs.getValue()?(e.editing=!1,e.recurring=!1):n.state.editing?e.rrule=n.computeValue():n.state.editing||n.state.rrule||(t=n.handleRRuleUpdate),n.setState(e,t)},n.handleRRuleUpdate=function(){n.setState({rrule:n.computeValue()})};var r=E(n.props.defaultValue,"FREQ","DAILY");return"WEEKLY"===r&&"MO,TU,WE,TH,FR"===E(n.props.defaultValue,"BYDAY","")&&(r="WEEKDAYS"),n.state={frequency:b.indexOf(r),recurring:!!n.props.defaultValue,editing:!1,rrule:n.props.defaultValue},n}return y(t,a["default"].Component),r(t,[{key:"componentDidUpdate",value:function(e){e.dateFrom.isSame(this.props.dateFrom)&&e.recurrenceStartDate.isSame(this.props.recurrenceStartDate)||this.handleRRuleUpdate()}},{key:"getValue",value:function(){return this.state.recurring?this.state.rrule:null}},{key:"computeValue",value:function(){var e=["FREQ="+b[this.state.frequency]];return"FREQ=WEEKDAYS"===e[0]&&(e[0]="FREQ=WEEKLY",e.push("BYDAY=MO,TU,WE,TH,FR")),this.frequency&&e.push(this.frequency.getValue()),this.until&&e.push(this.until.getValue()),this.options&&e.push(this.options.getValue()),e.filter(function(e){return!!e}).join(";")}},{key:"renderFooter",value:function(){var e=this.props.timezone;return a.default.createElement("div",null,a.default.createElement(u.default,{message:"core_js:done",component:"a",onClick:this.handleToggleEditing,className:"button primary"}),e&&a.default.createElement("span",{className:"timezone-display"},a.default.createElement(u.default,{message:"calendar:timezone.timezoneLabelText"}),": "+e))}},{key:"renderForm",value:function(){var e=this;return a.default.createElement("div",{className:"recurrence-editor"},a.default.createElement(s.Tabs,{onSelect:this.handleTabSwitch,selectedIndex:this.state.frequency},a.default.createElement(s.TabList,null,a.default.createElement(s.Tab,null,a.default.createElement(u.default,{message:"calendar:recurrence.rule.frequencyName.daily"})),a.default.createElement(s.Tab,null,a.default.createElement(u.default,{message:"calendar:recurrence.rule.frequencyName.weekdays"})),a.default.createElement(s.Tab,null,a.default.createElement(u.default,{message:"calendar:recurrence.rule.frequencyName.weekly"})),a.default.createElement(s.Tab,null,a.default.createElement(u.default,{message:"calendar:recurrence.rule.frequencyName.monthly"})),a.default.createElement(s.Tab,null,a.default.createElement(u.default,{message:"calendar:recurrence.rule.frequencyName.yearly"}))),a.default.createElement(s.TabPanel,null,a.default.createElement(k,{onChange:this.handleRRuleUpdate,ref:function(t){e.frequency=t},defaultValue:this.state.rrule,type:"day",dateFrom:this.props.recurrenceStartDate}),a.default.createElement(S,{onChange:this.handleRRuleUpdate,ref:function(t){e.until=t},defaultValue:this.state.rrule,type:"day",dateFrom:this.props.recurrenceStartDate}),this.renderFooter()),a.default.createElement(s.TabPanel,null,a.default.createElement(k,{onChange:this.handleRRuleUpdate,ref:function(t){e.frequency=t},defaultValue:this.state.rrule,type:"week",dateFrom:this.props.recurrenceStartDate}),a.default.createElement(S,{onChange:this.handleRRuleUpdate,ref:function(t){e.until=t},defaultValue:this.state.rrule,type:"week",dateFrom:this.props.recurrenceStartDate}),this.renderFooter()),a.default.createElement(s.TabPanel,null,a.default.createElement(k,{onChange:this.handleRRuleUpdate,ref:function(t){e.frequency=t},defaultValue:this.state.rrule,type:"week",dateFrom:this.props.recurrenceStartDate}),a.default.createElement(O,{onChange:this.handleRRuleUpdate,ref:function(t){e.options=t},defaultValue:this.state.rrule,dateFrom:this.props.dateFrom}),a.default.createElement(S,{onChange:this.handleRRuleUpdate,ref:function(t){e.until=t},defaultValue:this.state.rrule,type:"week",dateFrom:this.props.recurrenceStartDate}),this.renderFooter()),a.default.createElement(s.TabPanel,null,a.default.createElement(k,{onChange:this.handleRRuleUpdate,ref:function(t){e.frequency=t},defaultValue:this.state.rrule,type:"month",dateFrom:this.props.recurrenceStartDate}),a.default.createElement(C,{onChange:this.handleRRuleUpdate,ref:function(t){e.options=t},defaultValue:this.state.rrule,dateFrom:this.props.dateFrom}),a.default.createElement(S,{onChange:this.handleRRuleUpdate,ref:function(t){e.until=t},defaultValue:this.state.rrule,type:"month",dateFrom:this.props.recurrenceStartDate}),this.renderFooter()),a.default.createElement(s.TabPanel,null,a.default.createElement(k,{onChange:this.handleRRuleUpdate,ref:function(t){e.frequency=t},defaultValue:this.state.rrule,type:"year",dateFrom:this.props.recurrenceStartDate}),a.default.createElement(C,{onChange:this.handleRRuleUpdate,ref:function(t){e.options=t},defaultValue:this.state.rrule,dateFrom:this.props.dateFrom,isYearly:!0}),a.default.createElement(S,{onChange:this.handleRRuleUpdate,ref:function(t){e.until=t},defaultValue:this.state.rrule,type:"year",dateFrom:this.props.recurrenceStartDate}),this.renderFooter())))}},{key:"renderPrettyRRule",value:function(){var e=this;if(this.state.recurring){var t=new p.default(this.getValue());return a.default.createElement("div",null,a.default.createElement("label",{className:"recurrence-label"},this.props.editable&&a.default.createElement(d.default,{ref:function(t){e.recurs=t},type:"checkbox",onChange:this.handleToggleEditing,name:"recurs",defaultValue:!0}),a.default.createElement(u.default,{message:"calendar:recurrence.repeats"})),this.props.editable?a.default.createElement("a",{onClick:this.handleToggleEditing,className:"soft-button recurrence-value"},t.getDescription(this.props.dateFrom)):a.default.createElement("span",{className:"recurrence-value"},t.getDescription(this.props.dateFrom)))}return this.props.editable?a.default.createElement("div",null,a.default.createElement("label",{className:"recurrence-label print-hidden"},a.default.createElement(d.default,{ref:function(t){e.recurs=t},type:"checkbox",onChange:this.handleToggleEditing,name:"recurs",defaultValue:!1}),a.default.createElement(u.default,{message:"calendar:recurrence.repeats"})),a.default.createElement("span",{className:"recurrence-value"}," ")):null}},{key:"render",value:function(){return a.default.createElement("div",{className:"visual-input recurrence "+(this.state.editing?"editing ":"")+(this.state.recurring?"is-recurring":"")},this.renderPrettyRRule(),this.state.editing?this.renderForm():a.default.createElement("div",{style:{display:"none"}},this.renderForm()))}}]),t}();t.default=D},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(1)),o=u(n(10)),i=u(n(74)),s=u(n(580));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleLangUpdate=function(){n.forceUpdate()},n.onChange=function(e){return n.setState({contents:e})},n.setupTinyMCE=function(e){e.on("focus",function(){n.setState({editing:!0})}),e.on("blur",function(){n.setState({editing:!1})})},n.state={editing:!1,contents:n.props.defaultValue||""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"componentDidMount",value:function(){i.default.listen(this.handleLangUpdate)}},{key:"componentWillUnmount",value:function(){i.default.unlisten(this.handleLangUpdate)}},{key:"getValue",value:function(){return this.state.contents}},{key:"render",value:function(){var e=this.props.id||this.props.name,t=this.props.placeholder,n=this.props.label;return t&&(t=o.default.trans(t)),this.props.translate&&n&&(n=o.default.trans(n)),this.props.required&&this.props.editable&&(n=o.default.translate("core_js","required_field_label",{label:n})),a.default.createElement("div",{className:"wysiwyg visual-input "+(this.state.editing?"editing":"")},this.props.icon,n&&a.default.createElement("label",{htmlFor:e},n),this.props.editable?a.default.createElement("div",null,a.default.createElement("div",{className:"print-hidden "+(this.state.editing?"tinymce-editing":"tinymce-reading")+(this.props.required?" required":"")},a.default.createElement(s.default,{onInit:this.setupTinyMCE,autoFocus:!1,id:this.props.id,onChange:this.onChange,editorType:this.props.editorType,defaultValue:this.state.contents,placeholder:this.props.placeholder}),a.default.createElement("input",{type:"hidden",name:this.props.name,value:this.state.contents})),a.default.createElement("div",{className:"preview readonly print-only",dangerouslySetInnerHTML:{__html:this.state.contents}})):a.default.createElement("div",{className:"preview readonly",dangerouslySetInnerHTML:{__html:this.state.contents}}))}}]),t}();t.default=l,l.defaultProps={editorType:"event",placeholder:"",label:"",translate:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n(1)),o=p(n(6)),i=p(n(45)),s=p(n(59)),u=p(n(4)),l=p(n(640)),c=p(n(348)),d=p(n(56)),f=n(137);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dateFromPicker=null,n.dateToPicker=null,n.onAllDayChange=function(e){var t={allDay:!n.state.allDay};t.allDay?(t.dateFrom=n.state.dateFrom.clone().startOf("day"),t.dateTo=n.state.dateTo.clone().endOf("day").subtract(59,"seconds").millisecond(0)):(t.dateFrom=n.state.dateFrom.clone().set((0,f.selectProps)(n.props.defaultDateFrom.toObject(),["hours","minutes","seconds"])).millisecond(0),t.dateTo=n.state.dateTo.clone().set((0,f.selectProps)(n.props.defaultDateTo.toObject(),["hours","minutes","seconds"])).millisecond(0),t.dateFrom.isSame(t.dateFrom.clone().startOf("day"))&&t.dateTo.isSameOrAfter(t.dateTo.clone().endOf("day").subtract(59,"seconds").millisecond(0))&&(t.dateFrom=t.dateFrom.clone().startOf("day").hours(12),t.dateTo=t.dateTo.clone().startOf("day").hours(12).add(30===n.props.resolution?60:n.props.resolution,"minutes"))),n.setState(t)},n.onFromDateChange=function(e){n.updateFromDate((0,u.default)(e.format("YYYY-MM-DD")+" "+n.state.dateFrom.format("HH:mm:ss")))},n.onToDateChange=function(e){n.setState({dateTo:(0,u.default)(e.format("YYYY-MM-DD")+" "+n.state.dateTo.format("HH:mm:ss"))})},n.setDatePickerReference=function(e,t){n["date"+t+"Picker"]=e},n.onFromTimeChange=function(e){var t=e.match(/^(\d+):(\d+)/);n.updateFromDate(n.state.dateFrom.clone().hours(parseInt(t[1],10)).minutes(parseInt(t[2],10)))},n.onToTimeChange=function(e){var t=e.match(/^(\d+):(\d+)/);n.setState({dateTo:n.state.dateTo.clone().hours(parseInt(t[1],10)).minutes(parseInt(t[2],10))})},n.state={allDay:n.props.defaultAllDay,dateFrom:n.props.defaultDateFrom.clone(),dateTo:n.props.defaultDateTo.clone()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"getValue",value:function(){return{allDay:this.state.allDay,dateFrom:this.state.dateFrom.clone(),dateTo:this.state.dateTo.clone()}}},{key:"componentDidUpdate",value:function(e,t){!this.props.onChange||t.allDay===this.state.allDay&&t.dateFrom.isSame(this.state.dateFrom)&&t.dateTo.isSame(this.state.dateTo)||this.props.onChange()}},{key:"updateFromDate",value:function(e){var t=e.diff(this.state.dateFrom,"minutes"),n=this.state.dateTo.clone().add(t,"minutes");0!=t&&this.dateToPicker&&(this.dateToPicker.setMinDate(e),this.dateToPicker.setValue(n.clone())),this.setState({dateFrom:e,dateTo:n})}},{key:"renderDatePicker",value:function(e){var t=this;return a.default.createElement(c.default,{name:"date"+e,ref:function(n){t.setDatePickerReference(n,e)},defaultValue:this.state["date"+e],weekStart:d.default.getState().datetime.weekStart,minDate:"To"===e?this.state.dateFrom:void 0,onChange:this["on"+e+"DateChange"]})}},{key:"renderTimePicker",value:function(e){var t=void 0;return"To"===e&&this.state.dateFrom.isSame(this.state.dateTo,"day")&&(t=this.state.dateFrom),a.default.createElement(l.default,{defaultValue:this.state["date"+e],resolution:Math.min(15,this.props.resolution),startDateTime:t,onChange:this["on"+e+"TimeChange"]})}},{key:"render",value:function(){return this.props.editable?a.default.createElement("div",{className:"visual-input datepicker editable"},a.default.createElement("div",null,a.default.createElement("i",{className:"sprite-event-time visual-input-icon"}),a.default.createElement("time",{dateTime:this.state.dateFrom.format(),className:"value date-readonly-value print-only"},i.default.renderShortTime(this.state.dateFrom,this.state.dateTo,this.state.allDay)),a.default.createElement(o.default,{component:"label",className:"date-label",message:"calendar:event.editor.fromLabelText"}),a.default.createElement("div",{className:"value date-from-value"},this.renderDatePicker("From"),this.state.allDay?null:this.renderTimePicker("From")),a.default.createElement("br",null),a.default.createElement(o.default,{component:"label",className:"date-label",message:"calendar:event.editor.toLabelText"}),a.default.createElement("div",{className:"value date-to-value"},this.renderDatePicker("To"),this.state.allDay?null:this.renderTimePicker("To"))),a.default.createElement("div",null,a.default.createElement("label",{className:"all-day-label "+(this.state.allDay?"":"print-hidden")},a.default.createElement(s.default,{ref:"allDay",type:"checkbox",onChange:this.onAllDayChange,name:"all_day",defaultValue:this.state.allDay}),a.default.createElement(o.default,{message:"calendar:event.editor.allDay"})),this.props.children)):a.default.createElement("div",{className:"visual-input readonly datepicker"},a.default.createElement("div",null,a.default.createElement("i",{className:"sprite-event-time visual-input-icon"}),a.default.createElement("time",{dateTime:this.state.dateFrom.format(),className:"value date-readonly-value"},i.default.renderShortTime(this.state.dateFrom,this.state.dateTo,this.state.allDay))),a.default.createElement("div",null,this.props.children))}}]),t}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(1)),o=u(n(6)),i=u(n(10)),s=u(n(74));function u(e){return e&&e.__esModule?e:{default:e}}var l=0===(0,u(n(432)).default)().browser.name.indexOf("IE"),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.ref=null,n.updateTimeout=null,n.handleLangUpdate=function(){n.forceUpdate()},n.handleKeyDown=function(e){13==e.keyCode&&e.preventDefault()},n.handleChange=function(){n.updateTimeout||(n.updateTimeout=window.setTimeout(function(){n.ref&&(n.ref.style.height="auto",n.ref.style.height=n.ref.scrollHeight+2+"px",n.updateTimeout=null)},l?200:80))},n.onFocus=function(e){n.props.editable&&!n.state.editing&&n.setState({editing:!0})},n.onBlur=function(e){n.state.editing&&n.setState({editing:!1})},n.state={editing:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"componentDidMount",value:function(){s.default.listen(this.handleLangUpdate)}},{key:"componentWillUnmount",value:function(){s.default.unlisten(this.handleLangUpdate)}},{key:"getValue",value:function(){return this.props.editable&&this.ref?this.ref.value:this.props.defaultValue}},{key:"focus",value:function(){this.ref&&this.ref.focus()}},{key:"getInput",value:function(){return this.ref}},{key:"renderValue",value:function(e){var t=this;if(!this.props.editable){var n=this.props.defaultValue;return""==n&&this.props.readonlyPlaceholder&&(n=a.default.createElement(o.default,{message:this.props.readonlyPlaceholder})),a.default.createElement("p",{className:"textarea readonly"},n)}var r="textarea";""==this.props.defaultValue&&(r+=" is-placeholder");var s=this.props.placeholder;return this.props.translate&&s&&(s=i.default.trans(s)),a.default.createElement("textarea",{ref:function(e){t.ref=e,t.handleChange()},id:e,onKeyDown:this.handleKeyDown,onInput:this.handleChange,onFocus:this.onFocus,onBlur:this.onBlur,name:this.props.name,className:r,placeholder:s,rows:1,defaultValue:this.props.defaultValue,maxLength:this.props.maxLength,required:this.props.required})}},{key:"render",value:function(){var e=this.props.id||this.props.name,t=this.props.label;return this.props.translate&&t&&(t=i.default.trans(t)),this.props.required&&this.props.editable&&(t=i.default.translate("core_js","required_field_label",{label:t})),a.default.createElement("div",{className:"visual-input "+(this.state.editing?"editing ":"")+(this.props.className||"")},this.props.icon&&a.default.createElement("i",{className:this.props.icon+" visual-input-icon"}),t?a.default.createElement("label",{htmlFor:e},t):null,this.props.children,a.default.createElement("div",{className:"value"},this.renderValue(e)))}}]),t}();t.default=c,c.defaultProps={placeholder:"",label:"",translate:!0,required:!1}},function(e,t,n){var r=n(208);e.exports=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,o=e==e,i=r(e),s=void 0!==t,u=null===t,l=t==t,c=r(t);if(!u&&!c&&!i&&e>t||i&&s&&l&&!u&&!c||a&&s&&l||!n&&l||!o)return 1;if(!a&&!i&&!c&&e<t||c&&n&&o&&!a&&!i||u&&n&&o||!s&&o||!l)return-1}return 0}},function(e,t,n){var r=n(895);e.exports=function(e,t,n){for(var a=-1,o=e.criteria,i=t.criteria,s=o.length,u=n.length;++a<s;){var l=r(o[a],i[a]);if(l)return a>=u?l:l*("desc"==n[a]?-1:1)}return e.index-t.index}},function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},function(e,t,n){var r=n(728),a=n(92);e.exports=function(e,t){var n=-1,o=a(e)?Array(e.length):[];return r(e,function(e,r,a){o[++n]=t(e,r,a)}),o}},function(e,t,n){var r=n(181),a=n(649),o=n(898),i=n(897),s=n(93),u=n(896),l=n(180);e.exports=function(e,t,n){var c=-1;t=r(t.length?t:[l],s(a));var d=o(e,function(e,n,a){return{criteria:r(t,function(t){return t(e)}),index:++c,value:e}});return i(d,function(e,t){return u(e,t,n)})}},function(e,t,n){var r=n(81),a=n(210),o=n(50),i=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||a(e)||!!(i&&e&&e[i])}},function(e,t,n){var r=n(201),a=n(900);e.exports=function e(t,n,o,i,s){var u=-1,l=t.length;for(o||(o=a),s||(s=[]);++u<l;){var c=t[u];n>0&&o(c)?n>1?e(c,n-1,o,i,s):r(s,c):i||(s[s.length]=c)}return s}},function(e,t,n){var r=n(901),a=n(899),o=n(441),i=n(645),s=o(function(e,t){if(null==e)return[];var n=t.length;return n>1&&i(e,t[0],t[1])?t=[]:n>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])});e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=H(n(902)),a=H(n(44)),o=H(n(218)),i=H(n(97)),s=H(n(435)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=H(n(1)),c=H(n(32)),d=H(n(666)),f=H(n(51)),p=H(n(91)),h=H(n(219)),m=H(n(216)),v=H(n(56)),y=H(n(57)),g=H(n(207)),b=H(n(6)),_=H(n(894)),w=H(n(893)),E=H(n(892)),k=H(n(726)),S=H(n(891)),O=H(n(647)),C=H(n(663)),D=H(n(889)),T=H(n(888)),M=H(n(887)),P=H(n(886)),x=H(n(660)),j=H(n(4)),N=n(43),A=H(n(18)),R=H(n(10)),L=H(n(17)),I=H(n(434)),F=H(n(657)),Y=H(n(885)),U=H(n(449));function H(e){return e&&e.__esModule?e:{default:e}}var V=void 0,B=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.activePromises={},n.activePromiseCount=0,n.hasTabbed=!1,n.initialReminders=null,n.title=null,n.datePicker=null,n.calendarPicker=null,n.rrule=null,n.who=null,n.location=null,n.notes=null,n.custom={},n.signupsList=null,n.commentsList=null,n.reminders=null,n.toggleSidebar=function(e){e.preventDefault(),n.setState({sidebarCollapsed:!n.state.sidebarCollapsed})},n.closeSidebar=function(){n.setState({sidebarCollapsed:!0})},n.handleKeyDown=function(e){if(!document.querySelector(".modal-confirm")){var t=e.target;if(("Select-input"!==t.className&&"Select-input"!==t.parentNode.className||"true"!==t.getAttribute("aria-expanded"))&&-1===t.className.indexOf("select-widget-input")&&"flatpickr-input"!==t.className&&0!==t.className.indexOf("flatpickr-")&&"mce-textbox"!==t.className&&!t.className.match("event-signup__input")&&(27!==e.keyCode||e.defaultPrevented||(n.handleCancel(e),e.stopImmediatePropagation()),13!==e.keyCode||e.defaultPrevented||n.handleSave(),9===e.keyCode&&!n.hasTabbed)){n.hasTabbed=!0;for(var r=t,a=c.default.findDOMNode(n);r!==a;)if((r=r.parentNode)===document){e.preventDefault(),n.title.focus();break}}}},n.handleSave=function(){if(n.state.saving)console.log("Attempt to save ignored: saving already in progress");else{var e=n.getFormValues(),t=n.getEditedRecord(),r=!0;t||(r=!1,t={}),2!==n.state.hasUnsavedComment&&n.commentsList&&(n.commentsList.state.showAddCommentForm||n.commentsList.state.editingComment)?n.setState({hasUnsavedComment:1}):(r&&!n.isDirty()&&n.closeModal(),r&&n.getInitialEventData().rrule&&!e.rrule?n.setState({changedRRule:"removed"}):r&&n.getInitialEventData().rrule&&e.rrule?(n.setState({showREditPrompt:!0,reditTarget:n.doSave,editingRecurrentEvent:!0}),e.rrule!==n.getInitialEventData().rrule&&(e.comments_enabled||n.getInitialEventData().comments_enabled||e.signup_enabled||n.getInitialEventData().signup_enabled)&&n.setState({changedRRule:"changed"})):n.doSave(r,t))}},n.handleREditPick=function(e){n.state.reditTarget(!0,n.getEditedRecord(),e)},n.doSave=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=n.getFormValues(),u=!1;a.subcalendar_ids.forEach(function(e){p.default.findById(e).visible&&(u=!0)}),u||a.subcalendar_ids.forEach(function(e){var t=p.default.findById(e);t.visible||g.default.toggleResourceVisibility(t,!0)});var l=Object.assign((0,s.default)(t),a);l.custom=Object.assign((0,s.default)(t.custom||{}),a.custom),delete l.signup_public,delete l.comments_privacy,r&&(l.redit=r);var c=null!==l.rrule&&("single"===r||"future"===r);if(window.CALENDAR_SETTINGS.loggedUser&&(null!==n.state.reminders&&!(0,i.default)(n.initialReminders,n.state.reminders)||c)&&(l.reminders=c?n.state.reminders.map(function(e){return delete e.id,e}):n.state.reminders),n.setState({saving:!0}),V=(0,o.default)(a.subcalendar_ids),0===l.subcalendar_ids.length)return y.default.alert("calendar:event.editor.titleMissingSubcalendar","calendar:event.editor.textMissingSubcalendar"),void n.setState({highlightRequiredFields:!0,saving:!1});m.default.updateEvent(l).then(function(t){if(!e)return n.flushBufferedWrites(t.id)}).then(function(){n.setState({saving:!1}),n.closeModal()}).catch(function(){n.setState({highlightRequiredFields:!0,saving:!1})})},n.handleDelete=function(e){n.getInitialEventData().rrule?n.setState({showREditPrompt:!0,reditTarget:n.doDelete,editingRecurrentEvent:!1}):n.doDelete(!0,n.getEditedRecord())},n.doDelete=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r&&(t.redit=r),m.default.deleteEvent(t).then(function(){return n.closeModal()})},n.handleCancel=function(e){e.defaultPrevented||(!n.isLoading()&&n.isEditable()&&n.isDirty()?n.setState({hasUnsavedChanges:!0}):n.closeModal(),e.preventDefault(),e.stopPropagation())},n.handleDateFromToChange=function(){var e=n.datePicker.getValue();n.setState({dateFrom:e.dateFrom,allDay:e.allDay})},n.handlePrint=function(){setTimeout(function(){window.print()},0)},n.isEditable=function(){return!n.getInitialEventData().readonly},n.closeModal=function(){A.default.backToCalendar()},n.setTitleRef=function(e){!n.title&&e&&e.focus(),n.title=e},n.handleSignup=function(){n.setState({showSignupPrompt:!0,sidebarCollapsed:!0})},n.handleComments=function(){n.setState({showCommentsPrompt:!0})},n.updateSignupOptions=function(e){n.setState({showSignupPrompt:!1,signupChanged:!0,signupEnabled:e.enabled,signupDeadline:e.deadline,signupVisibility:e.visibility,signupLimit:e.limit})},n.updateCommentsOptions=function(e){n.setState({showCommentsPrompt:!1,commentsChanged:!0,commentsEnabled:e.enabled,commentsVisibility:e.visibility})},n.handleSubcalendarChange=function(e){n.setState({resIds:e})};var r=v.default.getState().fields.definitions.find(function(e){return"builtin_signup"===e.id}),a=v.default.getState().fields.definitions.find(function(e){return"builtin_comments"===e.id}),u=!!n.getEventId(),l=null,d=n.getInitialEventData();return d.subcalendar_ids&&d.subcalendar_ids.length>0&&(l=d.subcalendar_ids),n.state={sidebarCollapsed:!0,showREditPrompt:!1,changedRRule:!1,signups:[],showSignupPrompt:!1,signupChanged:!1,signupEnabled:u&&r.type_data.default_enabled&&r.active,signupDeadline:(0,j.default)(),signupVisibility:u?r.type_data.default_visibility:"users_with_modify_permission",signupLimit:u?r.type_data.default_limit:0,comments:[],showCommentsPrompt:!1,commentsChanged:!1,commentsEnabled:u&&a.type_data.default_enabled&&a.active,commentsVisibility:u?a.type_data.default_visibility:"all_users",editingRecurrentEvent:!1,highlightRequiredFields:!1,saving:!1,reminders:null,allDay:null,resIds:l,hasUnsavedComment:0,eventHistory:null,hasUnsavedChanges:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l["default"].Component),u(t,[{key:"componentDidMount",value:function(){if(document.body.addEventListener("keydown",this.handleKeyDown,!1),document.body.className+=" eventeditor-open",y.default.clear(),!this.isNewEvent()){this.loadAuxiliaryInfo();var e=this.activePromises["aux-"+this.getEventId()];this.checkForPrintMode(e||Promise.resolve())}}},{key:"componentWillReceiveProps",value:function(){var e=document.location.pathname;this.state.lastRouterPath!==e&&(this.setState({lastRouterPath:e,eventHistory:null}),this.hasTabbed=!1,y.default.clear())}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("keydown",this.handleKeyDown,!1),document.body.className=document.body.className.replace(/ eventeditor-open/g,"")}},{key:"checkForPrintMode",value:function(e){var t=this;this.props.match.path===A.default.getRawPath("print_event")&&e.then(function(){0==t.activePromiseCount&&setTimeout(t.handlePrint,100)})}},{key:"flushBufferedWrites",value:function(e){var t=new Promise(function(e,t){return e()});if(this.commentsList){var n=this.commentsList.flushBufferedWrites(e);t=t.then(function(){return n})}if(this.signupsList){var r=this.signupsList.flushBufferedWrites(e);t=t.then(function(){return r})}return t}},{key:"isLoading",value:function(){return"loading"===this.getEditedRecord()}},{key:"isDirty",value:function(){var e=this.getFormValues(),t=this.getInitialEventData(),n=Object.assign((0,s.default)(t),e),r=this.initialReminders,o=this.state.reminders;n.custom=Object.assign((0,s.default)(t.custom||{}),e.custom),delete t.subcalendars,delete n.subcalendars;var u=Object.keys(n).filter(function(e){var s="reminders"===e?r:t[e],u="reminders"===e?o:n[e];return(""!==s&&void 0!==s&&null!==s||""!==u&&void 0!==u&&null!==u)&&(j.default.isMoment(s)&&j.default.isMoment(u)?!s.isSame(u,"second"):(0,a.default)(s)&&(0,a.default)(u)?!(0,i.default)(s,u):"string"==typeof s&&"string"==typeof u?s.trim()!=u.trim():!(0,i.default)(s,u))});return u.length>0&&console.table,u.length>0}},{key:"getDefaultResources",value:function(){var e=p.default.getState().resources;if(V){var t=e.filter(function(e){return-1!==V.indexOf(e.id)&&!e.readonly&&e.visible}).map(function(e){return e.id});if(t.length>0)return t}var n=e.filter(function(e){return e&&!e.readonly});return 1===n.length?[n[0].id]:1===(n=e.filter(function(e){return e&&!e.readonly&&e.visible})).length?[n[0].id]:[]}},{key:"getEventId",value:function(){return this.props.match.params.event_id||null}},{key:"getEditedRecord",value:function(){var e=this,t=this.getEventId();if(t){var n;return this.activePromises["event-"+t]?"loading":(n=h.default.findById(t,!0))instanceof Promise?(this.activePromises["event-"+t]=n,this.activePromiseCount++,this.activePromises["event-"+t].then(function(n){delete e.activePromises["event-"+t],e.activePromiseCount--,n.id&&e.forceUpdate()}).catch(function(){delete e.activePromises["event-"+t],e.activePromiseCount--}),this.checkForPrintMode(this.activePromises["event-"+t]),"loading"):n||"loading"}}},{key:"getGridResolution",value:function(){return v.default.getState().grid.resolution}},{key:"getDateFromString",value:function(e){return null===/([01]?[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]/g.exec(e)?(0,j.default)(e+" 12:00:00").startOf("day"):(0,j.default)(e)}},{key:"getInitialEventData",value:function(){var e=this.props.match.params,t=L.default.getQueryParams(),n=(0,j.default)().startOf("hour"),a={title:"",start_dt:v.default.getState().datetime.currentDate.clone().minutes(n.minutes()).hours(n.hours()),end_dt:void 0,all_day:!1,rrule:"",location:"",who:"",notes:"",readonly:!1,subcalendar_ids:[],custom:{},reminders:null};if(a.timezone=v.default.getState().timezone.value,e.event_id){var o=this.getEditedRecord(),i=a.custom;(a=Object.assign(a,o)).custom=Object.assign(i,o.custom),v.default.getState().fields.definitions.forEach(function(e){if("choices"===e.type){var t=I.default.listToMap(e.type_data.options.map(function(e,t){return Object.assign({index:t},e)}));a.custom[e.id]=(0,r.default)(a.custom[e.id],function(e){return t[e].index})}}),a.start_dt=(0,j.default)(o.start_dt),a.end_dt=(0,j.default)(o.end_dt)}else{var s=this.getGridResolution();a.title=t.title||a.title,a.start_dt=this.getDateFromString(t.start_dt||a.start_dt),a.end_dt=t.end_dt?this.getDateFromString(t.end_dt):a.start_dt.clone().add(30===s?60:s,"minutes"),a.all_day=void 0!==t.all_day?1==t.all_day||"true"==t.all_day:a.all_day,a.rrule=t.rrule||a.rrule,a.location=t.location||a.location,a.who=t.who||a.who,a.notes=t.notes||a.notes,t.subcalendar_ids?a.subcalendar_ids="string"==typeof t.subcalendar_ids?t.subcalendar_ids.split(","):t.subcalendar_ids:t.subcalendars?a.subcalendar_ids="string"==typeof t.subcalendars?t.subcalendars.split(","):t.subcalendars:a.subcalendar_ids=this.getDefaultResources(),a.subcalendar_ids=a.subcalendar_ids.map(function(e){return parseInt(e,10)}),a.start_dt.isSame(a.start_dt.clone().startOf("day"))&&a.end_dt.isSameOrAfter(a.end_dt.endOf("day").subtract(59,"seconds").millisecond(0))&&(a.all_day=!0),a.all_day&&(a.start_dt.startOf("day"),a.end_dt.endOf("day").subtract(59,"seconds").millisecond(0));var u=this.getSignupDefaults(a),l=this.getCommentsDefaults();a.signup_enabled=u.enabled||null,a.signup_deadline=null,a.signup_visibility=null,a.signup_limit=null,a.comments_enabled=l.enabled||null,a.comments_visibility=l.visibility}return v.default.getState().timezone.visible||(a.timezone=""),a}},{key:"isNewEvent",value:function(){return this.props.match.path===A.default.getUrl("create_event")}},{key:"getFormValues",value:function(){var e=this,t={},n=this.getInitialEventData();return this.props.match.params.event_id&&(t.id=this.props.match.params.event_id),t.title=this.title.getValue().trim(),t.start_dt=this.datePicker.getValue().dateFrom,t.end_dt=this.datePicker.getValue().dateTo,t.all_day=this.datePicker.getValue().allDay,t.all_day&&(t.start_dt.startOf("day"),t.end_dt.endOf("day").subtract(59,"seconds").millisecond(0)),t.rrule=this.rrule.getValue()||void 0,t.location=this.location?this.location.getValue():n.location||"",t.who=this.who?this.who.getValue():n.who||"",t.notes=this.notes?this.notes.getValue():n.notes||"",t.subcalendar_ids=this.calendarPicker.getValue(),(null!==n.signup_enabled||this.state.signupChanged)&&(t.signup_enabled=this.state.signupChanged?this.state.signupEnabled:n.signup_enabled,t.signup_deadline=this.state.signupChanged?this.state.signupDeadline:n.signup_deadline,t.signup_visibility=this.state.signupChanged?this.state.signupVisibility:n.signup_visibility,t.signup_limit=this.state.signupChanged?this.state.signupLimit:n.signup_limit),(null!==n.comments_enabled||this.state.commentsChanged)&&(t.comments_enabled=this.state.commentsChanged?this.state.commentsEnabled:n.comments_enabled,t.comments_visibility=this.state.commentsChanged?this.state.commentsVisibility:n.comments_visibility),t.custom={},v.default.getState().fields.definitions.forEach(function(a){if(!a.type.match(/^builtin_/)){var o=!!e.custom[a.id],i=!o||e.custom[a.id].getValue(),s=o&&i&&i.length,u=Object.prototype.hasOwnProperty.call(n.custom,a.id),l=!u||n.custom[a.id];if(s||u)if(o){if("choices"===a.type){var c=I.default.listToMap(a.type_data.options.map(function(e,t){return Object.assign({index:t},e)}));if(u){var d=l.filter(function(e){return c[e].hidden});i=i.concat(d),1===a.type_data.max&&i.length>1&&(i=[i[0]])}i=(0,r.default)(i,function(e){return c[e].index})}t.custom[a.id]=i}else t.custom[a.id]=l}}),n.custom.company_cam_project_id&&(t.custom.company_cam_project_id=n.custom.company_cam_project_id),t}},{key:"renderCloseButton",value:function(){return l.default.createElement("a",{className:"button ghost close-icon",onClick:this.handleCancel},l.default.createElement("i",{className:"sprite-event-close"}))}},{key:"renderUnsavedChangesConfirm",value:function(){var e=this;return this.state.hasUnsavedChanges?l.default.createElement(f.default,{title:"calendar:event.editor.titleUnsavedChanges",message:"calendar:event.editor.textUnsavedChanges",yesText:"core_js:save",noText:"core_js:unsaved_changes.discard",onYes:this.handleSave,onNo:this.closeModal,onClose:function(){e.setState({hasUnsavedChanges:!1})}}):null}},{key:"renderRRuleChangeConfirm",value:function(){var e=this;return this.state.changedRRule?l.default.createElement(f.default,{title:"calendar:event.editor.titleRRuleChange",message:"calendar:event.editor.textRRuleChange",yesText:"core_js:save",noText:"core_js:unsaved_changes.discard",onYes:function(){e.setState({changedRRule:!1}),"removed"===e.state.changedRRule&&e.doSave(!0,e.getEditedRecord())},onNo:this.closeModal,onClose:function(){e.setState({changedRRule:!1})}}):null}},{key:"renderREditPrompt",value:function(){var e=this;if(this.state.showREditPrompt){var t=!1;if(this.state.editingRecurrentEvent){var n=this.getEditedRecord(),r=(0,j.default)("2017-11-07");n.rrule&&n.rrule.match(/UNTIL/)&&(n.creation_dt.isBefore(r)||n.update_dt&&n.update_dt.isBefore(r))&&(t=!0)}return l.default.createElement(O.default,{onPick:this.handleREditPick,onCancel:function(){e.setState({showREditPrompt:!1,editingRecurrentEvent:!1})},rruleUntilMessage:t})}return null}},{key:"renderSignupOptionsPrompt",value:function(){var e=this;if(this.state.showSignupPrompt){var t=this.getInitialEventData();return l.default.createElement(D.default,{options:this.initSignupOptions(t),handleSave:this.updateSignupOptions,onCancel:function(){e.setState({showSignupPrompt:!1})}})}return null}},{key:"renderCommentsOptionsPrompt",value:function(){var e=this;if(this.state.showCommentsPrompt){var t=this.getInitialEventData();return l.default.createElement(P.default,{options:this.initCommentsOptions(t),handleSave:this.updateCommentsOptions,onCancel:function(){e.setState({showCommentsPrompt:!1})}})}return null}},{key:"getSignupDefaults",value:function(e){var t=v.default.getState().fields.definitions.find(function(e){return"builtin_signup"===e.id});return{enabled:t.type_data.default_enabled&&t.active,deadline:e.start_dt.clone().subtract(j.default.duration(t.type_data.default_deadline_offset)),visibility:t.type_data.default_visibility,limit:t.type_data.default_limit}}},{key:"initSignupOptions",value:function(e){if(this.state.signupChanged)return{enabled:this.state.signupEnabled,deadline:this.state.signupDeadline,visibility:this.state.signupVisibility,limit:this.state.signupLimit};var t=this.getSignupDefaults(e);return{enabled:void 0!==e.signup_enabled&&e.signup_enabled,deadline:e.signup_deadline?e.signup_deadline:t.deadline,visibility:e.signup_visibility?e.signup_visibility:t.visibility,limit:void 0!==e.signup_limit&&null!==e.signup_limit?e.signup_limit:t.limit}}},{key:"getCommentsDefaults",value:function(){var e=v.default.getState().fields.definitions.find(function(e){return"builtin_comments"===e.id});return{enabled:e.type_data.default_enabled&&e.active,visibility:e.type_data.default_visibility}}},{key:"initCommentsOptions",value:function(e){if(this.state.commentsChanged)return{enabled:this.state.commentsEnabled,visibility:this.state.commentsVisibility};var t=this.getCommentsDefaults();return{enabled:void 0!==e.comments_enabled&&e.comments_enabled,visibility:e.comments_visibility?e.comments_visibility:t.visibility}}},{key:"loadAuxiliaryInfo",value:function(){var e=this,t=this.getEventId();t&&(this.activePromises["aux-"+t]||(this.activePromises["aux-"+t]=(0,N.makeRequest)("GET",L.default.getBaseUrl()+"/"+L.default.getAppKey()+"/events/"+t+"/aux?tz="+v.default.getState().timezone.value).then(function(n){e.setState({eventHistory:n.history,signups:n.signups,comments:n.comments,reminders:n.reminders}),e.initialReminders=n.reminders,delete e.activePromises["aux-"+t],e.activePromiseCount--}).catch(function(){delete e.activePromises["aux-"+t],e.activePromiseCount--}),this.activePromiseCount++))}},{key:"renderSignups",value:function(e,t,n,r,a,o,i,s){var u=this;return l.default.createElement(C.default,{key:i,ref:function(e){u.signupsList=e},signups:a?this.state.signups:[],eventId:e.id,editable:t,enabled:n.enabled,allowSignup:r,displaySignups:a,updateHandler:function(e){u.setState({signups:e})},signupButtons:this.getEventId()&&e.signup_enabled?o:[],containerClass:"visual-input event__signups",limit:n.limit,deadline:s})}},{key:"renderComments",value:function(e,t,n,r){var a=this,o=(t||!t&&"all_users"===n.visibility)&&n.enabled;return l.default.createElement(x.default,{key:r,ref:function(e){a.commentsList=e},comments:o?this.state.comments:[],eventId:e.id,editable:t,enabled:n.enabled,visibility:n.visibility,displayComments:o,updateHandler:function(e){a.setState({comments:e})},timezone:v.default.getState().timezone.value,containerClass:"visual-input event__comments",iconClass:"sprite-icon-event-comments"})}},{key:"renderHistory",value:function(e){if(this.state.eventHistory){var t=this.state.eventHistory,n=t.updates.length?t.updates[0]:null;return l.default.createElement("div",{className:"history"},l.default.createElement(b.default,{message:"calendar:event.editor.footer.created_on"})," ",l.default.createElement(U.default,{date:j.default.parseZone(t.created.datetime)})," ",t.created.by&&l.default.createElement(b.default,{message:"calendar:event.editor.footer.by"}),t.created.by&&" "+t.created.by,n&&", ",n&&l.default.createElement(b.default,{message:"calendar:event.editor.footer.updated_on"}),n&&" ",n&&l.default.createElement(U.default,{date:j.default.parseZone(n.datetime)}),n&&" ",n&&n.by&&l.default.createElement(b.default,{message:"calendar:event.editor.footer.by"}),n&&n.by&&" "+n.by)}this.loadAuxiliaryInfo()}},{key:"renderCustomisableFields",value:function(e,t){var n=this;return v.default.getState().fields.definitions.map(function(r){var a="custom-"+r.id,o="custom."+r.id;if(!r.hidden)return n.renderField(r,e,t,a,function(e){n.custom[r.id]=e},o)})}},{key:"renderField",value:function(e,t,n,r,a,o){var i=this,s=t.custom||{};if("builtin_who"===e.type){if(!(n&&e.active||t.who.length))return;return l.default.createElement(_.default,{key:r,ref:function(e){i.who=e},name:"who",editable:n,label:e.name||"calendar:event.editor.whoLabelText",translate:""===e.name,icon:"sprite-event-who",defaultValue:t.who,required:e.type_data.min>0})}if("builtin_location"===e.type){if(!(n&&e.active||t.location.length))return;return l.default.createElement(_.default,{key:r,ref:function(e){i.location=e},name:"location",editable:n,label:e.name||"calendar:event.editor.whereLabelText",translate:""===e.name,icon:"sprite-event-where",defaultValue:t.location,required:e.type_data.min>0},l.default.createElement(b.default,{component:"a",message:"calendar:event.editor.showOnMap",target:"_blank",className:"soft-button show-on-map",onClick:function(e){e.preventDefault(),window.open("https://www.google.com/maps/search/"+encodeURIComponent(i.location?i.location.getValue():t.location),"_blank")}}))}if("builtin_notes"===e.type){if(!(n&&e.active||t.notes))return;return l.default.createElement(E.default,{key:r,ref:function(e){i.notes=e},name:"notes",id:"event_notes",editable:n,placeholder:" ",label:e.name||"calendar:event.tooltip.description",translate:""===e.name,defaultValue:t.notes||void 0,icon:l.default.createElement("i",{className:"sprite-event-description visual-input-icon"}),required:e.type_data.min>0,editorType:"event"})}if("builtin_signup"===e.type){var u=this.initSignupOptions(t),c=(n||!n&&"all_users"===u.visibility)&&u.enabled,d=!!(u.enabled&&(0,j.default)(u.deadline)>(0,j.default)()),f=[{id:"eventeditor-signup-btn",className:"button secondary",icon:"sprite-event-flag-white",label:R.default.trans("calendar:event.editor.signupText"),onClick:this.closeSidebar}];return this.renderSignups(t,n,u,d,c,f,r,(0,j.default)(u.deadline))}if("builtin_comments"===e.type){var p=this.initCommentsOptions(t);return this.renderComments(t,n,p,r)}if("builtin_company_cam"===e.type){if(!s.company_cam_project_id||e.hidden)return;return l.default.createElement(F.default,{key:r,label:e.name,projectId:s.company_cam_project_id})}if("single_line_text"===e.type){if(!(n&&e.active||s[e.id]))return;return l.default.createElement(_.default,{key:r,ref:a,name:o,editable:n,required:e.type_data.min>0,label:e.name,translate:!1,defaultValue:t.custom[e.id]||"",icon:"sprite-event-single-line"})}if("choices"===e.type){if(!(n&&e.active||s[e.id]&&s[e.id].length))return;var h=e.type_data,m=t.custom[e.id]||[],v=I.default.listToMap(h.options);return m=m.filter(function(e){return v[e]&&!v[e].hidden}),l.default.createElement("div",{className:"visual-input",key:r},l.default.createElement("i",{className:"sprite-event-choices visual-input-icon"}),l.default.createElement("label",null,h.min>0&&n?R.default.translate("core_js","required_field_label",{label:e.name}):e.name),l.default.createElement(k.default,{ref:a,editable:n,required:h.min>0,defaultValue:m,multi:0===h.max,resources:h.options.filter(function(e){return e.active||-1!==m.indexOf(e.id)}).map(function(e){return{id:e.id,name:e.name,color:e.color,readonly:!1,visible:!0}}),searchPromptText:R.default.translate("core_js","custom_field_picker.no_result"),className:"choicepicker"}))}console.log("Field "+e.id+" has unrecognised type "+e.type)}},{key:"renderUnsavedCommentConfirm",value:function(){var e=this;return 1===this.state.hasUnsavedComment?l.default.createElement(f.default,{title:"calendar:event.editor.titleUnsavedComment",message:"calendar:event.editor.textUnsavedComment",yesText:"core_js:save",noText:"core_js:cancel",onYes:function(){e.setState({hasUnsavedComment:2},e.handleSave)},onNo:function(){e.setState({hasUnsavedComment:0})},onClose:function(){e.setState({hasUnsavedComment:0})}}):null}},{key:"render",value:function(){var e=this,t=window.CALENDAR_SETTINGS,n=this.isNewEvent();if("loading"===this.getEditedRecord())return l.default.createElement(d.default,{className:"eventeditor"},l.default.createElement("section",{className:"eventeditor__header"},l.default.createElement("div",{className:"menu"},this.renderCloseButton(),l.default.createElement("a",{href:"#",onClick:this.toggleSidebar,className:"button menu-icon"},l.default.createElement("i",{className:"sprite-event-menu"}))),l.default.createElement("section",{className:"title-input"},l.default.createElement(_.default,{name:"title",editable:!1,placeholder:"calendar:event.editor.titlePlaceholder",defaultValue:"",readonlyPlaceholder:"calendar:event.editor.loading"}))));var r=v.default.getState(),a=this.getInitialEventData(),o=!a.readonly,i=this.state.sidebarCollapsed?"":" menu-icon-open",s=r.fields.definitions.find(function(e){return"builtin_signup"===e.type}),u=!s.hidden&&(s.active||this.initSignupOptions(a).enabled),c=r.fields.definitions.find(function(e){return"builtin_comments"===e.type}),f=!c.hidden&&(c.active||this.initCommentsOptions(a).enabled);return l.default.createElement(d.default,{className:"eventeditor",draggable:!0,draggableHandle:".eventeditor__header",dragCancel:".textarea",dragId:"eventeditor"},l.default.createElement("section",{className:"eventeditor__header"},l.default.createElement("div",{className:"menu"},this.renderCloseButton(),o&&l.default.createElement("a",{className:"button primary save-button",onClick:this.handleSave},l.default.createElement("i",{className:"sprite-event-check-white"})," ",l.default.createElement(b.default,{message:"calendar:event.editor.saveButtonText"})),!n&&l.default.createElement("a",{href:"#",onClick:this.toggleSidebar,className:"button menu-icon"+i},l.default.createElement("i",{className:"sprite-event-menu"}))),l.default.createElement("section",{className:"title-input"},l.default.createElement(_.default,{ref:this.setTitleRef,name:"title",editable:o,placeholder:"calendar:event.editor.titlePlaceholder",defaultValue:a.title,maxLength:255,readonlyPlaceholder:"calendar:calendar.defaultEventTitleText"}))),this.renderUnsavedChangesConfirm(),this.renderREditPrompt(),this.renderRRuleChangeConfirm(),this.renderSignupOptionsPrompt(),this.renderCommentsOptionsPrompt(),this.renderUnsavedCommentConfirm(),l.default.createElement("section",{className:"eventeditor__content"},l.default.createElement(w.default,{ref:function(t){e.datePicker=t},editable:o,resolution:this.getGridResolution(),defaultDateFrom:a.start_dt,defaultDateTo:a.end_dt,defaultAllDay:a.all_day,onChange:this.handleDateFromToChange,id:a.id},l.default.createElement(S.default,{ref:function(t){e.rrule=t},editable:o,defaultValue:a.rrule,dateFrom:this.state.dateFrom||a.start_dt,recurrenceStartDate:a.rsstart_dt||this.state.dateFrom||a.start_dt,timezone:a.timezone}),l.default.createElement("br",null)),(null!==this.state.reminders||n)&&t.loggedUser&&l.default.createElement(Y.default,{ref:function(t){e.reminders=t},editable:o,reminders:this.state.reminders||[],eventId:a.id,allDay:null===this.state.allDay?a.all_day:this.state.allDay,resIds:null===this.state.resIds?a.subcalendar_ids:this.state.resIds,timezone:v.default.getState().timezone.value,onSave:function(t){e.setState({reminders:t})}}),l.default.createElement("div",{className:"visual-input"},l.default.createElement("i",{className:"sprite-event-subcalendars visual-input-icon"}),l.default.createElement(b.default,{component:"label",message:"calendar:event.editor.calendarLabelText"}),l.default.createElement(k.default,{ref:function(t){e.calendarPicker=t},editable:o,defaultValue:a.subcalendar_ids,resources:p.default.getState().resources,multi:r.oneToMany.enabled,clearable:!1,searchPromptText:R.default.translate("core_js","calendar_picker.no_result"),onChange:this.handleSubcalendarChange}))),l.default.createElement("section",{className:"eventeditor__sidebar"+(this.state.sidebarCollapsed?"":" opened")},o&&l.default.createElement("p",{className:"save-button"},l.default.createElement("button",{type:"submit",className:"button primary",onClick:this.handleSave},l.default.createElement("i",{className:"sprite-event-check-white"})," ",l.default.createElement(b.default,{message:"calendar:event.editor.saveButtonText"}))),!n&&a.signup_enabled?l.default.createElement("p",{id:"eventeditor-signup-btn"}):null,!n&&l.default.createElement("p",null,l.default.createElement("a",{className:"button",onClick:this.handlePrint},l.default.createElement("i",{className:"sprite-event-print"})," ",l.default.createElement(b.default,{message:"calendar:event.editor.printButtonText"}))),!n&&l.default.createElement("div",null,l.default.createElement(T.default,{event:a,onExport:function(){e.closeSidebar()}})),o&&l.default.createElement("div",null,l.default.createElement(M.default,{event:a,onSignup:this.handleSignup,onComments:this.handleComments,signup:u,comments:f})),!n&&o&&l.default.createElement("p",null,l.default.createElement("a",{className:"button",onClick:this.handleDelete},l.default.createElement("i",{className:"sprite-event-delete"})," ",l.default.createElement(b.default,{message:"calendar:event.editor.deleteButtonText"})))),l.default.createElement("section",{className:"eventeditor__rest"+(this.state.highlightRequiredFields?" show-required":"")},this.renderCustomisableFields(a,o),!n&&this.renderHistory(a)))}}]),t}();t.default=B},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(1)),o=i(n(32));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.input=null,n.dropdown=null,n.options=[],n.filterTimeout=null,n.checkForOuterClick=function(e){for(var t=e.target,r=50;t;){if(t===o.default.findDOMNode(n))return;if(!--r)return;t=t.parentNode}n.handleOuterClick(e)},n.resetState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n.options=e.options;var r=n.getDefaultSelectedItem(e.value);n.setState({selected:r,focused:t,filterValue:null}),n.input&&(n.input.value=n.getValueLabel(e.value))},n.onFocus=function(e){n.resetState(n.props,!0)},n.onKeyUp=function(e){var t=e.target;9!=e.keyCode?n.state.filterValue===t.value||null===n.state.filterValue&&t.value===n.getValueLabel()||n.filter(t.value):t.select()},n.filter=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.filterTimeout&&clearTimeout(n.filterTimeout);var r=n.props.filterOptions(n.props.options,e);if(0!==r.length||!0!==t){n.options=r;var a=n.getDefaultSelectedItem();n.setState({filterValue:e,selected:a})}else n.filterTimeout=window.setTimeout(function(){n.filter(e,!1)},600)},n.onKeyDown=function(e){if(13==e.keyCode&&-1!==n.state.selected&&(e.preventDefault(),e.stopPropagation(),n.selectValueFromInput(),n.input&&n.input.focus()),9!=e.keyCode){if(27==e.keyCode)return n.resetState(),void(n.input&&n.input===document.activeElement&&n.input.blur());38!=e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey||(e.preventDefault(),n.setState({selected:n.state.selected<=0?n.options.length-1:n.state.selected-1},n.scrollItemIntoView)),40!=e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey||(e.preventDefault(),n.setState({selected:(n.state.selected+1)%n.options.length},n.scrollItemIntoView)),n.state.focused||37===e.keyCode||39===e.keyCode||n.setState({focused:!0})}else-1!==n.state.selected&&n.selectValueFromInput()},n.selectValue=function(e){n.props.onChange&&n.props.onChange(e),n.setState({focused:!1})},n.selectValueFromInput=function(){n.options.length>0?n.selectValue(n.options[n.state.selected].value):(n.input&&(n.input.value=n.getValueLabel()),n.setState({focused:!1}))},n.handleOuterClick=function(e){n.input&&n.input.value!==n.getValueLabel()&&n.selectValueFromInput(),n.setState({focused:!1})},n.handleOptionClick=function(e,t){n.selectValue(t.value),n.input&&n.input.focus()},n.setDropdownRef=function(e){n.dropdown=e,e&&n.scrollItemIntoView()},n.scrollItemIntoView=function(){if(n.dropdown&&-1!==n.state.selected){var e=n.dropdown;e.scrollIntoViewIfNeeded?e.childNodes[n.state.selected].scrollIntoViewIfNeeded():e.childNodes[n.state.selected].scrollIntoView(!1)}},n.getDefaultSelectedItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props.value,t=0;return n.options.forEach(function(n,r){n.value===e&&(t=r)}),t},n.getValueLabel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props.value,t="";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.props.options).forEach(function(n,r){n.value===e&&(t=n.label)}),t},n.state={focused:!1,filterValue:null,selected:-1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"componentDidMount",value:function(){document.body.addEventListener("click",this.checkForOuterClick,!0)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("click",this.checkForOuterClick,!0)}},{key:"componentWillMount",value:function(){this.resetState()}},{key:"componentWillReceiveProps",value:function(e){e.value!==this.props.value&&(this.resetState(e),this.input&&(this.input.value=this.getValueLabel(e.value,e.options)))}},{key:"renderDropdown",value:function(){var e=this;return 0==this.options.length?a.default.createElement("div",{className:"select-dropdown no-result"},a.default.createElement("span",null,this.props.noResultText)):a.default.createElement("div",{className:"select-dropdown",ref:this.setDropdownRef},this.options.map(function(t,n){return a.default.createElement("div",{className:"select-option"+(t.value==e.props.value?" active":"")+(n==e.state.selected?" selected":""),"data-value":t.value,key:t.value+";"+t.label,onClick:function(n){e.handleOptionClick(n,t)}},t.label)}))}},{key:"render",value:function(){var e=this;return a.default.createElement("div",{className:"select-widget "+(this.props.className||"")},a.default.createElement("input",{type:"text",name:this.props.name,className:"select-widget-input"+(this.state.focused?" is-open":""),ref:function(t){e.input=t},defaultValue:this.getValueLabel(this.props.value),onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onFocus:this.onFocus,onClick:function(t){e.setState({focused:!0})}}),this.state.focused&&this.renderDropdown())}}]),t}();t.default=s,s.defaultProps={className:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n(1)),o=d(n(60)),i=d(n(10)),s=d(n(347)),u=d(n(641)),l=d(n(640)),c=d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(e){f(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=function(e,t){var r=n.state.reminder;r[e]="time_of_day"===e?(0,c.default)("2016-01-01 "+t,"YYYY-MM-DD HH:mm").format("HH:mm"):t,n.props.onUpdate(r),n.setState({reminder:r})},n.state={reminder:e.reminder},n}return h(t,e),r(t,[{key:"getValue",value:function(){return Object.assign(this.getFormValues(),this.state.reminder)}},{key:"render",value:function(){var e=this,t=this.state.reminder,n=[{value:"email",label:i.default.translate("preferences","reminders.edit.transport.email")}],r=i.default.translate("preferences","reminders.edit.before_at"),o=window.CALENDAR_SETTINGS.reminders.default;return a.default.createElement("li",null,a.default.createElement("form",{id:"form-"+t.id},a.default.createElement(s.default,{name:"transport",options:n,defaultValue:t.transport,className:"reminder-input",onChange:function(t){e.onChange("transport",t.currentTarget.value)}}),a.default.createElement(u.default,{name:"offset",defaultValue:t.offset,className:"reminder-input",onChange:function(t){e.onChange("offset",t||"P1D")},intervalOptions:this.props.isAllDay?o.optionsAllDay.map(function(e){return{value:e,label:"interval."+e}}):o.optionsHourly.map(function(e){return{value:e,label:"interval."+e}})}),this.props.isAllDay?[a.default.createElement("div",{className:"before-label",key:"separator-"+t.id,title:r},r),a.default.createElement(l.default,{name:"time_of_day",defaultValue:(0,c.default)((0,c.default)().format("YYYY-MM-DD")+" "+t.time_of_day,"YYYY-MM-DD HH:mm"),resolution:60,onChange:function(t){e.onChange("time_of_day",t)},key:"timepicker-"+t.id})]:null,a.default.createElement("a",{onClick:this.props.removeHandler,className:"button ghost"},a.default.createElement("i",{className:"sprite-event-close"}))))}}]),t}(o.default.makeFormValues(function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,a["default"].Component),t}()));m.defaultProps={reminder:null},t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=v(n(1)),o=v(n(72)),i=v(n(352)),s=v(n(6)),u=v(n(55)),l=v(n(712)),c=v(n(10)),d=v(n(56)),f=v(n(18)),p=n(36),h=v(n(905)),m=v(n(4));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e){function t(e){y(this,t);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleSave=function(e){var t=n.props.match.params.resource_id,r=n.state.reminders.map(function(e){return{id:isNaN(e.id)?null:parseInt(e.id),transport:e.transport,offset:e.offset,time_of_day:e.all_day?e.time_of_day:null,all_day:e.all_day,tz:e.tz}});l.default.saveDefaultSubscriptions(t,r).then(function(e){return l.default.updateReminders(t)}).then(function(){f.default.openUrl("preferences.reminders.list")}).catch(function(e){n.handleError(e)})},n.addNewReminderHandler=function(e,t){var r=n.state.reminders;r.push({id:"rem-"+(0,m.default)().valueOf(),res_id:parseInt(n.props.match.params.resource_id),transport:"email",offset:t?"P1D":"PT10M",time_of_day:"08:00:00",tz:d.default.getState().timezone.value,all_day:t}),n.setState({reminders:r})},n.removeHandler=function(e,t){var r=n.state.reminders,a=r.findIndex(function(t){return t&&t.id==e.id});-1!==a&&r.splice(a,1),n.setState({reminders:r})},n.onUpdate=function(e){var t=n.state.reminders;t.forEach(function(n,r){n.id&&n.id===e.id&&(t[r]=e)}),n.setState({reminders:t})};var r=n.props.match.params.resource_id,a=[];return e.reminders[r]&&(a=e.reminders[r]),n.state={resource:null,reminders:a},n}return b(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.resources.findIndex(function(t){return t.id===parseInt(e.props.match.params.resource_id)});void 0!==t&&this.setState({resource:this.props.resources[t]})}},{key:"notFound",value:function(){return a.default.createElement("div",{className:"reminders"},a.default.createElement("div",{className:"page__settings-header"},a.default.createElement(p.Link,{className:"btn__settings-edit",to:f.default.getUrl("preferences.reminders.list"),key:"cancelBtn"},c.default.translate("core_js","back")),a.default.createElement(s.default,{message:"reminders.not_found",component:"h2"}),a.default.createElement(i.default,{text:c.default.translate("preferences","reminders.not_found_msg"),iconClassName:"sprite-icon-alert",type:"warning"})))}},{key:"renderButtons",value:function(){return[a.default.createElement(s.default,{message:"save",component:"button",type:"button",className:"btn__settings-ok",key:"submitBtn",onClick:this.handleSave}),a.default.createElement(p.Link,{className:"btn__settings-edit",to:f.default.getUrl("preferences.reminders.list"),key:"cancelBtn"},c.default.translate("core_js","cancel"))]}},{key:"addNewReminderButton",value:function(e){var t=this;return a.default.createElement("a",{onClick:function(n){t.addNewReminderHandler(n,e)},className:"add-reminder-btn",key:(e?"allday":"hourly")+"-add-reminder-btn"},a.default.createElement("i",{className:"sprite-icon-plus-green icon-offset-normal"}),c.default.translate("preferences","reminders.edit.add_reminder"))}},{key:"noReminderWrapper",value:function(e){return a.default.createElement("div",{className:"no-reminder"},a.default.createElement("div",{className:"content"},a.default.createElement("i",{className:"sprite-illustration-flag"}),a.default.createElement(s.default,{message:"reminders.edit.no_"+(e?"allday":"hourly")+"_reminders",component:"p"})),this.addNewReminderButton(e))}},{key:"render",value:function(){var e=this;if(!this.state.resource)return this.notFound();var t=[],n=[];return this.state.reminders.forEach(function(e){!0===e.all_day?n.push(e):t.push(e)}),a.default.createElement("div",{className:"reminders"},this.renderNotifications(),a.default.createElement("div",{className:"page__settings-header"},this.renderButtons().reverse(),a.default.createElement(s.default,{message:"reminders.edit.title",component:"h2",params:{title:this.state.resource.name}})),a.default.createElement("div",{className:"page__settings__content-main"},a.default.createElement(s.default,{message:"reminders.edit.hourly_reminders",className:"page__settings__content-title",component:"p"}),a.default.createElement("div",{className:"page__settings__content-input"},0===t.length?this.noReminderWrapper(!1):a.default.createElement("ul",{key:"hourly-reminders-list"},t.map(function(t,n){return a.default.createElement(h.default,{reminder:t,isAllDay:!1,removeHandler:function(){e.removeHandler(t,!1)},onUpdate:e.onUpdate,key:t.id})}))),this.addNewReminderButton(!1),a.default.createElement("div",{className:"clear"})),a.default.createElement("div",{className:"page__settings__content-main"},a.default.createElement(s.default,{message:"reminders.edit.allday_reminders",className:"page__settings__content-title",component:"p"}),a.default.createElement("div",{className:"page__settings__content-input"},0===n.length?this.noReminderWrapper(!0):a.default.createElement("ul",{key:"allday-reminder-list"},n.map(function(t,n){return a.default.createElement(h.default,{reminder:t,isAllDay:!0,removeHandler:function(){e.removeHandler(t,!0)},onUpdate:e.onUpdate,key:t.id})}))),this.addNewReminderButton(!0),a.default.createElement("div",{className:"clear"})),a.default.createElement(o.default,{spacer:!0},this.renderButtons()))}}]),t}((0,u.default)(function(e){function t(){return y(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,a["default"].Component),t}()));t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(1)),o=l(n(136)),i=l(n(6)),s=l(n(18)),u=n(36);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={reminders:e.reminders},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){var e=this;return a.default.createElement("div",{className:"reminders"},a.default.createElement("div",{className:"page__settings-header page__settings-header-info"},a.default.createElement(i.default,{message:"reminders.title",component:"h2"})),a.default.createElement(o.default,{fullWidth:!0},a.default.createElement(i.default,{component:"p",message:"reminders.description"})),a.default.createElement("div",{className:"page__settings__content-main",style:{paddingTop:"0"}},a.default.createElement("table",null,a.default.createElement("tbody",null,this.props.resources.map(function(t){var n=e.state.reminders[t.id]?e.state.reminders[t.id].length:0;return a.default.createElement("tr",{key:t.id},a.default.createElement("td",null,a.default.createElement("div",{className:"calendar-circle-wrapper"},a.default.createElement(u.Link,{to:s.default.getUrl("preferences.reminders.edit",{resource_id:t.id})},a.default.createElement("i",{className:"cal-circle-"+t.color}),t.name))),a.default.createElement("td",{style:{textAlign:"right",paddingRight:"20px"}},a.default.createElement("i",{className:"sprite-settings-reminder-icon"}),a.default.createElement(i.default,{message:"reminders.count",params:{count:n}})),a.default.createElement("td",{style:{width:"36px"}},a.default.createElement(u.Link,{className:"btn__settings-icon-edit",to:s.default.getUrl("preferences.reminders.edit",{resource_id:t.id})},a.default.createElement("i",{className:"sprite-settings-edit"}))))})))))}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(1)),o=l(n(907)),i=l(n(906)),s=l(n(18)),u=n(36);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){var e={reminders:this.props.reminders,resources:this.props.resources};return a.default.createElement(u.Switch,null,a.default.createElement(u.Route,{exact:!0,path:s.default.getRawPath("preferences.reminders.list"),render:function(t){return a.default.createElement(o.default,Object.assign({},e,t))}}),a.default.createElement(u.Route,{exact:!0,path:s.default.getRawPath("preferences.reminders.edit"),render:function(t){return a.default.createElement(i.default,Object.assign({},e,t))}}),a.default.createElement(u.Redirect,{exact:!0,from:s.default.getRawPath("preferences.reminders"),to:s.default.getRawPath("preferences.reminders.list")}))}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=g(n(1)),o=g(n(72)),i=g(n(136)),s=g(n(352)),u=g(n(59)),l=g(n(177)),c=g(n(6)),d=g(n(55)),f=n(43),p=g(n(10)),h=g(n(56)),m=g(n(17)),v=g(n(178)),y=g(n(142));function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=function(e){function t(e){b(this,t);var n=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSubmit=function(e){e&&e.preventDefault();var t={transport:n.state.transport,recipient:n.state.recipient,subscriptions:[]};"pick"===n.state.calendars?n.state.selectedSubcalendars.forEach(function(e){t.subscriptions.push({subcalendar_id:e,timezone:n.state.timezone,days:parseInt(n.state.days),active:null===n.state.userSubscription||n.state.active})}):t.subscriptions.push({timezone:n.state.timezone,days:parseInt(n.state.days),active:null===n.state.userSubscription||n.state.active}),n.replaceNotification("agenda.saving_message","success"),(0,f.makeRequest)("POST",window.APP_BASE_URL+"/"+window.APP_KEY+"/subscriptions/agenda",t).then(function(e){n.replaceNotification("agenda.success_message","success")}).catch(function(e){n.handleError(e)})},n.handleChange=function(e){n.clearNotifications();var t={};"active"===e.target.name?t.active=!n.state.active:t[e.target.name]=e.target.value,n.setState(t)},n.handleSubcalendarSelection=function(e,t){var r=n.state.selectedSubcalendars;if(e.currentTarget.checked)r.push(t);else{var a=r.indexOf(t);r.splice(a,1)}n.setState({selectedSubcalendars:r})},n.state={transport:"email",active:!0,recipient:window.CALENDAR_SETTINGS.loggedUser?window.CALENDAR_SETTINGS.loggedUser.email:"",days:"1",calendars:"all",timezone:h.default.getState().timezone.value,selectedSubcalendars:[],spinner:!1,userSubscription:null},n}return w(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this;window.CALENDAR_SETTINGS.loggedUser&&(this.setState({spinner:!0}),(0,f.makeRequest)("GET",m.default.getBaseUrl()+"/user/"+m.default.getAppKey()+"/subscriptions/agenda/email").then(function(t){var n=void 0;if(t.subscription&&Object.keys(t.subscription).length>0){var r=t.subscription,a="0"==r.resources,o=[];a||(o=r.resources.split(",").map(function(e){return parseInt(e,10)})),n={recipient:r.recipient,active:r.active,userSubscription:r,spinner:!1,days:r.days,calendars:a?"all":"pick",selectedSubcalendars:o}}else n={spinner:!1,recipient:window.CALENDAR_SETTINGS.loggedUser.email,active:!0,userSubscription:{}};e.setState(n)}).catch(function(t){e.setState({spinner:!1})}))}},{key:"render",value:function(){var e=this,t=[],n=this.state.selectedSubcalendars,r=null;this.props.resources.forEach(function(r){var o=r.id,i=r.name,s=a.default.createElement("div",{key:"agenda-res-"+o},a.default.createElement(l.default,{name:"resource_"+o,text:i,onChange:function(t){e.handleSubcalendarSelection(t,o)},defaultChecked:-1!==n.indexOf(o)||!1}));t.push(s)});var d=!0!==window.CALENDAR_SETTINGS.licenseFeatures.daily_agenda;return d&&(r=a.default.createElement(s.default,{text:p.default.translate("core_js","badge.plus"),iconClassName:"sprite-premium",type:"success"})),a.default.createElement("form",{className:"form daily_agenda_form",ref:"form",onSubmit:this.handleSubmit},this.renderNotifications(),a.default.createElement(v.default,{loading:this.state.spinner}),a.default.createElement("div",{className:this.state.spinner?"loading ":""},a.default.createElement("div",{className:"page__settings-header page__settings-header-info"},a.default.createElement(c.default,{disabled:d,message:"notifications.save_button_text",component:"button",type:"submit",className:"btn__settings-ok"}),a.default.createElement(c.default,{message:"agenda.title",component:"h2"})),a.default.createElement(i.default,{fullWidth:!0,outerHtml:r},a.default.createElement(c.default,{message:"agenda.info",component:"span"})),a.default.createElement(o.default,{message:"agenda.form.email.label"},a.default.createElement(u.default,{onChange:this.handleChange,value:this.state.recipient,disabled:d||window.CALENDAR_SETTINGS.loggedUser,name:"recipient",type:"email",required:"required"}),a.default.createElement(s.default,{text:p.default.translate("preferences","agenda.intro_access_allowed"),iconClassName:"sprite-icon-alert",type:"warning"})),null!==this.state.userSubscription&&this.state.userSubscription!=={}&&a.default.createElement(o.default,{message:"notifications.active.title"},a.default.createElement(y.default,{name:"active",onChange:this.handleChange,enabledTitle:"deactivate",disabledTitle:"activate",localeSection:"core_js",defaultChecked:this.state.active})),a.default.createElement(o.default,{message:"agenda.form.days.label"},a.default.createElement("select",{disabled:d,onChange:this.handleChange,value:this.state.days,className:"settings__select",name:"days"},a.default.createElement(c.default,{message:"agenda.form.days.1day",component:"option",value:"1"}),a.default.createElement(c.default,{message:"agenda.form.days.2days",component:"option",value:"2"}),a.default.createElement(c.default,{message:"agenda.form.days.3days",component:"option",value:"3"})),a.default.createElement(c.default,{message:"agenda.days_help",component:"p",className:"page__settings__content-text"})),a.default.createElement(o.default,{message:"agenda.form.calendars.label"},a.default.createElement("select",{disabled:d,onChange:this.handleChange,className:"settings__select",name:"calendars",value:this.state.calendars},a.default.createElement(c.default,{message:"notifications.all_subcalendars",component:"option",value:"all"}),a.default.createElement(c.default,{message:"notifications.selected_subcalendars",component:"option",value:"pick"})),a.default.createElement(c.default,{message:"agenda.form.calendars.text",component:"p",className:"page__settings__content-text"}),"pick"===this.state.calendars?t:null),a.default.createElement(o.default,{spacer:!0},a.default.createElement(c.default,{disabled:d,message:"notifications.save_button_text",component:"button",type:"submit",className:"btn__settings-ok"}))))}}]),t}((0,d.default)(function(e){function t(){return b(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,a["default"].Component),t}()));t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(1)),o=i(n(6));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){var e=this,t=this.props.resources;return 0===t.length?a.default.createElement(o.default,{message:"notifications.no_permissions"}):a.default.createElement("table",{className:"page__settings-selector-wrapper"},a.default.createElement("thead",null,a.default.createElement("tr",null,a.default.createElement("th",null,a.default.createElement(o.default,{message:"notifications.calendar_name",component:"div"})),a.default.createElement("th",null,a.default.createElement(o.default,{message:"notifications.calendar_changes",component:"div"})))),a.default.createElement("tbody",null,t.map(function(t,n){var r=e.props.selectedResources["contents."+t.id]||"none";return a.default.createElement("tr",{key:n},a.default.createElement("td",null,a.default.createElement("div",{className:"calendar-circle-wrapper",title:t.name},a.default.createElement("i",{className:"cal-circle-"+t.color}),t.name)),a.default.createElement("td",null,a.default.createElement("select",{name:"contents."+t.id,value:r,className:"settings__select",onChange:e.props.onChange},a.default.createElement(o.default,{message:"notifications.option_none",component:"option",value:""}),a.default.createElement(o.default,{message:"notifications.option_all_changes",component:"option",value:"all"}),a.default.createElement(o.default,{message:"notifications.option_new_events",component:"option",value:"new_events"}),a.default.createElement(o.default,{message:"notifications.option_important_changes",component:"option",value:"non_trivial"}))))})))}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=b(n(1)),o=b(n(72)),i=b(n(136)),s=b(n(59)),u=b(n(352)),l=b(n(6)),c=b(n(55)),d=b(n(910)),f=n(43),p=b(n(10)),h=b(n(18)),m=b(n(17)),v=b(n(56)),y=b(n(178)),g=b(n(142));function b(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=function(e){function t(e){_(this,t);var n=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleSubmit=function(e){var t=void 0,r=n.state,a="slack"===n.props.transport?"immediate":n.state.schedule;if(e&&e.preventDefault(),"email"===n.props.transport&&"immediate"==a)a="delayed_5min";else if("slack"===n.props.transport&&null==r.slack.webhook)return n.addNotification("notifications.slack.missing_webhook","error"),!1;t={transport:n.props.transport,recipient:null==r.slack.webhook?r.recipient:r.slack.webhook,subscriptions:[]},"pick"===r.calendars?n.props.resources.forEach(function(e){void 0!==r.selectedResources["contents."+e.id]&&""!==r.selectedResources["contents."+e.id]&&t.subscriptions.push({subcalendar_id:e.id,schedule:a,contents:r.selectedResources["contents."+e.id],timezone:n.state.timezone,active:null===n.state.userSubscription||n.state.active})}):t.subscriptions.push({schedule:a,contents:r.contents,timezone:n.state.timezone,active:null===n.state.userSubscription||n.state.active}),n.replaceNotification("notifications.saving_message","success"),(0,f.makeRequest)("POST",m.default.getBaseUrl()+"/"+m.default.getAppKey()+"/subscriptions/notifications",t).then(function(){n.replaceNotification("notifications.success_message","success")}).catch(function(e){n.handleError(e)})},n.handleChange=function(e){var t={};"email"===e.target.name||"phone"===e.target.name?t.recipient=e.target.value:"active"===e.target.name?t.active=!n.state.active:t[e.target.name]=e.target.value,n.setState(t)};var r=[];return e.resources.forEach(function(e){r["contents."+e.id]=""}),n.state={recipient:window.CALENDAR_SETTINGS.loggedUser?window.CALENDAR_SETTINGS.loggedUser.email:"",active:!0,schedule:"immediate",calendars:"all",contents:"new_events",timezone:v.default.getState().timezone.value,selectedResources:r,slack:{webhook:null,team_name:"",channel:"",error:""},userSubscription:null,spinner:!1},n}return E(t,e),r(t,[{key:"componentDidMount",value:function(){var e=window.preferences.slack;e&&(this.setState({slack:e}),""!==e.error&&this.addNotification(e.error,"error")),this.loadUserSubscription()}},{key:"componentDidUpdate",value:function(e,t){e.transport!==this.props.transport&&this.loadUserSubscription()}},{key:"loadUserSubscription",value:function(){var e=this;window.CALENDAR_SETTINGS.loggedUser&&(this.setState({spinner:!0}),(0,f.makeRequest)("GET",m.default.getBaseUrl()+"/user/"+m.default.getAppKey()+"/subscriptions/notification/"+this.props.transport).then(function(t){var n=void 0;if(t.subscription&&Object.keys(t.subscription).length>0){var r=t.subscription,a="0"==r.resources,o=[];if(!a){var i=r.resources.split(",").map(function(e){return parseInt(e,10)}),s=r.contents.split(","),u=r.resources_active.split(",");i.forEach(function(e,t){1==parseInt(u[t],10)&&(o["contents."+e]=s[t])})}if(n={recipient:r.recipient,active:r.active,userSubscription:r,spinner:!1,schedule:r.schedule,calendars:a?"all":"pick",contents:a?r.contents:"",selectedResources:o},"slack"===r.transport&&r.recipient.match(/hooks.slack.com/)&&r.attributes){n.recipient=r.recipient;var l=JSON.parse(r.attributes);n.slack={webhook:r.recipient,team_name:l.team_name,channel:l.incoming_webhook.channel}}}else n={spinner:!1,recipient:window.CALENDAR_SETTINGS.loggedUser.email,active:!0,userSubscription:{}};e.setState(n)}).catch(function(t){e.setState({spinner:!1})}))}},{key:"getSelectedCalendarsOptions",value:function(){var e=this;return a.default.createElement(d.default,{resources:this.props.resources,selectedResources:this.state.selectedResources,onChange:function(t){var n=e.state.selectedResources;n[t.target.name]=t.target.value,e.setState({selectedResources:n})}})}},{key:"getAllCalendarsOptions",value:function(){return a.default.createElement("div",null,a.default.createElement("select",{value:this.state.contents,name:"contents",className:"settings__select",onChange:this.handleChange},a.default.createElement(l.default,{message:"notifications.option_new_events",component:"option",value:"new_events"}),a.default.createElement(l.default,{message:"notifications.option_important_changes",component:"option",value:"non_trivial"}),a.default.createElement(l.default,{message:"notifications.option_all_changes",component:"option",value:"all"})),a.default.createElement(l.default,{message:"notifications.select_notification_type",component:"p",className:"page__settings__content-text"}),a.default.createElement(u.default,{text:p.default.translate("preferences","notifications.important_changes_description"),iconClassName:"sprite-info",type:"info"}))}},{key:"getWhatDropdown",value:function(){return a.default.createElement(o.default,{message:"notifications.what_title",htmlFor:"notifications-what"},a.default.createElement("select",{className:"settings__select",name:"calendars",value:this.state.calendars,onChange:this.handleChange},a.default.createElement(l.default,{message:"notifications.all_subcalendars",component:"option",value:"all"}),a.default.createElement(l.default,{message:"notifications.selected_subcalendars",component:"option",value:"pick"})),a.default.createElement(l.default,{message:"notifications.what_description",component:"p",className:"page__settings__content-text"}),"all"==this.state.calendars?this.getAllCalendarsOptions():this.getSelectedCalendarsOptions())}},{key:"renderSlackButton",value:function(){var e=h.default.getAbsoluteBaseUrl()+"/slack/register/preferences/"+m.default.getAppKey(),t="https://slack.com/oauth/authorize?scope=incoming-webhook,commands,bot&client_id="+m.default.getSlackClientId()+"&redirect_uri="+encodeURI(e);return a.default.createElement("a",{href:t},a.default.createElement("img",{alt:"Add to Slack",height:"40",width:"139",src:"https://platform.slack-edge.com/img/add_to_slack.png",srcSet:"https://platform.slack-edge.com/img/add_to_slack.png 1x, https://platform.slack-edge.com/img/add_to_slack@2x.png 2x"}))}},{key:"renderSubmitButton",value:function(){return a.default.createElement(o.default,{spacer:!0},a.default.createElement(l.default,{message:"notifications.save_button_text",component:"button",type:"submit",className:"btn__settings-ok"}))}},{key:"renderRecipient",value:function(){if("email"===this.props.transport)return a.default.createElement(o.default,{message:"notifications.your_email",htmlFor:"notifications-email"},a.default.createElement(s.default,{name:"email",type:"email",value:this.state.recipient,onChange:this.handleChange,id:"notifications-email",placeholder:"bob@example.org",required:"required",disabled:window.CALENDAR_SETTINGS.loggedUser}));var e=this.state.slack;return a.default.createElement(o.default,{message:"notifications.slack.webhook",htmlFor:"notifications-webhook"},e.webhook?a.default.createElement("span",{className:"webhook",title:e.webhook},e.team_name+" - "+e.channel):this.renderSlackButton())}},{key:"renderActiveField",value:function(){if(null!==this.state.userSubscription&&this.state.userSubscription!=={})return a.default.createElement(o.default,{message:"notifications.active.title"},a.default.createElement(g.default,{name:"active",onChange:this.handleChange,enabledTitle:"deactivate",disabledTitle:"activate",localeSection:"core_js",defaultChecked:this.state.active}))}},{key:"render",value:function(){var e="form "+this.props.transport+"-form";return a.default.createElement("form",{className:e,ref:"form",onSubmit:this.handleSubmit},this.renderNotifications(),a.default.createElement(y.default,{loading:this.state.spinner}),a.default.createElement("div",{className:this.state.spinner?"loading ":""},a.default.createElement("div",{className:"page__settings-header page__settings-header-info"},a.default.createElement(l.default,{message:"notifications.save_button_text",component:"button",type:"submit",className:"btn__settings-ok"}),a.default.createElement(l.default,{message:"notifications."+this.props.transport+".title",component:"h2"})),a.default.createElement(i.default,null,a.default.createElement(l.default,{message:"notifications."+("slack"===this.props.transport?"slack.":"")+"notification_info",component:"p"}),a.default.createElement(l.default,{message:"notifications."+("slack"===this.props.transport?"slack.":"")+"unsubscribe_info",component:"p"})),this.renderRecipient(),this.renderActiveField(),"email"===this.props.transport&&a.default.createElement(o.default,{message:"notifications.when_title",htmlFor:"notifications-when"},a.default.createElement("select",{className:"settings__select",name:"schedule",value:this.state.schedule,id:"notifications-when",onChange:this.handleChange},a.default.createElement(l.default,{message:"notifications.immediately",component:"option",value:"immediate"}),a.default.createElement(l.default,{message:"notifications.daily_summary",component:"option",value:"daily"})),a.default.createElement(l.default,{message:"notifications.when_description",component:"p",className:"page__settings__content-text"})),this.getWhatDropdown(),this.renderSubmitButton()))}}]),t}((0,c.default)(function(e){function t(){return _(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,a["default"].Component),t}()));t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(1)),o=l(n(6)),i=l(n(56)),s=l(n(136)),u=l(n(10));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.copyBtnClassname="btn__settings-edit",n.handleFocus=function(e){e.currentTarget.select()},n.doCopy=function(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-url");if(t){var r=n.state.btnsClass,a=parseInt(e.currentTarget.getAttribute("data-id")||"0");r[a]="btn__settings-ok",n.setState({btnsClass:r}),setTimeout(function(){r[a]=n.copyBtnClassname,n.setState({btnsClass:r})},1e3);var o=document.createElement("textarea");o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.width="2em",o.style.height="2em",o.style.padding="0",o.style.border="none",o.style.outline="none",o.style.boxShadow="none",o.style.background="transparent",o.value=t,o.id="temp-link-textarea",document.body.appendChild(o),document.createRange().selectNode(o),o.select();try{document.execCommand("copy")}catch(e){console.log("Oops, unable to copy "+t)}document.body.removeChild(o)}};var r=[];return r[0]=n.copyBtnClassname,n.props.resources.forEach(function(e){r[e.id]=n.copyBtnClassname}),n.state={btnsClass:r},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){var e=this,t=i.default.getState().authentication,n=window.ICS_BASE_URL+"feed/"+(t.passwordRequired?t.icalHash+"/":"")+window.APP_KEY+"/",r=n+"0.ics",l=this.props.resources.map(function(t){var r=n+t.id+".ics";return a.default.createElement("tr",{key:r},a.default.createElement("td",{title:t.name},a.default.createElement("div",{className:"calendar-circle-wrapper"},a.default.createElement("i",{className:"cal-circle-"+t.color}),t.name)),a.default.createElement("td",{className:"ical__reveal"},a.default.createElement("div",null,a.default.createElement("input",{type:"text",onFocus:e.handleFocus,defaultValue:r,className:"settings__input-big"}),a.default.createElement("a",{onClick:e.doCopy,"data-url":r,"data-id":t.id,className:e.state.btnsClass[t.id],target:"_blank"},u.default.translate("core_js","copy")))))},this);return a.default.createElement("div",{className:"icalendar-feeds"},a.default.createElement("div",{className:"page__settings-header page__settings-header-info"},a.default.createElement(o.default,{message:"ical.title",component:"h2"})),a.default.createElement(s.default,null,a.default.createElement(o.default,{component:"p",message:"ical.description.a"}),a.default.createElement(o.default,{component:"p",message:"ical.description.b"}),a.default.createElement(o.default,{component:"p",message:"ical.description.c"})),a.default.createElement("div",{className:"page__settings__content-main page__settings-info"},a.default.createElement("table",{className:"page__settings-selector-wrapper"},a.default.createElement("thead",null,a.default.createElement("tr",null,a.default.createElement("th",{style:{width:"25%"}},a.default.createElement(o.default,{message:"ical.name",component:"div"})),a.default.createElement("th",null,a.default.createElement(o.default,{message:"ical.url",component:"div"})))),a.default.createElement("tbody",null,l,a.default.createElement("tr",null,a.default.createElement("td",null,a.default.createElement(o.default,{message:"ical.all_calendars"})),a.default.createElement("td",{className:"ical__reveal"},a.default.createElement("div",null,a.default.createElement("input",{type:"text",onFocus:this.handleFocus,defaultValue:r,className:"settings__input-big"}),a.default.createElement("a",{onClick:this.doCopy,"data-url":r,"data-id":0,className:this.state.btnsClass[0],target:"_blank"},u.default.translate("core_js","copy")))))))))}}]),t}();t.default=c},function(e,t,n){var r;r=function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)},t.int=function(e){return parseInt(e,10)},t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop "+t+" passed to "+n+" - do not set this, set it on the child.")}},function(e,t,n){"use strict";function r(e){return function(){return e}}var a=function(){};a.thatReturns=r,a.thatReturnsFalse=r(!1),a.thatReturnsTrue=r(!0),a.thatReturnsNull=r(null),a.thatReturnsThis=function(){return this},a.thatReturnsArgument=function(e){return e},e.exports=a},function(e,t,n){"use strict";var r=function(e){};"production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&(r=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=function(e,t,n,a,o,i,s,u){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,a,o,i,s,u],d=0;(l=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.matchesSelector=l,t.matchesSelectorAndParentsTo=function(e,t,n){var r=e;do{if(l(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.addEvent=function(e,t,n){if(!e)return;e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n},t.removeEvent=function(e,t,n){if(!e)return;e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null},t.outerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,o.int)(n.borderTopWidth),t+=(0,o.int)(n.borderBottomWidth)},t.outerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,o.int)(n.borderLeftWidth),t+=(0,o.int)(n.borderRightWidth)},t.innerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,o.int)(n.paddingTop),t-=(0,o.int)(n.paddingBottom)},t.innerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,o.int)(n.paddingLeft),t-=(0,o.int)(n.paddingRight)},t.offsetXYFromParent=function(e,t){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),r=e.clientX+t.scrollLeft-n.left,a=e.clientY+t.scrollTop-n.top;return{x:r,y:a}},t.createCSSTransform=function(e){var t=e.x,n=e.y;return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},(0,i.browserPrefixToKey)("transform",s.default),"translate("+t+"px,"+n+"px)")},t.createSVGTransform=function(e){var t=e.x,n=e.y;return"translate("+t+","+n+")"},t.getTouch=function(e,t){return e.targetTouches&&(0,o.findInArray)(e.targetTouches,function(e){return t===e.identifier})||e.changedTouches&&(0,o.findInArray)(e.changedTouches,function(e){return t===e.identifier})},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.addUserSelectStyles=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {background: transparent;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {background: transparent;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&c(e.body,"react-draggable-transparent-selection")},t.removeUserSelectStyles=function(e){try{e&&e.body&&d(e.body,"react-draggable-transparent-selection"),window.getSelection().removeAllRanges()}catch(e){}},t.styleHacks=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r({touchAction:"none"},e)},t.addClassName=c,t.removeClassName=d;var a,o=n(0),i=n(19),s=(a=i)&&a.__esModule?a:{default:a};var u="";function l(e,t){return u||(u=(0,o.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,o.isFunction)(e[t])})),!!(0,o.isFunction)(e[u])&&e[u](t)}function c(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)"+t+"(?!\\S)"))||(e.className+=" "+t)}function d(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)"+t+"(?!\\S)","g"),"")}},function(e,n){e.exports=t},function(e,t,n){if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV){var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=n(14)(function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},!0)}else e.exports=n(17)()},function(e,t,n){"use strict";var r=n(1);if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV){r=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=0,o="Warning: "+e.replace(/%s/g,function(){return n[a++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}}).apply(void 0,[t].concat(r))}}}e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(r);var o=u(e);if("string"==typeof r){var i=o.ownerDocument,l=i.defaultView,c=void 0;if(!((c="parent"===r?o.parentNode:i.querySelector(r))instanceof HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var d=l.getComputedStyle(o),f=l.getComputedStyle(c);r={left:-o.offsetLeft+(0,a.int)(f.paddingLeft)+(0,a.int)(d.marginLeft),top:-o.offsetTop+(0,a.int)(f.paddingTop)+(0,a.int)(d.marginTop),right:(0,s.innerWidth)(c)-(0,s.outerWidth)(o)-o.offsetLeft+(0,a.int)(f.paddingRight)-(0,a.int)(d.marginRight),bottom:(0,s.innerHeight)(c)-(0,s.outerHeight)(o)-o.offsetTop+(0,a.int)(f.paddingBottom)-(0,a.int)(d.marginBottom)}}(0,a.isNum)(r.right)&&(t=Math.min(t,r.right));(0,a.isNum)(r.bottom)&&(n=Math.min(n,r.bottom));(0,a.isNum)(r.left)&&(t=Math.max(t,r.left));(0,a.isNum)(r.top)&&(n=Math.max(n,r.top));return[t,n]},t.snapToGrid=function(e,t,n){var r=Math.round(t/e[0])*e[0],a=Math.round(n/e[1])*e[1];return[r,a]},t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.getControlPosition=function(e,t,n){var r="number"==typeof t?(0,s.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var a=u(n),o=n.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,s.offsetXYFromParent)(r||e,o)},t.createCoreData=function(e,t,n){var r=e.state,o=!(0,a.isNum)(r.lastX),i=u(e);return o?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}},t.createDraggableData=function(e,t){return{node:t.node,x:e.state.x+t.deltaX,y:e.state.y+t.deltaY,deltaX:t.deltaX,deltaY:t.deltaY,lastX:e.state.x,lastY:e.state.y}};var r,a=n(0),o=n(4),i=(r=o)&&r.__esModule?r:{default:r},s=n(5);function u(e){var t=i.default.findDOMNode(e);if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(6)),i=f(n(7)),s=f(n(4)),u=n(5),l=n(9),c=n(0),d=f(n(11));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},m=h.mouse,v=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=a=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},a.handleDragStart=function(e){if(a.props.onMouseDown(e),!a.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var t=s.default.findDOMNode(a);if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var n=t.ownerDocument;if(!(a.props.disabled||!(e.target instanceof n.defaultView.Node)||a.props.handle&&!(0,u.matchesSelectorAndParentsTo)(e.target,a.props.handle,t)||a.props.cancel&&(0,u.matchesSelectorAndParentsTo)(e.target,a.props.cancel,t))){var r=(0,u.getTouchIdentifier)(e);a.setState({touchIdentifier:r});var o=(0,l.getControlPosition)(e,r,a);if(null!=o){var i=o.x,c=o.y,f=(0,l.createCoreData)(a,i,c);(0,d.default)("DraggableCore: handleDragStart: %j",f),(0,d.default)("calling",a.props.onStart),!1!==a.props.onStart(e,f)&&(a.props.enableUserSelectHack&&(0,u.addUserSelectStyles)(n),a.setState({dragging:!0,lastX:i,lastY:c}),(0,u.addEvent)(n,m.move,a.handleDrag),(0,u.addEvent)(n,m.stop,a.handleDragStop))}}},a.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=(0,l.getControlPosition)(e,a.state.touchIdentifier,a);if(null!=t){var n=t.x,o=t.y;if(Array.isArray(a.props.grid)){var i=n-a.state.lastX,s=o-a.state.lastY,u=(0,l.snapToGrid)(a.props.grid,i,s),c=r(u,2);if(i=c[0],s=c[1],!i&&!s)return;n=a.state.lastX+i,o=a.state.lastY+s}var f=(0,l.createCoreData)(a,n,o);if((0,d.default)("DraggableCore: handleDrag: %j",f),!1!==a.props.onDrag(e,f))a.setState({lastX:n,lastY:o});else try{a.handleDragStop(new MouseEvent("mouseup"))}catch(e){var p=document.createEvent("MouseEvents");p.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.handleDragStop(p)}}},a.handleDragStop=function(e){if(a.state.dragging){var t=(0,l.getControlPosition)(e,a.state.touchIdentifier,a);if(null!=t){var n=t.x,r=t.y,o=(0,l.createCoreData)(a,n,r),i=s.default.findDOMNode(a);i&&a.props.enableUserSelectHack&&(0,u.removeUserSelectStyles)(i.ownerDocument),(0,d.default)("DraggableCore: handleDragStop: %j",o),a.setState({dragging:!1,lastX:NaN,lastY:NaN}),a.props.onStop(e,o),i&&((0,d.default)("DraggableCore: Removing handlers"),(0,u.removeEvent)(i.ownerDocument,m.move,a.handleDrag),(0,u.removeEvent)(i.ownerDocument,m.stop,a.handleDragStop))}}},a.onMouseDown=function(e){return m=h.mouse,a.handleDragStart(e)},a.onMouseUp=function(e){return m=h.mouse,a.handleDragStop(e)},a.onTouchStart=function(e){return m=h.touch,a.handleDragStart(e)},a.onTouchEnd=function(e){return m=h.touch,a.handleDragStop(e)},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"componentWillUnmount",value:function(){var e=s.default.findDOMNode(this);if(e){var t=e.ownerDocument;(0,u.removeEvent)(t,h.mouse.move,this.handleDrag),(0,u.removeEvent)(t,h.touch.move,this.handleDrag),(0,u.removeEvent)(t,h.mouse.stop,this.handleDragStop),(0,u.removeEvent)(t,h.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&(0,u.removeUserSelectStyles)(t)}}},{key:"render",value:function(){return o.default.cloneElement(o.default.Children.only(this.props.children),{style:(0,u.styleHacks)(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),t}();v.displayName="DraggableCore",v.propTypes={allowAnyClick:i.default.bool,disabled:i.default.bool,enableUserSelectHack:i.default.bool,offsetParent:function(t,n){if(!0===e.browser&&t[n]&&1!==t[n].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:i.default.arrayOf(i.default.number),handle:i.default.string,cancel:i.default.string,onStart:i.default.func,onDrag:i.default.func,onStop:i.default.func,onMouseDown:i.default.func,className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe},v.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}},t.default=v}).call(t,n(20))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){void 0}},function(e,t,n){"use strict";var r=n(13).default;e.exports=r,e.exports.default=r,e.exports.DraggableCore=n(10).default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=m(n(6)),s=m(n(7)),u=m(n(4)),l=m(n(18)),c=n(5),d=n(9),f=n(0),p=m(n(10)),h=m(n(11));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDragStart=function(e,t){if((0,h.default)("Draggable: onDragStart: %j",t),!1===n.props.onStart(e,(0,d.createDraggableData)(n,t)))return!1;n.setState({dragging:!0,dragged:!0})},n.onDrag=function(e,t){if(!n.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",t);var r=(0,d.createDraggableData)(n,t),o={x:r.x,y:r.y};if(n.props.bounds){var i=o.x,s=o.y;o.x+=n.state.slackX,o.y+=n.state.slackY;var u=(0,d.getBoundPosition)(n,o.x,o.y),l=a(u,2),c=l[0],f=l[1];o.x=c,o.y=f,o.slackX=n.state.slackX+(i-o.x),o.slackY=n.state.slackY+(s-o.y),r.x=o.x,r.y=o.y,r.deltaX=o.x-n.state.x,r.deltaY=o.y-n.state.y}if(!1===n.props.onDrag(e,r))return!1;n.setState(o)},n.onDragStop=function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,(0,d.createDraggableData)(n,t)))return!1;(0,h.default)("Draggable: onDragStop: %j",t);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var a=n.props.position,o=a.x,i=a.y;r.x=o,r.y=i}n.setState(r)},n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),o(t,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&u.default.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(e){!e.position||this.props.position&&e.position.x===this.props.position.x&&e.position.y===this.props.position.y||this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,t={},n=null,a=!Boolean(this.props.position)||this.state.dragging,o=this.props.position||this.props.defaultPosition,s={x:(0,d.canDragX)(this)&&a?this.state.x:o.x,y:(0,d.canDragY)(this)&&a?this.state.y:o.y};this.state.isElementSVG?n=(0,c.createSVGTransform)(s):t=(0,c.createCSSTransform)(s);var u=this.props,f=u.defaultClassName,h=u.defaultClassNameDragging,m=u.defaultClassNameDragged,y=i.default.Children.only(this.props.children),g=(0,l.default)(y.props.className||"",f,(v(e={},h,this.state.dragging),v(e,m,this.state.dragged),e));return i.default.createElement(p.default,r({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),i.default.cloneElement(y,{className:g,style:r({},y.props.style,t),transform:n}))}}]),t}();y.displayName="Draggable",y.propTypes=r({},p.default.propTypes,{axis:s.default.oneOf(["both","x","y","none"]),bounds:s.default.oneOfType([s.default.shape({left:s.default.number,right:s.default.number,top:s.default.number,bottom:s.default.number}),s.default.string,s.default.oneOf([!1])]),defaultClassName:s.default.string,defaultClassNameDragging:s.default.string,defaultClassNameDragged:s.default.string,defaultPosition:s.default.shape({x:s.default.number,y:s.default.number}),position:s.default.shape({x:s.default.number,y:s.default.number}),className:f.dontSetMe,style:f.dontSetMe,transform:f.dontSetMe}),y.defaultProps=r({},p.default.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null}),t.default=y},function(e,t,n){"use strict";var r=n(1),a=n(2),o=n(8),i=n(15),s=n(3),u=n(16);e.exports=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,l="@@iterator";var c="<<anonymous>>",d={array:m("array"),bool:m("boolean"),func:m("function"),number:m("number"),object:m("object"),string:m("string"),symbol:m("symbol"),any:h(r.thatReturnsNull),arrayOf:function(e){return h(function(t,n,r,a,o){if("function"!=typeof e)return new p("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var i=t[n];if(!Array.isArray(i)){var u=y(i);return new p("Invalid "+a+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected an array.")}for(var l=0;l<i.length;l++){var c=e(i,l,r,a,o+"["+l+"]",s);if(c instanceof Error)return c}return null})},element:function(){return h(function(t,n,r,a,o){var i=t[n];if(!e(i)){var s=y(i);return new p("Invalid "+a+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected a single ReactElement.")}return null})}(),instanceOf:function(e){return h(function(t,n,r,a,o){if(!(t[n]instanceof e)){var i=e.name||c,s=function(e){if(!e.constructor||!e.constructor.name)return c;return e.constructor.name}(t[n]);return new p("Invalid "+a+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected instance of `"+i+"`.")}return null})},node:function(){return h(function(e,t,n,r,a){if(!v(e[t]))return new p("Invalid "+r+" `"+a+"` supplied to `"+n+"`, expected a ReactNode.");return null})}(),objectOf:function(e){return h(function(t,n,r,a,o){if("function"!=typeof e)return new p("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var i=t[n],u=y(i);if("object"!==u)return new p("Invalid "+a+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var l in i)if(i.hasOwnProperty(l)){var c=e(i,l,r,a,o+"."+l,s);if(c instanceof Error)return c}return null})},oneOf:function(e){if(!Array.isArray(e))return"production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&o(!1,"Invalid argument supplied to oneOf, expected an instance of array."),r.thatReturnsNull;return h(function(t,n,r,a,o){for(var i=t[n],s=0;s<e.length;s++)if(f(i,e[s]))return null;var u=JSON.stringify(e);return new p("Invalid "+a+" `"+o+"` of value `"+i+"` supplied to `"+r+"`, expected one of "+u+".")})},oneOfType:function(e){if(!Array.isArray(e))return"production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&o(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),r.thatReturnsNull;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return o(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",b(n),t),r.thatReturnsNull}return h(function(t,n,r,a,o){for(var i=0;i<e.length;i++){var u=e[i];if(null==u(t,n,r,a,o,s))return null}return new p("Invalid "+a+" `"+o+"` supplied to `"+r+"`.")})},shape:function(e){return h(function(t,n,r,a,o){var i=t[n],u=y(i);if("object"!==u)return new p("Invalid "+a+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var l in e){var c=e[l];if(c){var d=c(i,l,r,a,o+"."+l,s);if(d)return d}}return null})},exact:function(e){return h(function(t,n,r,a,o){var u=t[n],l=y(u);if("object"!==l)return new p("Invalid "+a+" `"+o+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");var c=i({},t[n],e);for(var d in c){var f=e[d];if(!f)return new p("Invalid "+a+" `"+o+"` key `"+d+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var h=f(u,d,r,a,o+"."+d,s);if(h)return h}return null})}};function f(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){this.message=e,this.stack=""}function h(e){if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV)var n={},r=0;function i(i,u,l,d,f,h,m){if(d=d||c,h=h||l,m!==s)if(t)a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&"undefined"!=typeof console){var v=d+":"+l;!n[v]&&r<3&&(o(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",h,d),n[v]=!0,r++)}return null==u[l]?i?null===u[l]?new p("The "+f+" `"+h+"` is marked as required in `"+d+"`, but its value is `null`."):new p("The "+f+" `"+h+"` is marked as required in `"+d+"`, but its value is `undefined`."):null:e(u,l,d,f,h)}var u=i.bind(null,!1);return u.isRequired=i.bind(null,!0),u}function m(e){return h(function(t,n,r,a,o,i){var s=t[n];return y(s)!==e?new p("Invalid "+a+" `"+o+"` of type `"+g(s)+"` supplied to `"+r+"`, expected `"+e+"`."):null})}function v(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(v);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e[l]);if("function"==typeof t)return t}(t);if(!r)return!1;var a,o=r.call(t);if(r!==t.entries){for(;!(a=o.next()).done;)if(!v(a.value))return!1}else for(;!(a=o.next()).done;){var i=a.value;if(i&&!v(i[1]))return!1}return!0;default:return!1}}function y(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function g(e){if(void 0===e||null===e)return""+e;var t=y(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function b(e){var t=g(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return p.prototype=Error.prototype,d.checkPropTypes=u,d.PropTypes=d,d}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,i,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))a.call(n,l)&&(s[l]=n[l]);if(r){i=r(n);for(var c=0;c<i.length;c++)o.call(n,i[c])&&(s[i[c]]=n[i[c]])}}return s}},function(e,t,n){"use strict";if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV)var r=n(2),a=n(8),o=n(3),i={};e.exports=function(e,t,n,s,u){if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV)for(var l in e)if(e.hasOwnProperty(l)){var c;try{r("function"==typeof e[l],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",s||"React class",n,l,typeof e[l]),c=e[l](t,l,s,n,null,o)}catch(e){c=e}if(a(!c||c instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",s||"React class",n,l,typeof c),c instanceof Error&&!(c.message in i)){i[c.message]=!0;var d=u?u():"";a(!1,"Failed %s type: %s%s",n,c.message,null!=d?d:"")}}}},function(e,t,n){"use strict";var r=n(1),a=n(2),o=n(3);e.exports=function(){function e(e,t,n,r,i,s){s!==o&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){var r;
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(a.apply(null,r));else if("object"===o)for(var i in r)n.call(r,i)&&r[i]&&e.push(i)}}return e.join(" ")}void 0!==e&&e.exports?e.exports=a:void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=a,t.browserPrefixToKey=o,t.browserPrefixToStyle=function(e,t){return t?"-"+t.toLowerCase()+"-"+e:e};var r=["Moz","Webkit","O","ms"];function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<r.length;n++)if(o(e,r[n])in t)return r[n];return""}function o(e,t){return t?""+t+function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e):e}t.default=a()},function(e,t){var n,r,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var u,l=[],c=!1,d=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length&&p())}function p(){if(!c){var e=s(f);c=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||c||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}}])},e.exports=r(n(32),n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=w(n(1)),o=n(36),i=w(n(666)),s=w(n(665)),u=w(n(91)),l=w(n(713)),c=w(n(6)),d=w(n(429)),f=w(n(57)),p=w(n(55)),h=w(n(590)),m=w(n(426)),v=w(n(912)),y=w(n(911)),g=w(n(909)),b=w(n(908)),_=w(n(18));function w(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O={saving:{buttonClass:"btn__state-save",buttonIcon:"sprite-settings-save"},saved:{buttonClass:"btn__state-success",buttonIcon:"sprite-verify-yes"},error:{buttonClass:"btn__state-error",buttonIcon:"sprite-verify-no"}},C=function(e){function t(e){E(this,t);var n=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleStatusUpdate=function(e){n.setState({status:e.status})},n.handleKeyUp=function(e){27!==e.keyCode||e.defaultPrevented||(_.default.backToCalendar(),e.preventDefault(),e.stopImmediatePropagation())},n.handleResourceChange=function(e){n.setState({resources:e.resources})},n.handleReminderChange=function(e){n.setState({remindersPerResource:e.remindersPerResource})},n.toggleSidebar=function(e){e&&e.preventDefault(),n.setState({sidebarCollapsed:!n.state.sidebarCollapsed})},n.closeSidebar=function(){n.setState({sidebarCollapsed:!0})},n.state=Object.assign({},u.default.getState(),{sidebarCollapsed:!0,remindersPerResource:l.default.getState().remindersPerResource,status:null}),n}return S(t,e),r(t,[{key:"componentDidMount",value:function(){u.default.listen(this.handleResourceChange),d.default.listen(this.handleStatusUpdate),l.default.listen(this.handleReminderChange),document.body.addEventListener("keyup",this.handleKeyUp,!1)}},{key:"componentWillReceiveProps",value:function(){var e=document.location.pathname;this.state.lastRouterPath!==e&&(this.setState({lastRouterPath:e}),f.default.clear())}},{key:"componentWillUnmount",value:function(){u.default.unlisten(this.handleResourceChange),d.default.unlisten(this.handleStatusUpdate),l.default.unlisten(this.handleReminderChange),document.body.removeEventListener("keyup",this.handleKeyUp,!1)}},{key:"renderCloseButton",value:function(){return a.default.createElement(o.Link,{to:_.default.getUrl("calendar"),className:"button ghost close-icon"},a.default.createElement("i",{className:"sprite-event-close"}))}},{key:"render",value:function(){var e=this,t=function(){var e=[];return window.CALENDAR_SETTINGS.loggedUser&&e.push({name:"preferences.reminders",message:"reminders.title",icon:"sprite-settings-reminder"}),window.CALENDAR_SETTINGS.userSignupEnabled&&e.push({name:"preferences.email-notifications",message:"notifications.email.title",icon:"sprite-preferences-notifications"}),window.CALENDAR_SETTINGS.userSignupEnabled&&e.push({name:"preferences.agenda",message:"agenda.title",icon:"sprite-preferences-agenda"}),window.CALENDAR_SETTINGS.userSignupEnabled&&e.push({name:"preferences.slack-notifications",message:"notifications.slack.title",icon:"sprite-settings-slack"}),window.CALENDAR_SETTINGS.icsFeedsEnabled&&e.push({name:"preferences.ical-feeds",message:"ical.title",icon:"sprite-preferences-ical-feeds"}),e}(),n=this.renderCloseButton();return a.default.createElement(i.default,{className:"modal__window-preferences"},a.default.createElement(s.default,{title:"preferences.title",statusTypeMap:O,showStatus:!1,closeButton:n,toggleSidebar:this.toggleSidebar,sidebarCollapsed:this.state.sidebarCollapsed},a.default.createElement("div",{className:"page__settings__category"},a.default.createElement(m.default,{routes:t,route:"auto"}),t.map(function(e){return a.default.createElement(o.Route,{key:e.name,path:_.default.getRawPath(e.name),render:function(){return a.default.createElement(c.default,{message:e.message})}})})),a.default.createElement("section",{className:"page__settings__content"},a.default.createElement("section",{className:"page__settings__content-left"+(this.state.sidebarCollapsed?"":" opened")},a.default.createElement(h.default,{routes:t,closeSidebar:this.closeSidebar})),a.default.createElement("section",{className:"page__settings__content-right preferences"},a.default.createElement(o.Switch,null,a.default.createElement(o.Route,{path:_.default.getRawPath("preferences.reminders"),render:function(){return a.default.createElement(b.default,Object.assign({reminders:e.state.remindersPerResource,resources:e.state.resources},e.props))}}),a.default.createElement(o.Route,{path:_.default.getRawPath("preferences.email-notifications"),render:function(){return a.default.createElement(y.default,{transport:"email",resources:e.state.resources})}}),a.default.createElement(o.Route,{path:_.default.getRawPath("preferences.agenda"),render:function(){return a.default.createElement(g.default,{resources:e.state.resources})}}),a.default.createElement(o.Route,{path:_.default.getRawPath("preferences.slack-notifications"),render:function(){return a.default.createElement(y.default,{transport:"slack",resources:e.state.resources})}}),a.default.createElement(o.Route,{path:_.default.getRawPath("preferences.ical-feeds"),render:function(){return a.default.createElement(v.default,{resources:e.state.resources})}}))))))}}]),t}((0,p.default)(function(e){function t(){return E(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,a["default"].Component),t}()));t.default=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.History=t.Router=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n(1)),o=n(36),i=p(n(594)),s=p(n(914)),u=p(n(903)),l=p(n(884)),c=n(94),d=p(n(675)),f=p(n(18));function p(e){return e&&e.__esModule?e:{default:e}}var h=f.default.getAppUrl(),m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){return a.default.createElement("div",null)}}]),t}();!function(){if(window.location.hash&&window.location.hash.length>0){var e=window.location.hash;if("#"===e.substring(0,1)&&(e=e.substring(1)),-1===e.indexOf("preferences"))return;"/"!==e.substring(0,1)&&(e="/"+e),window.location.href=h+e}}(),window.addEventListener("popstate",function(){-1!==window.location.href.indexOf(f.default.getSettingsUrl())&&(d.default.show(),document.location.href=document.location.href)});var v=(0,o.withRouter)(u.default),y=function(){return a.default.createElement(c.TranslationContext,{section:"preferences"},a.default.createElement(v,null))},g=(0,o.withRouter)(s.default),b=(0,i.default)(),_=a.default.createElement(o.Router,{history:b},a.default.createElement("div",null,a.default.createElement(o.Switch,null,a.default.createElement(o.Redirect,{exact:!0,from:h+"/preferences",to:h+"/preferences/ical-feeds"}),a.default.createElement(o.Redirect,{exact:!0,from:h+"/preferences/",to:h+"/preferences/ical-feeds"}),a.default.createElement(o.Redirect,{from:h+"/new",to:h+"/events/new"}),a.default.createElement(o.Route,{path:h+"/preferences",component:function(){return a.default.createElement(c.TranslationContext,{section:"preferences"},a.default.createElement(g,null))}}),a.default.createElement(o.Route,{path:h+"/events/new",component:y}),a.default.createElement(o.Route,{path:h+"/events/:event_id/print",component:y}),a.default.createElement(o.Route,{path:h+"/events/:event_id",component:y}),a.default.createElement(o.Route,{path:h+"/print",component:l.default}),a.default.createElement(o.Route,{path:h+"/",component:m}),a.default.createElement(o.Route,{path:h+"*",component:m}))));t.Router=_,t.History=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(435)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=m(n(1)),i=n(176),s=m(n(453)),u=m(n(644)),l=m(n(6)),c=m(n(56)),d=m(n(216)),f=m(n(4)),p=m(n(647)),h=m(n(18));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){function t(e){v(this,t);var n=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onShowMenu=function(e){n.setState({event:e.detail.data.event,triggerComponent:e.detail.data.component}),e.detail.data.component.setAllowTooltip(!1)},n.onHideMenu=function(){n.state.triggerComponent&&n.state.triggerComponent.setAllowTooltip(!0),n.setState({event:void 0,triggerComponent:void 0})},n.handleShowREditPrompt=function(e){n.setState({reditPromptHandler:e})},n.renderMenu=function(){return n.state.event?o.default.createElement(_,{event:n.state.event,onShowREditPrompt:n.handleShowREditPrompt}):o.default.createElement("div",null)},n.state={event:void 0,triggerComponent:void 0,reditPromptHandler:!1},n}return g(t,o["default"].Component),a(t,[{key:"renderREditPrompt",value:function(){var e=this;if(this.state.reditPromptHandler)return o.default.createElement(p.default,{onPick:this.state.reditPromptHandler,onCancel:function(){e.setState({reditPromptHandler:!1})}})}},{key:"render",value:function(){return o.default.createElement("div",null,o.default.createElement(i.ContextMenu,{className:"event-context-menu",id:"eventContextMenuReact",onShow:this.onShowMenu,onHide:this.onHideMenu},this.renderMenu()),this.renderREditPrompt())}}]),t}();t.default=b;var _=function(e){function t(e){v(this,t);var n=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.printClick=function(){h.default.printEvent(n.props.event.id)},n.handleExport=function(e){u.default.exportTo(e,n.props.event,{appBaseUrl:window.APP_BASE_URL,timezone:c.default.getState().timezone.value,appKey:window.APP_KEY})},n.initMoveDatePicker=function(e){if(e){var t=(0,r.default)(n.baseDatePickerOpts);t.onChange=n.handleMoveDateChange.bind(n),n.moveDatePicker=new s.default(e,t)}else n.moveDatePicker.destroy()},n.initCopyDatePicker=function(e){if(e){var t=(0,r.default)(n.baseDatePickerOpts);t.onChange=n.handleCopyDateChange.bind(n),n.copyDatePicker=new s.default(e,t)}else n.copyDatePicker.destroy()},n.handleCopyDateChange=function(e){d.default.copyEventToDate(n.props.event,(0,f.default)(e[0])),(0,i.hideMenu)()},n.handleMoveDateChange=function(e){d.default.shiftEventToDate(n.props.event,(0,f.default)(e[0])),(0,i.hideMenu)()},n.deleteEventClick=function(){n.props.event.rrule?(n.props.onShowREditPrompt(n.deleteEvent),n.forceUpdate()):n.deleteEvent(),(0,i.hideMenu)()},n.deleteEvent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==e&&(n.props.event.redit=e),d.default.deleteEvent(n.props.event).then(function(){return n.props.onShowREditPrompt(!1)})},n.initOptions(e),n}return g(t,o["default"].Component),a(t,[{key:"componentWillReceiveProps",value:function(e){this.initOptions(e)}},{key:"initOptions",value:function(e){var t=e.event.ristart_dt?e.event.ristart_dt.toDate():e.event.start_dt.toDate(),n={firstDayOfWeek:c.default.getState().datetime.weekStart,weekdays:{shorthand:f.default.weekdaysShort(),longhand:f.default.weekdays()},months:{shorthand:f.default.monthsShort(),longhand:f.default.months()}};this.baseDatePickerOpts={allowInput:!1,dateFormat:"Y-m-d",defaultDate:t,inline:!0,locale:n};try{this.moveDatePicker&&this.moveDatePicker.setDate(t)}catch(e){this.initMoveDatePicker(null)}try{this.copyDatePicker&&this.copyDatePicker.setDate(t)}catch(e){this.initCopyDatePicker(null)}}},{key:"renderSharingMenu",value:function(){var e=this,t=u.default.getAvailableServices(c.default).map(function(t){return t.handler=function(){return e.handleExport(t.name)},t});return t.length?o.default.createElement(i.SubMenu,{className:"event-share-menu",title:o.default.createElement("span",null,o.default.createElement("span",{className:"icon-wrapper"},o.default.createElement("i",{className:"sprite-icon-share"})),o.default.createElement(l.default,{component:"a",message:"event.menu.export"}))},t.map(this.renderExportItem)):null}},{key:"renderExportItem",value:function(e,t){return o.default.createElement(i.MenuItem,{key:t,onClick:e.handler},o.default.createElement("span",{className:"icon-wrapper"},o.default.createElement("i",{className:e.icon})),o.default.createElement(l.default,{message:e.label,component:"a"}))}},{key:"render",value:function(){var e=this.props.event.readonly;return o.default.createElement("div",null,o.default.createElement(i.MenuItem,{onClick:this.printClick},o.default.createElement("span",{className:"icon-wrapper"},o.default.createElement("i",{className:"sprite-icon-print"})),o.default.createElement(l.default,{component:"a",message:"event.menu.print"})),this.renderSharingMenu(),!1===e&&o.default.createElement(i.MenuItem,{onClick:this.deleteEventClick},o.default.createElement("span",{className:"icon-wrapper"},o.default.createElement("i",{className:"sprite-verify-no"})),o.default.createElement(l.default,{component:"a",message:"event.menu.delete"})),o.default.createElement(i.MenuItem,{divider:!0}),!1===e&&o.default.createElement(i.SubMenu,{title:o.default.createElement("span",null,o.default.createElement("span",{className:"icon-wrapper"},o.default.createElement("i",{className:"sprite-icon-move"})),o.default.createElement(l.default,{component:"a",message:"event.menu.moveTo"}))},o.default.createElement("div",{ref:this.initMoveDatePicker})),0==e&&o.default.createElement(i.SubMenu,{title:o.default.createElement("span",null,o.default.createElement("span",{className:"icon-wrapper"},o.default.createElement("i",{className:"sprite-icon-copy"})),o.default.createElement(l.default,{component:"a",message:"event.menu.copyTo"}))},o.default.createElement("div",{ref:this.initCopyDatePicker})))}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=v(n(1)),i=v(n(219)),s=v(n(91)),u=v(n(723)),l=v(n(143)),c=v(n(583)),d=v(n(6)),f=v(n(10)),p=v(n(348)),h=v(n(56)),m=v(n(182));function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleStateUpdate=function(e){e.views.search.query!==n.state.query&&(n.setState({query:e.views.search.query}),n.queryEl&&(n.queryEl.value=e.views.search.query||"")),e.datetime.visibleStartDate.isSame(n.state.minEndDate)||n.setState({minEndDate:e.datetime.visibleStartDate})},n.queryHandler=function(e){var t=e.currentTarget.value,r=n.validateQuery(t);n.setState({errors:r})},n.startDateHandler=function(e){n.endDatePicker.getValue().isBefore(e)&&n.endDatePicker.setValue(e.clone().add(n.endDatePicker.getValue().diff(n.state.minEndDate,"hours")+12,"hours").startOf("day")),n.setState({minEndDate:e})},n.handleSearch=function(){var e=n.getValues();0==n.state.errors.length&&m.default.doSearch(e.query,e.startDate,e.endDate)},n.cancelSearch=function(){m.default.setView(h.default.getState().views.lastNonSearchViewId)};var r=n.initAbstractState();return n.state=Object.assign(r,{events:i.default.getState().events,query:h.default.getState().views.search.query,errors:[],minEndDate:r.visibleStartDate}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["default"]),r(t,[{key:"updateEvents",value:function(e){this.setState({events:e})}},{key:"componentDidMount",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this),h.default.listen(this.handleStateUpdate)}},{key:"componentWillUnmount",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this),h.default.unlisten(this.handleStateUpdate)}},{key:"componentDidUpdate",value:function(e,t){this.startDatePicker&&!this.state.visibleStartDate.isSame(t.visibleStartDate)&&this.startDatePicker.setValue(this.state.visibleStartDate),this.endDatePicker&&!this.state.visibleEndDate.isSame(t.visibleEndDate)&&this.endDatePicker.setValue(this.state.visibleEndDate)}},{key:"handleKeyPress",value:function(e){27!==e.keyCode||e.defaultPrevented?13!==e.keyCode||e.defaultPrevented||this.handleSearch():this.cancelSearch()}},{key:"getValues",value:function(){return{query:this.queryEl.value,startDate:this.startDatePicker.getValue(),endDate:this.endDatePicker.getValue()}}},{key:"validateQuery",value:function(e){if((e=e.replace(/(from|to): ?(.*?) /gi,"").trim()).length<2)return[f.default.trans("calendar:search.queryField.tooShort")];if(e.length>100)return[f.default.trans("calendar:search.queryField.tooLong")];var t=e.match(/([+-]\"[^\"]+\"|\"[^\"]+\"|[+-]\w+|\w+)\s*/g);return t&&t.length>8?[f.default.trans("calendar:search.queryField.tooManyTerms")]:[]}},{key:"renderErrors",value:function(){var e=[];return this.state.errors.length>0&&(e=this.state.errors.map(function(e,t){return o.default.createElement("span",{key:"search-error-"+t,className:"search-query-errors"},e)})),o.default.createElement("nav",{className:"react-contextmenu tooltip-renderer error-wrapper"},e)}},{key:"renderHeader",value:function(){var e=this;return o.default.createElement("div",{className:"filter-view-hd"+(this.state.errors.length>0?" has-error":"")},o.default.createElement("div",{className:"filter-view-flex-wrapper"},o.default.createElement("section",{className:"query-section"},o.default.createElement("div",{className:"filter-view__filters-label"},o.default.createElement(d.default,{message:"calendar:search.queryField.label",component:"label"}),o.default.createElement("a",{href:"http://calendar.teamup.com/kb/searching-teamup-calendar/",target:"_blank"},o.default.createElement("i",{className:"sprite-icon-bookmark icon-offset-normal"}),f.default.trans("calendar:search.searchGuide"))),o.default.createElement("input",{type:"text",ref:function(t){e.queryEl=t},name:"query",className:"search-query-input",defaultValue:this.state.query,onChange:this.queryHandler,onBlur:this.queryHandler,onKeyDown:this.handleKeyPress.bind(this),placeholder:f.default.trans("calendar:search.queryField.emptyText"),autoFocus:!0}),this.renderErrors()),o.default.createElement("section",{className:"search__date-picker-wrapper"},o.default.createElement("div",{className:"search__date-picker"},o.default.createElement("div",{className:"filter-view__filters-label"},o.default.createElement(d.default,{message:"search.dateRangeField.startDate",component:"label"})),o.default.createElement(p.default,{ref:function(t){e.startDatePicker=t},name:"start_date",defaultValue:this.state.visibleStartDate,onChange:this.startDateHandler,weekStart:this.state.weekStart})),o.default.createElement("div",{className:"search__date-picker"},o.default.createElement("div",{className:"filter-view__filters-label"},o.default.createElement(d.default,{message:"search.dateRangeField.endDate",component:"label"})),o.default.createElement(p.default,{ref:function(t){e.endDatePicker=t},name:"end_date",defaultValue:this.state.visibleEndDate,weekStart:this.state.weekStart,minDate:this.state.minEndDate}))),o.default.createElement("section",{className:"buttons-section"},o.default.createElement("a",{className:"btn__state-green",onClick:this.handleSearch},f.default.trans("calendar:search.searchBtn")),o.default.createElement("a",{className:"btn__state",onClick:this.cancelSearch},f.default.trans("calendar:search.closeBtn")))))}},{key:"render",value:function(){var e=[],t=h.default.getState();return t.views.search.offset>0&&e.push(o.default.createElement(d.default,{component:"a",key:"prev",onClick:m.default.searchPrevPage,className:"previous-link",section:"calendar",message:"agenda_view.prevLinkText"})),this.state.events.length>=t.views.search.limit&&(e.length&&e.push(o.default.createElement("span",{key:"sep"},"|")),e.push(o.default.createElement(d.default,{component:"a",key:"next",onClick:m.default.searchNextPage,className:"next-link",section:"calendar",message:"agenda_view.nextLinkText"}))),o.default.createElement("div",{className:"search-view agenda-view list-view"},o.default.createElement("div",{className:"filter-view "},this.renderHeader()),o.default.createElement(u.default,{events:l.default.splitEventsByListGrouping(this.state.events,this.state.viewStartDate,this.state.viewEndDate,"month",!1,!0),subcalendars:s.default.getState().resources,groupBySelectValue:"month",showDetails:!1,oneToManyLayoutStripe:!1,isAgendaView:!1,pageLinks:e,readOnly:this.state.readOnly}))}}]),t}();t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(646)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n(1)),i=p(n(219)),s=p(n(91)),u=p(n(182)),l=p(n(56)),c=p(n(583)),d=p(n(671)),f=p(n(6));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.monthsHandler=function(e){var t=parseInt(e.currentTarget.value);u.default.setViewSetting("year","number",t,!0),n.setState({months:t})};var r=n.initAbstractState();return n.state=Object.assign(r,{events:i.default.getState().events,subcalendars:s.default.getState().subcalendars,months:l.default.getState().views.year.number}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c["default"]),a(t,[{key:"updateEvents",value:function(e){this.setState({events:e})}},{key:"renderHeader",value:function(){return o.default.createElement("div",{className:"filter-view"},o.default.createElement("div",{className:"filter-view-hd"},o.default.createElement("div",{className:"filter-view-flex-wrapper"},o.default.createElement("section",null,o.default.createElement("div",{className:"filter-view__filters-label"},o.default.createElement(f.default,{message:"year_view.numberOfMonthsText",component:"label"})),o.default.createElement("select",{name:"month-count",className:"filter-view-input filter-view__range-select",defaultValue:this.state.months.toString(),onChange:this.monthsHandler},(0,r.default)(1,13).map(function(e){return o.default.createElement("option",{value:e,key:"value"+e},e)}))))))}},{key:"render",value:function(){return o.default.createElement("div",{className:this.props.className},this.renderHeader(),o.default.createElement("div",{className:"year-view-body"},o.default.createElement(d.default,{view:this.state.currentView,readOnly:this.state.readOnly,events:this.state.events,currentDate:this.state.currentDate,visibleStartDate:this.state.visibleStartDate,visibleEndDate:this.state.visibleEndDate,viewStartDate:this.state.viewStartDate,viewEndDate:this.state.viewEndDate,rowsCount:this.state.months,cellsCount:37,subcalendars:this.state.subcalendars,weekStart:this.state.weekStart,hideWeekend:this.state.hideWeekend,oneToManyLayoutStripe:this.state.oneToManyLayoutStripe,showHeader:!0,isHeaderView:!1,leftGutterWidth:"70px",isPdf:!0===this.state.isPdf,formatPdfEco:!0===this.state.formatPdfEco})))}}]),t}();h.defaultProps={showSidebar:!0,className:"year-view",headerClassName:"year-view-hd agenda-view__agenda-filters",leftGutterWidth:"20px",leftGutterClassName:"left-gutter"},t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n(1)),o=d(n(219)),i=d(n(91)),s=d(n(583)),u=d(n(719)),l=d(n(714)),c=d(n(143));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.initAbstractState(),a=i.default.getState().resources;return n.state=Object.assign(r,{events:o.default.getState().events,subcalendars:a}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["default"]),r(t,[{key:"updateEvents",value:function(e){this.setState({events:e})}},{key:"render",value:function(){var e=c.default.groupEventsByDate(this.state.events,this.state.viewStartDate,this.state.viewEndDate,"day",!0,!0)[this.state.viewStartDate.format("YYYY-MM-DD")],t=c.default.groupEventsBySubcalendarAndAllDayType(e),n=this.state.subcalendars.filter(function(e){return e.visible}),r=[];return n.forEach(function(e){r.push({label:e.name,color:e.color})}),a.default.createElement(l.default,{currentView:this.state.currentView,readOnly:this.state.readOnly,allDayEvents:t.allDayEvents,hourlyEvents:t.hourlyEvents,currentDate:this.state.currentDate,visibleStartDate:this.state.visibleStartDate,visibleEndDate:this.state.visibleEndDate,viewStartDate:this.state.viewStartDate,viewEndDate:this.state.viewEndDate,cellsCount:n.length,subcalendars:n,weekStart:this.state.weekStart,hideWeekend:this.state.hideWeekend,oneToManyLayoutStripe:this.state.oneToManyLayoutStripe,startHour:this.state.startHour,endHour:this.state.endHour,grid:this.state.grid,header:a.default.createElement(u.default,{cells:r,leftGutterWidth:"49px"}),isPdf:!0===this.state.isPdf,formatPdfEco:!0===this.state.formatPdfEco})}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n(1)),o=d(n(582)),i=n(607),s=d(n(648)),u=d(n(56)),l=d(n(91)),c=d(n(18));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cellRef="",n.state={formattedDate:e.date.format("YYYY-MM-DDTHH:mm:ss")},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){var e=this;return a.default.createElement("div",{className:"drag dropzone js-dnd-time-grid-row "+this.props.css,"data-date":this.state.formattedDate,style:this.props.rawStyle,ref:function(t){e.cellRef=t},onMouseDown:this.props.onMouseDown,onClick:this.props.onClick})}}]),t}(),p={canDrag:function(e,t){if(e.isSchedulerView){var n=i.DDHelpers.getGridColumnUnderPoint(t.x,t.y,".js-dnd-time-grid-column");if(n)if(l.default.findById(parseInt(n.getAttribute("data-subcalendar-id"))).readonly)return!1}return!e.readOnly},beginDrag:function(e,t,n){var r=document.querySelector(".calendar-body-content");return r&&r.classList.add("js-event-dragging"),{initialRow:n.cellRef}},drag:function(e,t){var n=i.DDHelpers.getChangeSetForTimeRange(t.clientOffset,t.item.initialRow,u.default.getState().grid.resolution);return n.valid?(document.body.style.cursor="copy",{changeSet:n}):(document.body.style.cursor="not-allowed",{changeSet:n})},endDrag:function(e,t,n){var r=document.querySelector(".calendar-body-content");if(r&&r.classList.remove("js-event-dragging"),!e){var a=i.DDHelpers.getChangeSetForTimeRange(n.clientOffset,n.item.initialRow,u.default.getState().grid.resolution);a.valid&&c.default.openEventEditor({start_dt:a.fields.start_dt.format("YYYY-MM-DD HH:mm:ss"),end_dt:a.fields.end_dt.format("YYYY-MM-DD HH:mm:ss"),all_day:!1,subcalendars:a.fields.subcalendar_id})}}};t.default=(0,s.default)(f,p,o.default.TIME_CELL)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(1)),o=s(n(219)),i=s(n(718));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={events:o.default.getState().events},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"renderEvents",value:function(){for(var e=this.props.eventGroups,t=[],n=void 0,r=void 0,o=void 0,s=void 0,u=void 0,l=0;l<e.length;l++){r=(n=e[l]).length;for(var c=0;c<r;c++){o=n[c];for(var d=0;d<o.length;d++){if(!(s=o[d]).timegrid)throw new Error("timegrid property missing on event, this is a logic error");u={top:s.timegrid.top+"px",left:s.timegrid.left+"%",width:s.timegrid.width+"%",height:s.timegrid.height+"px"},t.push(a.default.createElement(i.default,{event:s,resizable:!0,eventType:"time-grid",view:this.props.view,style:u,readOnly:this.props.readOnly,oneToManyLayoutStripe:this.props.oneToManyLayoutStripe,key:s.event.id+"-"+s.event.subcalendars[0].id,formatPdfEco:this.props.formatPdfEco,dragRecurEvent:this.props.dragRecurEvent}))}}}return t}},{key:"render",value:function(){return a.default.createElement("div",{className:this.props.className,"data-date":this.props.currentDate.format("YYYY-MM-DD 12:00:00"),"data-view-start-date":this.props.viewStartDate.format(),"data-view-end-date":this.props.viewEndDate.format(),"data-subcalendar-id":this.props.subcalendarId,onClick:this.props.onClick},a.default.createElement("div",{className:"day-inner"},this.renderEvents()))}}]),t}();u.defaultProps={className:"day js-dnd-time-grid-column"},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=v(n(1)),o=v(n(4)),i=v(n(921)),s=v(n(91)),u=v(n(45)),l=v(n(143)),c=v(n(920)),d=v(n(715)),f=n(607),p=v(n(18)),h=v(n(216)),m=v(n(647));function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onRowOrColClick=function(e){if(e.preventDefault(),!n.props.readOnly){var t=void 0,r=void 0;if(e.target.classList.contains("js-dnd-time-grid-column"))t=f.DDHelpers.getGridColumnUnderPoint(e.clientX,e.clientY,".js-dnd-time-grid-row"),r=e.target;else{if(!e.target.classList.contains("js-dnd-time-grid-row"))return;r=f.DDHelpers.getGridColumnUnderPoint(e.clientX,e.clientY,".js-dnd-time-grid-column"),t=e.target}if(r&&t){var a=(0,o.default)(t.getAttribute("data-date")),i=(0,o.default)(r.getAttribute("data-date"));if(a.year(i.year()).month(i.month()).date(i.date()),"scheduler"===n.props.view){var u=s.default.findById(parseInt(r.getAttribute("data-subcalendar-id")));return void(u.readonly||p.default.openEventEditor({subcalendar_ids:[u.id],start_dt:a.format("YYYY-MM-DD HH:mm:ss")}))}p.default.openEventEditor({start_dt:a.format("YYYY-MM-DD HH:mm:ss")})}}},n.handleREditPick=function(e){if(n.state.rEditPrompt){var t=n.state.rEditPrompt.event;t.redit=e,h.default.updateEvent(t,"move"),n.setState({rEditPrompt:null})}},n.state={rEditPrompt:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"getMinResolutioninMinutes",value:function(){var e=this.props.grid.resolution;return this.props.grid.options[e].minEventDisplayMinutes}},{key:"adjustEventStartDate",value:function(e,t){var n=t.clone().hours(this.props.endHour);return e.start_dt.isAfter(n)?n.subtract(this.getMinResolutioninMinutes(),"minutes"):o.default.max(e.start_dt,t.clone().hours(this.props.startHour))}},{key:"adjustEventEndDate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.clone().hours(this.props.startHour),a=void 0;if(e.end_dt.isBefore(r))return r.add(this.getMinResolutioninMinutes(),"minutes").subtract(1,"second");if((a=o.default.min(e.end_dt,t.clone().hours(this.props.endHour)),null!==n)&&a.diff(n,"minutes")<this.getMinResolutioninMinutes())return n.clone().add(this.getMinResolutioninMinutes(),"minutes").subtract(1,"second");return a.clone().subtract(1,"second")}},{key:"renderGutter",value:function(e){var t=[],n=this.props.currentDate.clone();n.hours(this.props.startHour).minutes(0).seconds(0);for(var r=this.props.startHour;r<this.props.endHour;r++){var o=n.format(u.default.get("short_time_moment"));t.push(a.default.createElement("div",{className:"label",style:{height:e+"px"},key:r+o},o)),n.add(1,"hours")}return a.default.createElement("div",{className:this.props.gutterClassName},t)}},{key:"renderSchedulerColumns",value:function(e){var t=this,n=[],r=void 0,o=void 0;return this.props.subcalendars.forEach(function(e){o=t.props.events[e.id]||[],r=t.prepareData(t.props.viewStartDate.clone(),o),n.push(a.default.createElement(i.default,{onClick:t.onRowOrColClick,view:t.props.view,eventGroups:r,currentDate:t.props.viewStartDate.clone(),startHour:t.props.startHour,endHour:t.props.endHour,grid:t.props.grid,hourIncrement:t.props.hourIncrement,readOnly:t.props.readOnly,viewStartDate:t.props.viewStartDate,viewEndDate:t.props.viewEndDate,subcalendarId:e.id,key:e.id,oneToManyLayoutStripe:t.props.oneToManyLayoutStripe,formatPdfEco:t.props.formatPdfEco,dragRecurEvent:function(e){t.setState({rEditPrompt:{show:!0,event:e}})}}))}),a.default.createElement("div",{className:this.props.daysClassName,style:{height:e+"px"}},n)}},{key:"renderDays",value:function(e){var t=this;if("scheduler"===this.props.view)return this.renderSchedulerColumns(e);for(var n=this.props.viewStartDate.clone(),r=[],o=void 0,s=void 0;n.isSameOrBefore(this.props.viewEndDate);)s=this.props.events[n.format("YYYY-MM-DD")]||[],o=this.prepareData(n,s),r.push(a.default.createElement(i.default,{onClick:this.onRowOrColClick,view:this.props.view,eventGroups:o,currentDate:n.clone(),startHour:this.props.startHour,endHour:this.props.endHour,grid:this.props.grid,hourIncrement:this.props.hourIncrement,readOnly:this.props.readOnly,viewStartDate:this.props.viewStartDate,viewEndDate:this.props.viewEndDate,key:n.format("YYYYMMDD"),oneToManyLayoutStripe:this.props.oneToManyLayoutStripe,formatPdfEco:this.props.formatPdfEco,dragRecurEvent:function(e){t.setState({rEditPrompt:{show:!0,event:e}})}})),n=n.add(36,"hours").startOf("day");return a.default.createElement("div",{className:this.props.daysClassName,style:{height:e+"px"}},r)}},{key:"renderRows",value:function(){var e=[],t=this.props.currentDate.clone(),n=this.props.grid.resolution,r=this.props.grid.options[n].minEventDisplayMinutes,o=Math.round(60/r),i=this.props.grid.options[n].hourHeight/o,s=[],u=void 0,l=5==r||10==r?3:2,d=void 0;t.hours(this.props.startHour);for(var f=0;f<o;f++)s.push({hourSeparatorHeight:i,border:"1px "+(f>0&&f%l!=0?"dotted":"solid")+" "+this.props.borderColor});for(var p=this.props.startHour;p<this.props.endHour;p++){u=[];for(var h=0;h<o;h++)d=p==this.props.startHour&&0==h?"none":s[h].border,u.push(a.default.createElement(c.default,{onClick:this.onRowOrColClick,css:this.props.rowInnerClassName,rawStyle:{height:i+"px",borderTop:d},key:h+t.format("X"),date:t.clone(),isSchedulerView:"scheduler"===this.props.view,readOnly:this.props.readOnly})),t.add(this.props.hourIncrement/o,"minutes");e.push(a.default.createElement("div",{className:this.props.rowClassName,style:{height:this.props.grid.options[n].hourHeight+"px"},id:"time-grid-hour-"+p,key:p+t.format("X")},u))}return a.default.createElement("div",{className:this.props.rowsClassName},e)}},{key:"rangesOverlap",value:function(e,t,n,r){return e>=n&&e<=r||t>=n&&t<=r||e<=n&&t>=r}},{key:"collidesWith",value:function(e,t,n){var r=this.props.grid.resolution,a=this.adjustEventStartDate(e,n),o=this.adjustEventEndDate(e,n,a),i=this.adjustEventStartDate(t,n),s=this.adjustEventEndDate(t,n,i),u=e.start_dt.diff(t.start_dt,"minutes");o.isBefore(a)&&(o=a),s.isBefore(i)&&(s=i);var l=this.rangesOverlap(a,o,i,s),c=this.props.grid.options[r].minEventDisplayMinutes||0;return l||c>0&&u>-c&&u<c}},{key:"expandEvent",value:function(e,t,n,r){var a=1,o=void 0,i=void 0,s=void 0;for(i=t+1;i<n.length;i++){for(o=n[i],s=0;s<o.length;s++)if(this.collidesWith(e.event,o[s].event,r))return a;a++}return a}},{key:"getEventPositionOffsets",value:function(){return{top:0,height:-1}}},{key:"getEventBox",value:function(e,t){var n=this.props.grid.resolution,r=this.props.grid.options[n],a=this.props.hourIncrement||60,o=r.minEventDisplayMinutes/(a/r.hourHeight),i=r.hourHeight/a,s=this.adjustEventStartDate(e,t),u=this.adjustEventEndDate(e,t,s),l=Math.max(s.hours()-this.props.startHour,0)*a,c=Math.min(u.hours()-this.props.startHour,this.props.endHour-this.props.startHour)*a,d=t.clone().hours(this.props.endHour),f=this.getEventPositionOffsets();return s.hours()>=this.props.startHour&&s.hours()<=this.props.endHour&&(l+=s.minutes()),s.hours()>=this.props.endHour&&(l=(this.props.endHour-this.props.startHour)*a),u<=d&&(c+=u.minutes()),{event:e,timegrid:{left:0,width:100,top:l*i+f.top,height:Math.max((c-l+1)*i,o)+f.height}}}},{key:"prepareData",value:function(e,t){var n=this,r=[],a=null,o=[];t.sort(l.default.sortEventsForDay),t.forEach(function(t){var i=n.adjustEventStartDate(t,e),s=n.adjustEventEndDate(t,e,i);null!==a&&i.isSameOrAfter(a)&&(o.push(r),r=[],a=null);for(var u=n.getEventBox(t,e),l=!1,c=0;c<r.length;c++){var d=r[c];if(!n.collidesWith(d[d.length-1].event,t,e)){d.push(u),l=!0;break}}l||r.push([u]),(null===a||s.isAfter(a))&&(a=s)}),r.length>0&&o.push(r);for(var i=o.length,s=0;s<i;s++)for(var u=o[s],c=u.length,d=0;d<c;d++)for(var f=u[d],p=0;p<f.length;p++){var h=f[p];if(!h.timegrid)throw new Error("timegrid property missing on event, this is a logic error");var m=this.expandEvent(h,d,u,e);h.timegrid.width=100*m/c,h.timegrid.left=d/c*100,h.event.start_dt.isBefore(e)&&(h.timegrid.date=e.clone()),f[p]=h}return o}},{key:"renderREditPrompt",value:function(){var e=this;if(this.state.rEditPrompt&&this.state.rEditPrompt.show){var t=!1;if(this.state.rEditPrompt.event){var n=this.state.rEditPrompt.event,r=(0,o.default)("2017-11-07");n.rrule&&n.rrule.match(/UNTIL/)&&(n.creation_dt.isBefore(r)||n.update_dt&&n.update_dt.isBefore(r))&&(t=!0)}return a.default.createElement(m.default,{onPick:this.handleREditPick,onCancel:function(){e.setState({rEditPrompt:null})},rruleUntilMessage:t})}return null}},{key:"render",value:function(){var e=this.props.grid.resolution,t=this.props.grid.options[e].hourHeight*(this.props.endHour-this.props.startHour);return a.default.createElement("div",{className:this.props.className},this.renderREditPrompt(),this.renderRows(),a.default.createElement("div",{className:this.props.columnsClassName},this.renderGutter(this.props.grid.options[e].hourHeight),this.renderDays(t)),0==this.props.readOnly&&a.default.createElement(d.default,{type:"time"}))}}]),t}();y.defaultProps={className:"time-grid js-dnd-time-grid",columnsClassName:"columns",rowsClassName:"rows",rowClassName:"row",rowInnerClassName:"day-time-inner",daysClassName:"days",gutterClassName:"gutter",borderColor:"#ddd"},t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n(1)),o=c(n(219)),i=c(n(91)),s=c(n(583)),u=c(n(143)),l=c(n(714));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.initAbstractState();return n.state=Object.assign(r,{events:o.default.getState().events,subcalendars:i.default.getState().resources}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["default"]),r(t,[{key:"updateEvents",value:function(e){this.setState({events:e})}},{key:"render",value:function(){var e=u.default.groupEventsByAllDayType(this.state.events),t=e.allDayEvents,n=u.default.groupEventsByDate(e.hourlyEvents,this.state.viewStartDate,this.state.viewEndDate,"day",this.state.oneToManyLayoutStripe,!0);return a.default.createElement(l.default,{currentView:this.state.currentView,readOnly:this.state.readOnly,allDayEvents:t,hourlyEvents:n,currentDate:this.state.currentDate,visibleStartDate:this.state.visibleStartDate,visibleEndDate:this.state.visibleEndDate,viewStartDate:this.state.viewStartDate,viewEndDate:this.state.viewEndDate,cellsCount:this.state.viewEndDate.diff(this.state.viewStartDate,"days")+1,subcalendars:this.state.subcalendars,weekStart:this.state.weekStart,hideWeekend:this.state.hideWeekend,oneToManyLayoutStripe:this.state.oneToManyLayoutStripe,startHour:this.state.startHour,endHour:this.state.endHour,grid:this.state.grid,isPdf:!0===this.state.isPdf,formatPdfEco:!0===this.state.formatPdfEco})}}]),t}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(27)),o=s(n(717)),i=s(n(76));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={isDragging:!1},e.bindActions({handleUpdate:o.default.updateDrag,handleAbort:o.default.abortDrag}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["default"]),r(t,[{key:"handleUpdate",value:function(e){this.state.monitor=e,this.state.isDragging=!0}},{key:"handleAbort",value:function(){this.state.monitor=void 0,this.state.isDragging=!1}}]),t}();t.default=a.default.createStore(u,"DragStateStore")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(1)),o=u(n(45)),i=u(n(10)),s=u(n(716));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){var e="";if("grid"===this.props.type){var t=s.default.getState().startDate,n=s.default.getState().endDate;if(!this.props.item.valid)return null;var r=o.default.get("box_layout.multi_day_month_start_moment");e=t.isSame(n,"day")?t.format(r):t.format(r)+" - "+n.format(r)}else{if(!this.props.item.changeSet||!this.props.item.changeSet.valid)return null;this.props.item.changeSet.fields.start_dt&&(e=this.props.item.changeSet.fields.start_dt.format(o.default.get("upper_time_moment"))),this.props.item.changeSet.fields.end_dt&&this.props.item.changeSet.fields.start_dt&&(e+=" - "),this.props.item.changeSet.fields.end_dt&&(e+=this.props.item.changeSet.fields.end_dt.format(o.default.get("upper_time_moment")))}var u={position:"absolute",height:"auto",left:Math.min(this.props.clientOffset.x,window.innerWidth-380),top:Math.min(this.props.clientOffset.y-20,window.innerHeight-150)};return a.default.createElement("div",{style:u,className:"event-preview-popup",role:"presentation"},a.default.createElement("div",{className:"preview-wrapper"},i.default.translate("calendar","calendar.ddCreateEventText").replace("{0}",e)))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(1)),o=l(n(143)),i=l(n(10)),s=l(n(45)),u=l(n(6));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"renderEventAction",value:function(e,t){var n="calendar.dd"+("copy"===this.props.dropResult?"Copy":"Move")+"EventText",r=void 0,o=s.default.get("box_layout.multi_day_month_start_moment"),u=s.default.get("time_moment"),l=void 0===e.fields.all_day?t.all_day:e.fields.all_day,c=e.fields.start_dt||t.start_dt,d=e.fields.end_dt||t.end_dt;r=l?c.clone().endOf("day").isBefore(d)?c.format(o)+" - "+d.format(o):c.format(o):c.clone().endOf("day").isBefore(d)?c.format(o+", "+u)+" - "+d.format(o+", "+u):c.format(o+", "+u)+" - "+d.format(u);var f="";return e.fields.subcalendars&&(f=", "+i.default.translate("calendar","event.tooltip.subcalendar")+" "+e.fields.subcalendars[0].name),a.default.createElement("div",{className:"event-action"},i.default.translate("calendar",n).replace("{0}",r)+f)}},{key:"renderErrorMessage",value:function(e){return a.default.createElement("div",{className:"event-action error"},a.default.createElement(u.default,{section:"calendar",message:"calendar.ddErrors."+e}))}},{key:"render",value:function(){var e=this.props.item.event,t={position:"absolute",height:"auto",left:Math.min(this.props.clientOffset.x,window.innerWidth-380),top:Math.min(this.props.clientOffset.y-20,window.innerHeight-150)},n=this.props.item.changeSet,r="cal-bg-"+(n.fields.subcalendars||e.subcalendars)[0].color,i=void 0;if(n.valid)i=this.renderEventAction(n,e);else{if("out_of_bounds"==n.error)return null;i=this.renderErrorMessage(n.error)}return a.default.createElement("div",{style:t,className:"event-preview-popup",role:"presentation"},a.default.createElement("div",{className:"event-title-wrapper"},a.default.createElement("div",{className:"event-title "+r},o.default.renderEventTitle(e)),i))}}]),t}();c.defaultProps={className:"event"},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(1)),o=s(n(56)),i=s(n(582));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.itemType,r={position:"absolute"};if(!t.changeSet||!t.changeSet.hoveredTimeColumn||!t.changeSet.hoveredTimeRow)return null;if(!t.changeSet.valid)return null;if(n==i.default.TIME_CELL)r.top=t.changeSet.hoveredTimeRow.offsetTop,r.height=t.changeSet.hoveredEndTimeRow.offsetTop+t.changeSet.hoveredEndTimeRow.offsetHeight-t.changeSet.hoveredTimeRow.offsetTop;else{var s=o.default.getState(),u=t.eventDiv.getBoundingClientRect();if(n==i.default.EVENT_DRAG_TIME_HANDLE){var l=t.changeSet.hoveredTimeRow.getBoundingClientRect();l.top>=u.top?(r.top=t.eventDiv.offsetTop,r.height=l.bottom-u.top):(r.top=t.eventDiv.offsetTop+(l.top-u.top),r.height=u.top-l.top-1)}else t.event.all_day?r.height=s.grid.options[s.grid.resolution].hourHeight:r.height=u.height,r.top=t.changeSet.hoveredTimeRow.offsetTop+1}return r.width=t.changeSet.hoveredTimeColumn.offsetWidth-12,r.left=t.changeSet.hoveredTimeColumn.offsetLeft,a.default.createElement("div",{style:r,className:"event-drag-handle-layer"})}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(1)),o=i(n(182));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.switchView=function(e){e.preventDefault(),o.default.setView(n.props.switchesTo,n.props.startDate)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){return a.default.createElement("div",{className:this.props.leftGutterClassName,onClick:this.switchView,style:{width:this.props.width}},this.props.text)}}]),t}();s.defaultProps={leftGutterClassName:"left-gutter"},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=m(n(1)),o=m(n(4)),i=m(n(91)),s=m(n(45)),u=m(n(582)),l=m(n(670)),c=m(n(716)),d=n(607),f=m(n(648)),p=m(n(182)),h=m(n(18));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){function t(e){v(this,t);var n=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleDragUpdate=function(e){if(n.props.subcalendarId&&e.subcalendarId!==n.state.hoverSubcalendarId)n.setState({hoverSubcalendarId:e.subcalendarId});else{var t=void 0;if(e.startDate&&e.endDate){var r=n.props.date;t=r.isSameOrAfter(e.startDate)&&r.isSameOrBefore(e.endDate)}else t=!1;n.state.isInHoverRange!==t&&n.setState({isInHoverRange:t})}},n.handleDayClick=function(e){e.preventDefault(),n.props.readOnly||h.default.openEventEditor(Object.assign({start_dt:n.props.date.format("YYYY-MM-DD")},n.props.data||{}))},n.handleDayNumberClick=function(e){e.preventDefault(),p.default.setView("day",n.props.date),e.stopPropagation()},n.state={isInHoverRange:!1,hoverSubcalendarId:void 0},n}return g(t,a["default"].Component),r(t,[{key:"componentDidMount",value:function(){c.default.listen(this.handleDragUpdate)}},{key:"componentWillUnmount",value:function(){c.default.unlisten(this.handleDragUpdate)}},{key:"renderDisabledCell",value:function(){return a.default.createElement("div",{className:"day-title day-disabled",onClick:this.props.isDragging?void 0:this.handleDayClick},a.default.createElement("span",{className:"day-title-text",id:"day-"+this.props.date.format("YYYY-MM-DD")}))}},{key:"render",value:function(){if(1==this.props.disabled)return this.renderDisabledCell();var e=6==this.props.date.day()||0==this.props.date.day(),t=this.props.date.isSame((0,o.default)(),"day")&&!this.props.isPdf?"day-today":e?"day-weekend":"";null!==this.props.extraCls&&(t=this.props.extraCls);var n=void 0;return n=this.props.subcalendarId?!(!this.state.hoverSubcalendarId||this.state.hoverSubcalendarId!=this.props.subcalendarId):this.state.isInHoverRange,a.default.createElement("div",{className:"day-title "+t+" dropzone js-dnd-grid-cell","data-date":this.props.date.format("YYYY-MM-DD 12:00:00"),"data-subcalendar-id":this.props.subcalendarId,onClick:this.props.isDragging?void 0:this.handleDayClick,onMouseDown:this.props.onMouseDown},a.default.createElement("span",{className:"day-title-text",id:"day-"+this.props.date.format("YYYY-MM-DD"),onClick:this.props.isDragging?void 0:this.handleDayNumberClick},this.props.title),n&&!this.props.readOnly&&a.default.createElement("div",{className:"cell-drag-highlight"}))}}]),t}();b.defaultProps={extraCls:null};var _={canDrag:function(e){return 0==e.readOnly},beginDrag:function(e){l.default.init(e.date);var t=document.querySelector(".calendar-body-content");return t&&t.classList.add("js-cell-dragging"),{valid:!0}},drag:function(e,t){var n=d.DDHelpers.getElementUnderPointByClass(t.clientOffset.x,t.clientOffset.y,"js-dnd-grid-cell");if(!n)return l.default.clear(),document.body.style.cursor="not-allowed",{valid:!1};var r=(0,o.default)(n.getAttribute("data-date"));return c.default.getState().dragStartDate||l.default.init(e.date),l.default.move(r),e.subcalendarId&&l.default.setSubcalendarId(e.subcalendarId),document.body.style.cursor="copy",{valid:!0}},endDrag:function(e,t,n){l.default.clear();var r=document.querySelector(".calendar-body-content");if(r&&r.classList.remove("js-cell-dragging"),!e){var a=d.DDHelpers.getElementUnderPointByClass(n.clientOffset.x,n.clientOffset.y,"js-dnd-grid-cell");if(a){var i=(0,o.default)(a.getAttribute("data-date")),s=t.date;i.isBefore(s)&&(s=i,i=t.date);var u={start_dt:s.format("YYYY-MM-DD"),end_dt:i.format("YYYY-MM-DD")};t.subcalendarId&&(u.subcalendars=[t.subcalendarId]),h.default.openEventEditor(u)}}}},w=(0,f.default)(b,_,u.default.CELL),E=function(e){function t(){return v(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,a["default"].Component),r(t,[{key:"getCellDateFormat",value:function(){var e=this.props.view;return"year"===e?"D":"scheduler"===e?"ddd DD":-1!==["day","multiday","week"].indexOf(e)?this.props.cellDate.isSame(this.props.visibleStartDate,"day")?s.default.get("box_layout.multi_day_first_day_moment"):s.default.get("box_layout.first_week_date_moment"):this.props.cellDate.isSame(this.props.visibleStartDate,"day")?s.default.get("box_layout.multi_day_first_day_moment"):"1"==this.props.cellDate.format("D")?s.default.get("box_layout.multi_day_month_start_moment"):"D"}},{key:"isReadOnly",value:function(){if(this.props.readOnly)return!0;if(this.props.subcalendarId){var e=i.default.findById(this.props.subcalendarId);if(e)return e.readonly}return!1}},{key:"render",value:function(){var e=this.props.showDate?this.props.cellDate.format(this.getCellDateFormat()):"",t=null;"month"!==this.props.view||this.props.cellDate.isSame(this.props.currentDate,"month")||(t=" day-"+(this.props.cellDate.isBefore(this.props.currentDate)?"prev":"next")+"-month");var n={date:this.props.cellDate,data:this.props.data,title:e,extraCls:t,disabled:this.props.disabled,subcalendarId:this.props.subcalendarId,readOnly:this.isReadOnly(),isPdf:this.props.isPdf};return a.default.createElement(w,Object.assign({},n))}}]),t}();E.defaultProps={},t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n(1)),o=c(n(216)),i=n(607),s=c(n(56)),u=c(n(582)),l=c(n(648));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.childRef="",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){var e=this;return a.default.createElement("div",{ref:function(t){e.childRef=t},style:{}.style,className:"event-drag-handle-wrapper",onMouseDown:this.props.onMouseDown},a.default.createElement("div",{className:"event-drag-handle"}))}}]),t}();d.defaultProps={className:"event"};var f={beginDrag:function(e,t,n){var r=document.querySelector(".calendar-body-content");return r&&(n.childRef.classList.add("js-current-dragging-handle"),r.classList.add("js-event-dragging")),{event:e.event.event,eventDiv:n.childRef.parentElement.parentElement}},drag:function(e,t,n){var r=i.DDHelpers.getShiftEventTimeChangeSet(e.event.event,t.clientOffset,t.initialClientOffset,s.default.getState().grid.resolution);return r.valid?(document.body.style.cursor="ns-resize",{changeSet:r}):(document.body.style.cursor="not-allowed",{changeSet:r})},endDrag:function(e,t,n,r){var a=t.event.event,u=i.DDHelpers.getShiftEventTimeChangeSet(a,n.clientOffset,n.initialClientOffset,s.default.getState().grid.resolution),l=document.querySelector(".calendar-body-content");l&&(r.childRef.classList.remove("js-current-dragging-handle"),l.classList.remove("js-event-dragging")),u&&u.valid&&!e&&(Object.keys(u.fields).forEach(function(e){void 0!==u.fields[e]&&(a[e]=u.fields[e])}),o.default.updateEvent(a,"move"))}};t.default=(0,l.default)(d,f,u.default.EVENT_DRAG_TIME_HANDLE)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n(1)),o=d(n(4)),i=d(n(45)),s=d(n(718)),u=d(n(929)),l=d(n(647)),c=d(n(216));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.ref=null,n.handleREditPick=function(e){if(n.state.rEditPrompt){var t=n.state.rEditPrompt.event;t.redit=e,c.default.updateEvent(t,"move"),n.setState({rEditPrompt:null})}},n.state={rEditPrompt:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"isCellVisible",value:function(e){return e.isSameOrAfter(this.props.rowVisibleStartDate)&&e.isSameOrBefore(this.props.rowVisibleEndDate)}},{key:"componentDidMount",value:function(){this.checkForOverflow()}},{key:"componentDidUpdate",value:function(){this.checkForOverflow()}},{key:"checkForOverflow",value:function(){this.ref&&(this.ref.offsetHeight===this.ref.scrollHeight?this.ref.classList.remove("overflowing"):this.ref.classList.add("overflowing"))}},{key:"renderREditPrompt",value:function(){var e=this;if(this.state.rEditPrompt&&this.state.rEditPrompt.show){var t=!1;if(this.state.rEditPrompt.event){var n=this.state.rEditPrompt.event,r=(0,o.default)("2017-11-07");n.rrule&&n.rrule.match(/UNTIL/)&&(n.creation_dt.isBefore(r)||n.update_dt&&n.update_dt.isBefore(r))&&(t=!0)}return a.default.createElement(l.default,{onPick:this.handleREditPick,onCancel:function(){e.setState({rEditPrompt:null})},rruleUntilMessage:t})}return null}},{key:"renderCells",value:function(){for(var e=[],t=this.props.rowStartDate.clone(),n=this.props.rowStartDate.format("YYYYMMDD-");t.isSameOrBefore(this.props.rowEndDate);)e.push(a.default.createElement(u.default,{cellDate:t.clone(),view:this.props.view,readOnly:this.props.readOnly,currentDate:this.props.currentDate,visibleStartDate:this.props.visibleStartDate,data:this.props.dateHeaderData,showDate:this.props.showDateHeader,disabled:!this.isCellVisible(t),key:n+t.format("YYYYMMDD"),subcalendarId:this.props.subcalendarId,isPdf:this.props.isPdf})),t.add(36,"hours").startOf("day"),this.props.hideWeekend&&6==t.day()&&(t=t.add(60,"hours").startOf("day"));return e}},{key:"renderEvents",value:function(e){var t=this,n=[],r=void 0,u=this.props.rowStartDate.format("YYYYMMDD-");for(r=0;r<e.length;r++)(e[r]||[]).forEach(function(e,l){if(e&&!e.isSpan){var c=i.default.diffDays(o.default.max(e.event.start_dt,t.props.rowVisibleStartDate),o.default.min(e.event.end_dt,t.props.rowVisibleEndDate))+1,d=100/t.props.cellsCount*c,f=0==r?0:100/t.props.cellsCount*Math.abs(r),p=17*l+22;n.push(a.default.createElement(s.default,{event:e,view:t.props.view,eventType:"grid",readOnly:t.props.readOnly,resizable:!1,oneToManyLayoutStripe:t.props.oneToManyLayoutStripe,style:{width:"calc("+d+"% - 1px)",top:p+"px",left:f+"%"},key:u+e.event.id+"-"+e.event.subcalendars[0].id,formatPdfEco:t.props.formatPdfEco,dragRecurEvent:function(e){t.setState({rEditPrompt:{show:!0,event:e}})}}))}});return n}},{key:"render",value:function(){var e=this;return a.default.createElement("div",{className:"row-content",ref:function(t){e.ref=t}},this.renderCells(),this.renderEvents(this.props.events),this.renderREditPrompt())}}],[{key:"calculateHeight",value:function(e){var t=void 0,n=0;for(t=0;t<e.length;t++)n=Math.max(n,e[t]?e[t].length:0);return 0==n?{minHeight:"40px"}:{minHeight:17*n+22+10+1+"px"}}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"getStartDateByMonth",value:function(e,t,n){var r=e.clone().startOf("month"),a=void 0;return r.add(n,"months"),(a=r.day()-t)<0&&(a+=7),r.add(-a,"days")}},{key:"getVisibleStartDateByMonth",value:function(e,t){var n=e.clone();return n.add(t,"months"),n.startOf("month")}},{key:"getVisibleEndDateByMonth",value:function(t,n){return e.getVisibleStartDateByMonth(t,n).endOf("month")}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(1)),o=l(n(219)),i=l(n(91)),s=l(n(583)),u=l(n(671));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.initAbstractState();return n.state=Object.assign(r,{events:o.default.getState().events,subcalendars:i.default.getState().subcalendars}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["default"]),r(t,[{key:"updateEvents",value:function(e){this.setState({events:e})}},{key:"getCellsCount",value:function(){return this.state.hideWeekend?5:7}},{key:"getRowsCount",value:function(){return Math.ceil(this.state.visibleEndDate.diff(this.state.visibleStartDate,"days")/7)}},{key:"render",value:function(){var e="month-view"+(this.props.className?" "+this.props.className:"");return a.default.createElement("div",{className:e},a.default.createElement(u.default,{view:this.state.currentView,readOnly:this.state.readOnly,events:this.props.events||this.state.events,currentDate:this.state.currentDate,visibleStartDate:this.state.visibleStartDate,visibleEndDate:this.state.visibleEndDate,viewStartDate:this.state.viewStartDate,viewEndDate:this.state.viewEndDate,rowsCount:this.getRowsCount(),cellsCount:this.getCellsCount(),subcalendars:this.state.subcalendars,weekStart:this.state.weekStart,hideWeekend:this.state.hideWeekend,oneToManyLayoutStripe:this.state.oneToManyLayoutStripe,showHeader:this.props.showHeader,isHeaderView:this.props.isHeaderView,leftGutterWidth:this.props.leftGutterWidth,allowTogglingShowAllEvents:!0,isPdf:!0===this.state.isPdf,formatPdfEco:!0===this.state.formatPdfEco}))}}]),t}();c.defaultProps={showHeader:!0,isHeaderView:!1,events:null,leftGutterWidth:"20px"},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(1)),o=u(n(45)),i=u(n(672)),s=u(n(10));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"renderEvents",value:function(){var e=this,t=!0,n=[];return this.props.events.map(function(r,o){var s=r.start_dt.format("YYYY-MM-DD");return-1===n.indexOf(s)?(t=!0,n.push(s)):t=!1,a.default.createElement(i.default,{key:"event-"+o+"-"+r.id,event:r,showDetails:e.props.showDetails,showDayColumn:!0,isFirstEventInDay:t,oneToManyLayoutStripe:e.props.oneToManyLayoutStripe,isAgendaView:e.props.isAgendaView,readOnly:e.props.readOnly})})}},{key:"renderGroupingTitle",value:function(){if("week"===this.props.groupBy){var e=o.default.get("box_layout.multi_day_first_day_moment"),t=s.default.translate("calendar","agenda_view.weekNumber",{weekNo:this.props.date.format("w:")}),n=this.props.date.clone().add(1,"week").subtract(12,"hours").startOf("day");return t+" "+this.props.date.format(e)+" - "+n.format(e)}if("month"===this.props.groupBy)return this.props.date.format(o.default.get("full_month_year_moment"))}},{key:"render",value:function(){return"none"===this.props.groupBy?a.default.createElement("div",null,this.renderEvents()):a.default.createElement("div",null,a.default.createElement("div",{className:"agenda-list__agenda-day date-"+this.props.date.format("YYYY-MM-DD")},a.default.createElement("div",{className:"agenda-day__title"},a.default.createElement("strong",{className:"agenda-day__title-weekday"},this.renderGroupingTitle())),a.default.createElement("dl",{className:"agenda-day__agenda-events-list"},this.renderEvents())),a.default.createElement("hr",{className:"agenda-list__hr-divider"}))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(1)),o=s(n(45)),i=s(n(672));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"renderEvents",value:function(){var e=this;return this.props.events.map(function(t,n){return a.default.createElement(i.default,{key:"event-"+n+"-"+t.id,event:t,readOnly:e.props.readOnly,showDetails:e.props.showDetails,oneToManyLayoutStripe:e.props.oneToManyLayoutStripe,currentViewDate:e.props.date,isFirstEventInDay:!1,isAgendaView:e.props.isAgendaView})})}},{key:"render",value:function(){return a.default.createElement("div",null,a.default.createElement("div",{className:"agenda-list__agenda-day date-"+this.props.date.format("YYYY-MM-DD")},a.default.createElement("div",{className:"agenda-day__title"},a.default.createElement("strong",{className:"agenda-day__title-weekday"},this.props.date.format("dddd")),a.default.createElement("span",{className:"agenda-day__title-date"},this.props.date.format(o.default.get("box_layout.multi_day_first_day_moment")))),a.default.createElement("dl",{className:"agenda-day__agenda-events-list"},this.renderEvents())),a.default.createElement("hr",{className:"agenda-list__hr-divider"}))}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(1)),o=l(n(6)),i=l(n(59)),s=l(n(56)),u=l(n(18));function l(e){return e&&e.__esModule?e:{default:e}}var c=[{label:"agenda_view.groupByNone",value:"none"},{label:"agenda_view.groupByWeek",value:"week"},{label:"agenda_view.groupByMonths",value:"month"}],d=[{label:"agenda_view.dateRangeOneDay",value:"day"},{label:"agenda_view.dateRangeOneWeek",value:"week"},{label:"agenda_view.dateRangeTwoWeeks",value:"2weeks"},{label:"agenda_view.dateRangeOneMonth",value:"month"},{label:"agenda_view.dateRangeThreeMonths",value:"3months"},{label:"agenda_view.dateRangeSixMonths",value:"6months"},{label:"agenda_view.dateRangeOneYear",value:"year"}],f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.renderTranslateMessages=function(e){return a.default.createElement(o.default,{key:e.value,message:e.label,component:"option",value:e.value})},e.openReactEditorToAddEvent=function(){u.default.openEventEditor({start_dt:s.default.getState().datetime.currentDate.format("YYYY-MM-DD")})},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"renderGroupBySelect",value:function(){if(this.props.groupByChangeHandler)return a.default.createElement("section",null,a.default.createElement("div",{className:"filter-view__filters-label"},a.default.createElement("label",{htmlFor:"agenda-range-selection"},a.default.createElement(o.default,{message:"agenda_view.groupByText"}))),a.default.createElement("select",{name:"agenda-group-by-selection",id:"agenda-group-by-selection",defaultValue:this.props.groupBySelectValue,className:"filter-view-input filter-view__range-select",onChange:this.props.groupByChangeHandler},c.map(this.renderTranslateMessages)))}},{key:"render",value:function(){return a.default.createElement("div",{className:"filter-view"},a.default.createElement("div",{className:"filter-view-hd"},a.default.createElement("div",{className:"filter-view-flex-wrapper"},a.default.createElement("section",null,a.default.createElement("div",{className:"filter-view__filters-label"},a.default.createElement("label",{htmlFor:"agenda-range-selection"},a.default.createElement(o.default,{message:"agenda_view.dateRangeText"}))),a.default.createElement("select",{name:"agenda-range-selection",id:"agenda-range-selection",defaultValue:this.props.rangeSelectValue,className:"filter-view-input filter-view__range-select",onChange:this.props.dateRangeChangedHandler},d.map(this.renderTranslateMessages))),this.renderGroupBySelect(),a.default.createElement("section",null,a.default.createElement("div",{className:"filter-view__filters-label"},a.default.createElement("label",{className:"list-show-details-checkbox-label",htmlFor:"agenda-show-details-checkbox"},a.default.createElement(o.default,{message:"agenda_view.showDetailsText"}))),a.default.createElement(i.default,{type:"checkbox",name:"agenda-show-details-toggle",className:"filter-view-input filter-view--checkbox",id:"agenda-show-details-checkbox",defaultChecked:this.props.showDetails,onChange:this.props.showDetailsChangeHandler})),0==this.props.readOnly&&a.default.createElement("section",{className:"add-button-wrapper"},a.default.createElement("a",{onClick:this.openReactEditorToAddEvent,className:"btn__state-green filter-view-input add-event-btn"},"+ ",a.default.createElement(o.default,{message:"agenda_view.addBtnText"}))))))}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(1)),o=i(n(724));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){return a.default.createElement(o.default,Object.assign({isAgendaView:!1},this.props))}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=m(n(1)),o=m(n(56)),i=m(n(937)),s=m(n(724)),u=m(n(933)),l=m(n(923)),c=m(n(919)),d=m(n(918)),f=m(n(917)),p=m(n(916)),h=m(n(432));function m(e){return e&&e.__esModule?e:{default:e}}var v={scheduler:c.default,day:l.default,multiday:l.default,week:l.default,multiweek:u.default,month:u.default,year:d.default,list:i.default,agenda:s.default,search:f.default},y=!!navigator.platform.match(/(iPhone|iPod|iPad)/i),g=!(!navigator.platform.match(/Mac/i)&&!y),b=(0,h.default)(),_=navigator.userAgent.match(/AppleWebKit\/(\d+(\.\d+)?)(.\d+)?/),w=!!navigator.userAgent.match(/Chrome\/.*/)&&!navigator.userAgent.match(/Midori\/.*/),E=g&&-1!==b.browser.name.indexOf("Safari")&&parseFloat(b.browser.version)<11||y&&parseFloat(b.os.version)<11||!!navigator.userAgent.match(/SMART-TV/)||"Chrome"===b.browser.name&&parseFloat(b.browser.version)<51||!w&&_&&parseFloat(_[1])<=604.1&&!(604.1===parseFloat(_[1])&&_[3]&&parseFloat(_[3])>=.38),k=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.scrollPositions={},n.safariResizeListener=function(){n.fixSafariHeightBug(),n.forceUpdate()},n.handleStoreUpdate=function(e){var t=e.views.current;t!==n.state.view&&n.setState({view:t});var r=e.datetime.currentDate;r.isSame(n.state.currentDate)||n.setState({currentDate:r})};var r=o.default.getState();return Object.keys(v).forEach(function(e){n.scrollPositions[e]=!1}),n.state={view:r.views.current,currentDate:r.datetime.currentDate,scrollStartHour:Math.max(r.datetime.startHour,r.datetime.scrollStartHour),height:"100%"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"componentDidMount",value:function(){o.default.listen(this.handleStoreUpdate),E&&(window.addEventListener("resize",this.safariResizeListener,!0),this.fixSafariHeightBug()),this.scrollToStartHour()}},{key:"componentWillUnmount",value:function(){o.default.unlisten(this.handleStoreUpdate),E&&window.removeEventListener("resize",this.safariResizeListener,!0)}},{key:"componentDidUpdate",value:function(e,t){t.view!==this.state.view&&this.scrollToStartHour(),this.fixSafariHeightBug()}},{key:"fixSafariHeightBug",value:function(){if(E){var e=document.querySelector(".calendar-body-content");if(this.elementRef){var t=this.elementRef.getBoundingClientRect();if(e){var n=e.getBoundingClientRect().height-2;t&&n!=t.height&&this.setState({height:n+"px"});var r=document.querySelector(".agenda-view__body")||document.querySelector(".year-view-body"),a=document.querySelector(".filter-view");if(r&&a){var o=a.getBoundingClientRect().height;r.setAttribute("height",n-o+"px")}}}}}},{key:"scrollToStartHour",value:function(){var e=this;!0!==this.scrollPositions[this.state.view]&&window.requestAnimationFrame(function(){var t=document.getElementById("time-grid-hour-"+e.state.scrollStartHour),n=document.querySelector(".week-content"),r=document.querySelector(".week-content .grid-view");t&&n&&!r&&(n.scrollTop=t.offsetTop,e.scrollPositions[e.state.view]=!0)})}},{key:"render",value:function(){var e=this;return a.default.createElement("div",{style:{height:this.state.height,width:"100%"},ref:function(t){e.elementRef=t}},a.default.createElement(v[this.state.view]),a.default.createElement(p.default,null))}}]),t}();t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(1)),o=s(n(6)),i=n(176);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onShowMenu=function(e){var t=e.detail.data;t.component?n.setState({component:t.component,message:null,params:null,section:null}):n.setState({component:null,message:t.message,params:t.params,section:t.section})},n.hideMenuOnLeave=function(){(0,i.hideMenu)({id:n.props.id})},n.state={component:null,message:null,params:null,section:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){var e={};return this.state.params&&(e.params=this.state.params),this.state.section&&(e.section=this.state.section),a.default.createElement(i.ContextMenu,{onMouseLeave:this.hideMenuOnLeave,className:"tooltip-renderer "+(this.props.className||""),id:this.props.id,onShow:this.onShowMenu},this.state.component,this.state.message&&a.default.createElement(o.default,Object.assign({message:this.state.message},e)))}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n(1)),o=h(n(10)),i=h(n(45)),s=h(n(56)),u=h(n(182)),l=h(n(51)),c=h(n(452)),d=h(n(433)),f=h(n(939)),p=h(n(4));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleStoreUpdate=function(){var e=s.default.getState(),t=e.timezone.value;t!==n.state.timezone&&n.setState({timezone:t});var r=e.timezone.pick;r!==n.state.pick&&(n.selectedTz=n.state.timezone,n.setState({pick:r}))};var r=s.default.getState();return n.state={timezone:r.timezone.value,pick:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"componentDidMount",value:function(){s.default.listen(this.handleStoreUpdate)}},{key:"componentWillUnmount",value:function(){s.default.unlisten(this.handleStoreUpdate)}},{key:"renderTzModal",value:function(){var e=this;return a.default.createElement(l.default,{title:"calendar:timezone.title",yesText:"calendar:timezone.saveButtonText",onYes:function(){u.default.setTimezone(e.selectedTz)},onClose:function(){u.default.timezonePickerDone()}},a.default.createElement(c.default,{id:"tz_picker",ref:"timezone",timezone:this.state.timezone,onChange:function(t){e.selectedTz=t}}))}},{key:"renderTz",value:function(){var e=d.default.getShortString(this.state.timezone);return a.default.createElement("p",{title:o.default.translate("calendar","settings_menu.timezoneText")},a.default.createElement("i",{className:"sprite-footer-timezone"})," ",a.default.createElement("a",{onClick:function(){u.default.pickTimezone()}},e))}},{key:"renderLogo",value:function(){var e=window.CALENDAR_SETTINGS.licenseFeatures.show_footer_logo;return void 0!==e&&0==e?null:a.default.createElement("p",null,a.default.createElement("span",{className:"poweredby"},"Powered by")," ",a.default.createElement("a",{href:"http://www.teamup.com/",target:"_blank"},a.default.createElement("i",{className:"teamup-logo"})))}},{key:"renderPdfPrintDate",value:function(){var e=d.default.getOffset(s.default.getState().timezone.value),t=(0,p.default)().utcOffset(parseInt(e)),n=o.default.translate("calendar","settings_menu.pdfExportWin.printedOn");return a.default.createElement("div",{className:"printed"},n,": ",t.format(i.default.get("date_year_moment"))," ",t.format(i.default.get("time_moment")))}},{key:"render",value:function(){return a.default.createElement("div",{className:"calendar-footer-content"},s.default.getState().views.isPdf&&this.renderPdfPrintDate(),s.default.getState().timezone.visible&&this.renderTz(),this.renderLogo(),this.state.pick&&this.renderTzModal(),a.default.createElement(f.default,{id:"event-tooltip",className:"event-tooltip"}),a.default.createElement(f.default,{id:"generic-tooltips"}))}}]),t}();t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(1)),o=n(176),i=u(n(6)),s=u(n(182));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){var e=this,t=[],n=[];if(window.innerHeight<800){t=["en","en_GB","de","es","it","fr","nl","pt_PT"];var r=(n=["cs","da","hr","hu","pl","ro","sk","tr","zh_CN","zh_TW"]).indexOf(this.props.language);-1!==r&&(n.splice(r,1),t.unshift(this.props.language))}else t=["en","en_GB","cs","da","de","es","it","fr","hr","hu","nl","pl","pt_PT","ro","sk","tr","zh_CN","zh_TW"],n=[];return a.default.createElement(o.SubMenu,{title:a.default.createElement("a",null,a.default.createElement("span",{className:"icon-wrapper"},a.default.createElement("i",{className:"sprite-icon-language"})),a.default.createElement(i.default,{message:"settings_menu.language.title"}))},t.map(function(t){return a.default.createElement(o.MenuItem,{key:"lang-"+t,onClick:function(){s.default.setLanguage(t)}},a.default.createElement("a",null,a.default.createElement("span",{className:"icon-wrapper"},e.props.language===t&&a.default.createElement("i",{className:"sprite-verify-yes"})),a.default.createElement(i.default,{message:"settings_menu.language.language_"+t})))}),n.length>0&&a.default.createElement(o.SubMenu,{title:a.default.createElement("a",null,a.default.createElement("span",{className:"icon-wrapper"}),a.default.createElement(i.default,{message:"settings_menu.language.more"}))},n.map(function(t){return a.default.createElement(o.MenuItem,{key:"lang-"+t,onClick:function(){s.default.setLanguage(t)}},a.default.createElement("a",null,a.default.createElement("span",{className:"icon-wrapper"},e.props.language===t&&a.default.createElement("i",{className:"sprite-verify-yes"})),a.default.createElement(i.default,{message:"settings_menu.language.language_"+t})))})))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=E(n(97)),a=E(n(218)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=E(n(1)),s=E(n(4)),u=E(n(6)),l=E(n(56)),c=E(n(182)),d=E(n(216)),f=E(n(725)),p=E(n(10)),h=E(n(45)),m=E(n(189)),v=E(n(608)),y=n(176),g=E(n(17)),b=E(n(18)),_=E(n(433)),w=E(n(941));function E(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=(0,m.default)(function(e){function t(e){k(this,t);var n=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.viewList=null,n.toggleViewMenu=function(){n.setState({viewMenuOpen:!n.state.viewMenuOpen})},n.state={viewListAsMenu:!1,viewMenuOpen:!1},n}return O(t,i["default"].Component),o(t,[{key:"componentDidUpdate",value:function(){this.checkViewVisibility()}},{key:"componentDidMount",value:function(){this.checkViewVisibility()}},{key:"handleOuterClick",value:function(){this.state.viewMenuOpen&&this.setState({viewMenuOpen:!1})}},{key:"checkViewVisibility",value:function(){if(this.viewList){var e=this.viewList.parentNode,t=e.parentNode,n=e.className,r=!0;e.className="view-switcher",this.viewList.scrollWidth==this.viewList.clientWidth&&(r=!1),t.clientHeight>50&&(r=!0);var a=t.querySelector(".current-range");a&&a.clientWidth<a.scrollWidth-3&&(r=!0),window.innerWidth<800&&(r=!0),e.className=n,r!==this.state.viewListAsMenu&&(this.setState({viewListAsMenu:r}),!1===r&&this.state.viewMenuOpen&&this.setState({viewMenuOpen:!1}))}}},{key:"render",value:function(){var e=this,t=void 0;return t="search"===this.props.view?p.default.translate("calendar","search.searchBtn"):this.props.views.find(function(t){return t.id===e.props.view}).name,i.default.createElement("div",{className:"view-switcher"+(this.state.viewListAsMenu?" menu":"")+(this.state.viewMenuOpen?" menu-open":"")},i.default.createElement("div",{className:"view-handle toolbar-button"+(this.state.viewMenuOpen?" active":""),onClick:this.toggleViewMenu},t," ",i.default.createElement("i",{className:"sprite-arrow-down"})),i.default.createElement("ul",{className:"view-list",ref:function(t){e.viewList=t}},this.props.views.map(function(t){return i.default.createElement("li",{key:t.id,className:"toolbar-button"+(t.id===e.props.view?" active":""),onClick:function(){e.setState({viewMenuOpen:!1}),c.default.setView(t.id)}},t.name)})))}}]),t}()),D=function(e){function t(e){k(this,t);var n=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleCalendar=function(){n.datePicker&&n.datePicker.toggleCalendar()},n.state={text:n.generateText(n.props.viewStartDate,n.props.viewEndDate,n.props.view)},n}return O(t,i["default"].Component),o(t,[{key:"componentWillReceiveProps",value:function(e){e.viewStartDate.isSame(this.props.viewStartDate)&&e.viewEndDate.isSame(this.props.viewEndDate)&&e.view===this.props.view||this.setState({text:this.generateText(e.viewStartDate,e.viewEndDate,e.view)})}},{key:"generateText",value:function(e,t,n){if(!e||!t||!n)return"";var r=e.clone(),a=t.clone();return r.isSame(a,"day")?r.format(h.default.get("short_weekday_moment")):"month"===n?r.format(h.default.get("full_month_year_moment")):"year"===n?(r.add(15,"days").startOf("month"),a.subtract(15,"days").endOf("month"),r.isSame(a,"year")?r.isSame(a,"month")?r.format(h.default.get("short_month_year_moment")):r.format("MMM")+" - "+a.format(h.default.get("short_month_year_moment")):r.format(h.default.get("short_month_year_moment"))+" - "+a.format(h.default.get("short_month_year_moment"))):r.isSame(a,"year")?r.isSame(a,"month")?r.format(h.default.get("range_same_month_part1_moment"))+" - "+a.format(h.default.get("range_same_month_part2_moment")):r.format(h.default.get("range_same_year_part1_moment"))+" - "+a.format(h.default.get("range_same_year_part2_moment")):r.format(h.default.get("range_different_year_part1_moment"))+" - "+a.format(h.default.get("range_different_year_part2_moment"))}},{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"current-range"},i.default.createElement(f.default,{ref:function(t){e.datePicker=t},onChange:c.default.setCurrentDate,highlightedDates:this.props.highlightedDates,currentDate:this.props.currentDate,togglable:!0}),i.default.createElement("span",{className:"calendar-picker-trigger",onClick:this.toggleCalendar},this.state.text,i.default.createElement("i",{className:"sprite-arrow-down"})))}}]),t}(),T=function(e){function t(e){k(this,t);var n=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.isMenuOpen=!1,n.menuRef=null,n.handleStoreUpdate=function(){var e=l.default.getState();e.sidebar.expanded!==n.state.sidebar.expanded&&n.setState({sidebar:(0,a.default)(e.sidebar)});var t=e.timezone;t.value!==n.state.timezone.value&&n.setState({timezone:(0,a.default)(t)});var o=e.views.current;o!==n.state.viewSelectorView&&"search"!==o&&n.setState({viewSelectorView:o}),o!==n.state.view&&n.setState({view:o});var i=e.grid.resolution;i!==n.state.gridResolution&&n.setState({gridResolution:i}),["currentDate","viewStartDate","viewEndDate"].forEach(function(t){var r=e.datetime[t];r.isSame(n.state[t])||n.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,r))});var s=e.datetime.highlightedDates;(0,r.default)(s,n.state.highlightedDates)||n.setState({highlightedDates:s})},n.onResize=function(){n.resizeTimeout&&window.clearTimeout(n.resizeTimeout),n.resizeTimeout=window.setTimeout(n.doResize,30)},n.doResize=function(){n.forceUpdate()},n.toggleSidebar=function(){c.default.toggleSidebar(null,!0)},n.showMenu=function(e){e.preventDefault(),e.stopPropagation();var t=n.menuRef.getBoundingClientRect();n.isMenuOpen?(0,y.hideMenu)({id:"settingsMenu"}):((0,y.hideMenu)({id:"settingsMenu"}),(0,y.showMenu)({position:{x:t.right,y:t.bottom},target:n.menuRef,id:"settingsMenu",data:{}}))};var o=l.default.getState();return n.state={currentDate:o.datetime.currentDate,viewStartDate:o.datetime.viewStartDate,viewEndDate:o.datetime.viewEndDate,highlightedDates:o.datetime.highlightedDates,view:o.views.current,viewSelectorView:o.views.current,gridResolution:o.grid.resolution,sidebar:(0,a.default)(o.sidebar),language:o.language,timezone:{value:o.timezone.value,visible:o.timezone.visible},showLogout:o.authentication.passwordRequired&&!window.location.pathname.match("/c/"+g.default.getAppIdentifier())},n}return O(t,i["default"].Component),o(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize),l.default.listen(this.handleStoreUpdate)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize),l.default.unlisten(this.handleStoreUpdate)}},{key:"renderNavigation",value:function(){var e=this.state.currentDate.isSame(new Date,"day");return i.default.createElement("div",{className:"date-navigation"},i.default.createElement("div",{className:"toolbar-button",onClick:c.default.prevDateRange},i.default.createElement("i",{className:"sprite-arrow-back"})),i.default.createElement("div",{className:"toolbar-button today "+(e?"disabled":""),onClick:e?void 0:function(){c.default.setCurrentDate((0,s.default)())}},i.default.createElement(v.default,{component:"i",className:"sprite-icon-calendar icon",id:"generic-tooltips",message:"calendar:today"}),i.default.createElement(u.default,{message:"calendar:today",className:"text"})),i.default.createElement("div",{className:"toolbar-button",onClick:c.default.nextDateRange},i.default.createElement("i",{className:"sprite-arrow-forward"})))}},{key:"renderViewSwitcher",value:function(){if(0!=g.default.getInitialQueryParams().showViewSelector)return i.default.createElement(C,{views:l.default.getViews(),view:this.state.viewSelectorView})}},{key:"renderMenu",value:function(){var e=this,t="";return this.state.timezone.value&&(t=": "+_.default.getShortString(this.state.timezone.value)),i.default.createElement("div",{className:"toolbar-menu"},i.default.createElement("div",{className:"toolbar-button",onClick:this.showMenu,ref:function(t){e.menuRef=t}},i.default.createElement("i",{className:"sprite-icon-navicon"})),i.default.createElement(y.ContextMenu,{className:"settings-menu",id:"settingsMenu",onShow:function(){e.isMenuOpen=!0},onHide:function(){setTimeout(function(){e.isMenuOpen=!1},50)}},this.props.menu.enableConfiguration&&i.default.createElement(y.MenuItem,{onClick:function(){b.default.openSettings()}},i.default.createElement("a",{href:b.default.getSettingsUrl()},i.default.createElement("span",{className:"icon-wrapper"},i.default.createElement("i",{className:"sprite-icon-settings"})),i.default.createElement(u.default,{message:"settings_menu.settingsText"}))),this.state.timezone.visible&&i.default.createElement(y.MenuItem,{onClick:function(){c.default.pickTimezone()}},i.default.createElement("a",null,i.default.createElement("span",{className:"icon-wrapper"},i.default.createElement("i",{className:"sprite-icon-timezone"})),i.default.createElement(u.default,{message:"settings_menu.timezoneText"}),t)),i.default.createElement(y.MenuItem,{divider:!0}),i.default.createElement(y.MenuItem,{onClick:function(){b.default.openPdfPrint()}},i.default.createElement("a",null,i.default.createElement("span",{className:"icon-wrapper"},i.default.createElement("i",{className:"sprite-icon-print"})),i.default.createElement(u.default,{message:"settings_menu.pdfExport"}),"...")),i.default.createElement(y.SubMenu,{title:i.default.createElement("a",null,i.default.createElement("span",{className:"icon-wrapper"},i.default.createElement("i",{className:"sprite-icon-preferences"})),i.default.createElement(u.default,{message:"settings_menu.preferences.title"}))},this.props.user&&this.props.user&&i.default.createElement(y.MenuItem,{onClick:function(){b.default.openDefaultRemindersPreferences()}},i.default.createElement(v.default,{component:"a",message:"settings_menu.remindersTooltip",id:"generic-tooltips"},i.default.createElement("span",{className:"icon-wrapper"},i.default.createElement("i",{className:"sprite-icon-reminder"})),i.default.createElement(u.default,{message:"settings_menu.preferences.reminder"}))),i.default.createElement(y.MenuItem,{onClick:function(){e.props.menu.userSignupEnabled&&b.default.openEmailNotificationsPreferences()},attributes:{className:this.props.menu.userSignupEnabled?"":"disabled"}},i.default.createElement(v.default,{component:"a",disabled:!!this.props.menu.userSignupEnabled,message:"settings_menu.currentlyTurnedOff",id:"generic-tooltips"},i.default.createElement("span",{className:"icon-wrapper"},i.default.createElement("i",{className:"sprite-icon-notifications"})),i.default.createElement(u.default,{message:"settings_menu.preferences.email"}))),i.default.createElement(y.MenuItem,{onClick:function(){e.props.menu.userSignupEnabled&&b.default.openAgendaPreferences()},attributes:{className:this.props.menu.userSignupEnabled?"":"disabled"}},i.default.createElement(v.default,{component:"a",disabled:!!this.props.menu.userSignupEnabled,message:"settings_menu.currentlyTurnedOff",id:"generic-tooltips"},i.default.createElement("span",{className:"icon-wrapper"},i.default.createElement("i",{className:"sprite-icon-daily-agenda"})),i.default.createElement(u.default,{message:"settings_menu.preferences.agenda"}))),i.default.createElement(y.MenuItem,{onClick:function(){e.props.menu.userSignupEnabled&&b.default.openSlackNotificationsPreferences()},attributes:{className:this.props.menu.userSignupEnabled?"":"disabled"}},i.default.createElement(v.default,{component:"a",disabled:!!this.props.menu.userSignupEnabled,message:"settings_menu.currentlyTurnedOff",id:"generic-tooltips"},i.default.createElement("span",{className:"icon-wrapper"},i.default.createElement("i",{className:"sprite-icon-notifications"})),i.default.createElement(u.default,{message:"settings_menu.preferences.slack"}))),i.default.createElement(y.MenuItem,{onClick:function(){e.props.menu.icsFeedsEnabled&&b.default.openICalFeedsPreferences()},attributes:{className:this.props.menu.icsFeedsEnabled?"":"disabled"}},i.default.createElement(v.default,{component:"a",disabled:!!this.props.menu.icsFeedsEnabled,message:"settings_menu.currentlyTurnedOff",id:"generic-tooltips"},i.default.createElement("span",{className:"icon-wrapper"},i.default.createElement("i",{className:"sprite-icon-feeds"})),i.default.createElement(u.default,{message:"settings_menu.preferences.icalfeeds"})))),i.default.createElement(y.SubMenu,{title:i.default.createElement("a",null,i.default.createElement("span",{className:"icon-wrapper"},i.default.createElement("i",{className:"sprite-icon-resolution"})),i.default.createElement(u.default,{message:"settings_menu.calendarResolution.title"}))},[5,10,15,30,60].map(function(t){return i.default.createElement(y.MenuItem,{key:"resolution_"+t,onClick:function(){c.default.setGridResolution(t)}},i.default.createElement("a",null,i.default.createElement("span",{className:"icon-wrapper"},e.state.gridResolution===t&&i.default.createElement("i",{className:"sprite-verify-yes"})),i.default.createElement(u.default,{message:"settings_menu.calendarResolution.resolution_"+t})))})),i.default.createElement(w.default,{language:this.state.language}),i.default.createElement(y.MenuItem,{onClick:function(){window.open("https://calendar.teamup.com/","_blank")}},i.default.createElement("a",{href:"https://calendar.teamup.com/",target:"_blank"},i.default.createElement("span",{className:"icon-wrapper"},i.default.createElement("i",{className:"sprite-icon-help"})),i.default.createElement(u.default,{message:"settings_menu.helpText"}))),this.state.showLogout&&i.default.createElement(y.MenuItem,{divider:!0}),this.state.showLogout&&i.default.createElement(y.MenuItem,{onClick:function(){window.location.href=g.default.getBaseUrl()+"/"+g.default.getAppKey()+"/logout"}},i.default.createElement("a",{href:g.default.getBaseUrl()+"/"+g.default.getAppKey()+"/logout"},i.default.createElement("span",{className:"icon-wrapper"},i.default.createElement("i",{className:"sprite-icon-logout"})),i.default.createElement(u.default,{message:"settings_menu.logoutText"})))))}},{key:"render",value:function(){return i.default.createElement("div",{className:"toolbar-content"},this.state.sidebar.enabled&&i.default.createElement(v.default,{component:"div",className:"sidebar-toggle toolbar-button",onClick:this.toggleSidebar,message:this.state.sidebar.expanded?"settings_menu.hideControlPanelBtnTooltip":"settings_menu.showControlPanelBtnTooltip",id:"generic-tooltips"},i.default.createElement("i",{className:this.state.sidebar.expanded?"sprite-arrow-collapse":"sprite-arrow-collapse-open"})),i.default.createElement(v.default,{component:"div",className:"calendar-refresh toolbar-button tooltip-item",onClick:d.default.refresh,message:"settings_menu.refreshBtnTooltip",id:"generic-tooltips"},i.default.createElement("i",{className:"sprite-icon-refresh"})),this.renderNavigation(),i.default.createElement(D,{view:this.state.view,viewStartDate:this.state.viewStartDate,viewEndDate:this.state.viewEndDate,highlightedDates:this.state.highlightedDates,currentDate:this.state.currentDate}),this.renderViewSwitcher(),this.renderMenu())}}]),t}();t.default=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(650)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=m(n(1)),i=m(n(32)),s=m(n(6)),u=m(n(674)),l=m(n(91)),c=m(n(207)),d=m(n(59)),f=m(n(10)),p=m(n(18)),h=m(n(608));function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setRef=function(e){n.ref=e,n.updateMinHeightDelayed()},n.updateMinHeightDelayed=function(){requestAnimationFrame(n.updateMinHeight)},n.updateMinHeight=function(){if(n.ref){var e=i.default.findDOMNode(n.ref);if(e&&e.parentNode){var t=e.parentNode,r=function(e){var n=t.querySelector(e);return n?n.classList.contains("collapsed")?parseInt(getComputedStyle(n).minHeight,10):n.scrollHeight:0},a=t.parentNode.getBoundingClientRect().height,o=r(".sidebar-datepicker"),s=r(".filter-widget"),u=r(".about-widget"),l=t.querySelector(".about-widget"),c=e.querySelector(".calendar-list-content"),d=a-o-s,f=e.scrollHeight-c.clientHeight+c.scrollHeight+2;!l||l.classList.contains("collapsed")?(e.style.flexBasis=Math.min(f,Math.round(d-u)).toString()+"px",e.style.flexShrink="0"):(e.style.flexBasis=Math.min(f,Math.round(2*d/3)).toString()+"px",e.style.flexShrink="0")}}},n.onResourceChange=function(){n.forceUpdate()},n.filterCalendars=function(){n.text&&n.setState({filteredIds:n.findMatchingIds(n.text.getValue())})},n.state={filter:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["default"].Component),a(t,[{key:"componentDidMount",value:function(){l.default.listen(this.onResourceChange),window.addEventListener("calendarSidebarCollapseExpand",this.updateMinHeightDelayed),window.addEventListener("resize",this.updateMinHeight)}},{key:"componentWillUnmount",value:function(){l.default.unlisten(this.onResourceChange),window.removeEventListener("calendarSidebarCollapseExpand",this.updateMinHeightDelayed),window.removeEventListener("resize",this.updateMinHeight)}},{key:"componentDidUpdate",value:function(){this.updateMinHeightDelayed()}},{key:"findMatchingIds",value:function(e){var t=l.default.getState().resourcesById;if(0===(e=e.trim().toLowerCase()).length)return Object.keys(t).map(function(e){return parseInt(e,10)});var n=[];Object.keys(t).forEach(function(e){var r=t[e];r.virtual||n.push({name:r.name.replace(/.*? > /g,"").toLowerCase(),id:r.id,lastIndex:0})});var r=function(e){for(var t=e.length,n=0,r=[],a="",o="",i=void 0;n<t;n++){if('"'===(i=e[n]))a="open"===a?"":"open";else if(" "!==i||"open"===a){o+=i;continue}o.length>0&&r.push(o),o=""}return o.length>0&&r.push(o),r}(e),a=r.length,o=[];return(n=n.filter(function(e){var t=void 0;for(t=0;t<a;t++)if(-1!==e.name.indexOf(r[t]))return!0;return!1})).map(function(e){var n=t[e.id];for(-1===o.indexOf(n.id)&&o.push(n.id);n.parent;)n=t[n.parent],-1===o.indexOf(n.id)&&o.push(n.id)}),o}},{key:"renderCalendar",value:function(e,t,n){var r=this,a=e.visible||e.virtual?"":" hidden",i=e.readonly&&e.children.length>0?" cal-readonly":"",s="calendar cal-bg-"+e.color+a+i;if(n&&-1===n.indexOf(e.id))return o.default.createElement("div",{key:"res"+e.id});var u=e.virtual?"blue":"white",l=e.name.replace(/.*? > /g,"");return o.default.createElement("div",{key:"res"+e.id},o.default.createElement(h.default,{component:"div",className:s,onClick:function(t){t.preventDefault(),t.stopPropagation(),e.children.length>0&&!e.expanded?c.default.toggleResourceTree(e,!0):c.default.toggleResourceVisibility(e)},id:"generic-tooltips",collect:function(){return{message:e.children.length?"subcalendar_list.hide_show_group":"subcalendar_list.hide_show_link",params:{name:l}}}},!e.visible&&!e.virtual&&o.default.createElement("i",{className:"hidden-calendar-icon sprite-hidden-calendar"}),e.children.length>0&&o.default.createElement(h.default,{component:"span",className:"expand-handle "+(e.expanded?"expanded":"collapsed"),onClick:function(t){t.preventDefault(),t.stopPropagation(),c.default.toggleResourceTree(e)},message:"subcalendar_list.open_close_folder",id:"generic-tooltips"},o.default.createElement("i",{className:e.expanded?"sprite-arrow-down-"+u:"sprite-arrow-right-"+u})),e.readonly&&!e.virtual&&o.default.createElement(h.default,{component:"span",className:"readonly-icon",message:"subcalendar_list.calendar_read_only",id:"generic-tooltips"},o.default.createElement("i",{className:"sprite-icon-lock-white"})),l,o.default.createElement(h.default,{component:"i",className:"show-only-button sprite-icon-eye-"+u,onClick:function(t){t.preventDefault(),t.stopPropagation(),c.default.showOnlyResource(e)},message:e.children.length?"subcalendar_list.show_only_this_group":"subcalendar_list.show_only_this",id:"generic-tooltips"})),o.default.createElement("div",{className:"children"},e.expanded&&e.children.map(function(e){return r.renderCalendar(e,t+1,n)})))}},{key:"renderList",value:function(){var e=this,t=l.default.getState().resourceTree;return o.default.createElement("div",{className:"calendar-list-content"},t.map(function(t){return e.renderCalendar(t,0,e.state.filteredIds)}))}},{key:"render",value:function(){var e=this,t=(0,r.default)(this.filterCalendars,200),n=l.default.getState().resources.length>=12;return o.default.createElement(u.default,{className:"calendar-list-widget",stateId:"calendar-list",defaultCollapsed:!1,title:"calendar:subcalendar_list.title",headerExtra:o.default.createElement("div",{className:"show-all-button",onClick:function(e){c.default.showAll()}},f.default.translate("calendar","subcalendar_list.all_link")),ref:this.setRef},n?o.default.createElement("div",{className:"calendar-filter"},o.default.createElement(d.default,{name:"calendar_filter",type:"search",placeholder:f.default.translate("calendar","subcalendar_list.filter_empty_text"),ref:function(t){e.text=t},onChange:t,onKeyUp:t})):null,this.renderList(),this.props.enableConfiguration&&o.default.createElement("a",{className:"add-edit-link",href:p.default.getSettingsUrl("calendars")},o.default.createElement("i",{className:"sprite-icon-plus-green icon-offset-normal"}),o.default.createElement(s.default,{message:"calendar:subcalendar_list.add_edit_link"})))}}]),t}();t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(1)),o=u(n(6)),i=u(n(18)),s=u(n(674));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"render",value:function(){return a.default.createElement(s.default,{className:"about-widget",stateId:"about",defaultCollapsed:!1,title:this.props.title},a.default.createElement("div",{className:"about-content",dangerouslySetInnerHTML:{__html:this.props.content}}),this.props.enableConfiguration&&a.default.createElement("a",{href:i.default.getSettingsUrl("general"),className:"edit-btn"},a.default.createElement("i",{className:"sprite-icon-edit-green icon-offset-normal"})," ",a.default.createElement(o.default,{message:"core_js:edit"})))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.preventDefault(),e.stopPropagation(),"A"===e.target.tagName&&"href"in e.target&&(e.target.target?window.open(e.target.href,e.target.target):window.location.href=e.target.href)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(14)),o=u(n(0)),i=u(n(1)),s=u(n(945));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseDown=n.handleMouseDown.bind(n),n.handleMouseEnter=n.handleMouseEnter.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n.handleTouchEnd=n.handleTouchEnd.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.onFocus=n.onFocus.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"handleMouseDown",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onSelect(this.props.option,e)}},{key:"handleMouseEnter",value:function(e){this.onFocus(e)}},{key:"handleMouseMove",value:function(e){this.onFocus(e)}},{key:"handleTouchEnd",value:function(e){this.dragging||this.handleMouseDown(e)}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"onFocus",value:function(e){this.props.isFocused||this.props.onFocus(this.props.option,e)}},{key:"render",value:function(){var e=this.props,t=e.option,n=e.instancePrefix,r=e.optionIndex,o=(0,a.default)(this.props.className,t.className);return t.disabled?i.default.createElement("div",{className:o,onMouseDown:s.default,onClick:s.default},this.props.children):i.default.createElement("div",{className:o,style:t.style,role:"option","aria-label":t.label,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,id:n+"-option-"+r,title:t.title},this.props.children)}}]),t}();l.propTypes={children:o.default.node,className:o.default.string,instancePrefix:o.default.string.isRequired,isDisabled:o.default.bool,isFocused:o.default.bool,isSelected:o.default.bool,onFocus:o.default.func,onSelect:o.default.func,onUnfocus:o.default.func,option:o.default.object.isRequired,optionIndex:o.default.number},t.default=l},function(e,t,n){"use strict";n.r(t),n.d(t,"Async",function(){return U}),n.d(t,"AsyncCreatable",function(){return K}),n.d(t,"Creatable",function(){return H}),n.d(t,"Value",function(){return M}),n.d(t,"Option",function(){return T}),n.d(t,"defaultMenuRenderer",function(){return g}),n.d(t,"defaultArrowRenderer",function(){return f}),n.d(t,"defaultClearRenderer",function(){return p}),n.d(t,"defaultFilterOptions",function(){return y});var r=n(730),a=n.n(r),o=n(14),i=n.n(o),s=n(0),u=n.n(s),l=n(1),c=n.n(l),d=n(32),f=function(e){var t=e.onMouseDown;return c.a.createElement("span",{className:"Select-arrow",onMouseDown:t})};f.propTypes={onMouseDown:u.a.func};var p=function(){return c.a.createElement("span",{className:"Select-clear",dangerouslySetInnerHTML:{__html:"&times;"}})},h=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],m=function(e){for(var t=0;t<h.length;t++)e=e.replace(h[t].letters,h[t].base);return e},v=function(e){return void 0!==e&&null!==e&&""!==e},y=function(e,t,n,r){return r.ignoreAccents&&(t=m(t)),r.ignoreCase&&(t=t.toLowerCase()),r.trimFilter&&(t=t.replace(/^\s+|\s+$/g,"")),n&&(n=n.map(function(e){return e[r.valueKey]})),e.filter(function(e){if(n&&n.indexOf(e[r.valueKey])>-1)return!1;if(r.filterOption)return r.filterOption.call(void 0,e,t);if(!t)return!0;var a=e[r.valueKey],o=e[r.labelKey],i=v(a),s=v(o);if(!i&&!s)return!1;var u=i?String(a):null,l=s?String(o):null;return r.ignoreAccents&&(u&&"label"!==r.matchProp&&(u=m(u)),l&&"value"!==r.matchProp&&(l=m(l))),r.ignoreCase&&(u&&"label"!==r.matchProp&&(u=u.toLowerCase()),l&&"value"!==r.matchProp&&(l=l.toLowerCase())),"start"===r.matchPos?u&&"label"!==r.matchProp&&u.substr(0,t.length)===t||l&&"value"!==r.matchProp&&l.substr(0,t.length)===t:u&&"label"!==r.matchProp&&u.indexOf(t)>=0||l&&"value"!==r.matchProp&&l.indexOf(t)>=0})},g=function(e){var t=e.focusedOption,n=e.focusOption,r=e.inputValue,a=e.instancePrefix,o=e.onFocus,s=e.onOptionRef,u=e.onSelect,l=e.optionClassName,d=e.optionComponent,f=e.optionRenderer,p=e.options,h=e.removeValue,m=e.selectValue,v=e.valueArray,y=e.valueKey,g=d;return p.map(function(e,d){var p=v&&v.some(function(t){return t[y]===e[y]}),b=e===t,_=i()(l,{"Select-option":!0,"is-selected":p,"is-focused":b,"is-disabled":e.disabled});return c.a.createElement(g,{className:_,focusOption:n,inputValue:r,instancePrefix:a,isDisabled:e.disabled,isFocused:b,isSelected:p,key:"option-"+d+"-"+e[y],onFocus:o,onSelect:u,option:e,optionIndex:d,ref:function(e){s(e,b)},removeValue:h,selectValue:m},f(e,d,r))})};g.propTypes={focusOption:u.a.func,focusedOption:u.a.object,inputValue:u.a.string,instancePrefix:u.a.string,onFocus:u.a.func,onOptionRef:u.a.func,onSelect:u.a.func,optionClassName:u.a.string,optionComponent:u.a.func,optionRenderer:u.a.func,options:u.a.array,removeValue:u.a.func,selectValue:u.a.func,valueArray:u.a.array,valueKey:u.a.string};var b=function(e){e.preventDefault(),e.stopPropagation(),"A"===e.target.tagName&&"href"in e.target&&(e.target.target?window.open(e.target.href,e.target.target):window.location.href=e.target.href)},_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=(function(){function e(e){this.value=e}function t(t){var n,r;function a(n,r){try{var i=t[n](r),s=i.value;s instanceof e?Promise.resolve(s.value).then(function(e){a("next",e)},function(e){a("throw",e)}):o(i.done?"return":"normal",i.value)}catch(e){o("throw",e)}}function o(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?a(n.key,n.arg):r=null}this._invoke=function(e,t){return new Promise(function(o,i){var s={key:e,arg:t,resolve:o,reject:i,next:null};r?r=r.next=s:(n=r=s,a(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},C=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},D=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},T=function(e){function t(e){w(this,t);var n=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseDown=n.handleMouseDown.bind(n),n.handleMouseEnter=n.handleMouseEnter.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n.handleTouchEnd=n.handleTouchEnd.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.onFocus=n.onFocus.bind(n),n}return O(t,e),E(t,[{key:"handleMouseDown",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onSelect(this.props.option,e)}},{key:"handleMouseEnter",value:function(e){this.onFocus(e)}},{key:"handleMouseMove",value:function(e){this.onFocus(e)}},{key:"handleTouchEnd",value:function(e){this.dragging||this.handleMouseDown(e)}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"onFocus",value:function(e){this.props.isFocused||this.props.onFocus(this.props.option,e)}},{key:"render",value:function(){var e=this.props,t=e.option,n=e.instancePrefix,r=e.optionIndex,a=i()(this.props.className,t.className);return t.disabled?c.a.createElement("div",{className:a,onMouseDown:b,onClick:b},this.props.children):c.a.createElement("div",{className:a,style:t.style,role:"option","aria-label":t.label,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,id:n+"-option-"+r,title:t.title},this.props.children)}}]),t}(c.a.Component);T.propTypes={children:u.a.node,className:u.a.string,instancePrefix:u.a.string.isRequired,isDisabled:u.a.bool,isFocused:u.a.bool,isSelected:u.a.bool,onFocus:u.a.func,onSelect:u.a.func,onUnfocus:u.a.func,option:u.a.object.isRequired,optionIndex:u.a.number};var M=function(e){function t(e){w(this,t);var n=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseDown=n.handleMouseDown.bind(n),n.onRemove=n.onRemove.bind(n),n.handleTouchEndRemove=n.handleTouchEndRemove.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n}return O(t,e),E(t,[{key:"handleMouseDown",value:function(e){if("mousedown"!==e.type||0===e.button)return this.props.onClick?(e.stopPropagation(),void this.props.onClick(this.props.value,e)):void(this.props.value.href&&e.stopPropagation())}},{key:"onRemove",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onRemove(this.props.value)}},{key:"handleTouchEndRemove",value:function(e){this.dragging||this.onRemove(e)}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"renderRemoveIcon",value:function(){if(!this.props.disabled&&this.props.onRemove)return c.a.createElement("span",{className:"Select-value-icon","aria-hidden":"true",onMouseDown:this.onRemove,onTouchEnd:this.handleTouchEndRemove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},"")}},{key:"renderLabel",value:function(){return this.props.onClick||this.props.value.href?c.a.createElement("a",{className:"Select-value-label",href:this.props.value.href,target:this.props.value.target,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown},this.props.children):c.a.createElement("span",{className:"Select-value-label",role:"option","aria-selected":"true",id:this.props.id},this.props.children)}},{key:"render",value:function(){return c.a.createElement("div",{className:i()("Select-value",this.props.value.className),style:this.props.value.style,title:this.props.value.title},this.renderRemoveIcon(),this.renderLabel())}}]),t}(c.a.Component);M.propTypes={children:u.a.node,disabled:u.a.bool,id:u.a.string,onClick:u.a.func,onRemove:u.a.func,value:u.a.object.isRequired};
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/react-select
*/
var P=function(e){return"string"==typeof e?e:null!==e&&JSON.stringify(e)||""},x=u.a.oneOfType([u.a.string,u.a.node]),j=u.a.oneOfType([u.a.string,u.a.number]),N=1,A=function(e,t){var n=void 0===e?"undefined":_(e);if("string"!==n&&"number"!==n&&"boolean"!==n)return e;var r=t.options,a=t.valueKey;if(r)for(var o=0;o<r.length;o++)if(String(r[o][a])===String(e))return r[o]},R=function(e,t){return!e||(t?0===e.length:0===Object.keys(e).length)},L=function(e){function t(e){w(this,t);var n=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return["clearValue","focusOption","getOptionLabel","handleInputBlur","handleInputChange","handleInputFocus","handleInputValueChange","handleKeyDown","handleMenuScroll","handleMouseDown","handleMouseDownOnArrow","handleMouseDownOnMenu","handleTouchEnd","handleTouchEndClearValue","handleTouchMove","handleTouchOutside","handleTouchStart","handleValueClick","onOptionRef","removeValue","selectValue"].forEach(function(e){return n[e]=n[e].bind(n)}),n.state={inputValue:"",isFocused:!1,isOpen:!1,isPseudoFocused:!1,required:!1},n}return O(t,e),E(t,[{key:"componentWillMount",value:function(){this._instancePrefix="react-select-"+(this.props.instanceId||++N)+"-";var e=this.getValueArray(this.props.value);this.props.required&&this.setState({required:R(e[0],this.props.multi)})}},{key:"componentDidMount",value:function(){void 0!==this.props.autofocus&&"undefined"!=typeof console&&console.warn("Warning: The autofocus prop has changed to autoFocus, support will be removed after react-select@1.0"),(this.props.autoFocus||this.props.autofocus)&&this.focus()}},{key:"componentWillReceiveProps",value:function(e){var t=this.getValueArray(e.value,e);e.required?this.setState({required:R(t[0],e.multi)}):this.props.required&&this.setState({required:!1}),this.state.inputValue&&this.props.value!==e.value&&e.onSelectResetsInput&&this.setState({inputValue:this.handleInputValueChange("")})}},{key:"componentDidUpdate",value:function(e,t){if(this.menu&&this.focused&&this.state.isOpen&&!this.hasScrolledToOption){var n=Object(d.findDOMNode)(this.focused),r=Object(d.findDOMNode)(this.menu),a=r.scrollTop,o=a+r.offsetHeight,i=n.offsetTop,s=i+n.offsetHeight;(a>i||o<s)&&(r.scrollTop=n.offsetTop),this.hasScrolledToOption=!0}else this.state.isOpen||(this.hasScrolledToOption=!1);if(this._scrollToFocusedOptionOnUpdate&&this.focused&&this.menu){this._scrollToFocusedOptionOnUpdate=!1;var u=Object(d.findDOMNode)(this.focused),l=Object(d.findDOMNode)(this.menu),c=u.getBoundingClientRect(),f=l.getBoundingClientRect();c.bottom>f.bottom?l.scrollTop=u.offsetTop+u.clientHeight-l.offsetHeight:c.top<f.top&&(l.scrollTop=u.offsetTop)}if(this.props.scrollMenuIntoView&&this.menuContainer){var p=this.menuContainer.getBoundingClientRect();window.innerHeight<p.bottom+this.props.menuBuffer&&window.scrollBy(0,p.bottom+this.props.menuBuffer-window.innerHeight)}if(e.disabled!==this.props.disabled&&(this.setState({isFocused:!1}),this.closeMenu()),t.isOpen!==this.state.isOpen){this.toggleTouchOutsideEvent(this.state.isOpen);var h=this.state.isOpen?this.props.onOpen:this.props.onClose;h&&h()}}},{key:"componentWillUnmount",value:function(){this.toggleTouchOutsideEvent(!1)}},{key:"toggleTouchOutsideEvent",value:function(e){e?!document.addEventListener&&document.attachEvent?document.attachEvent("ontouchstart",this.handleTouchOutside):document.addEventListener("touchstart",this.handleTouchOutside):!document.removeEventListener&&document.detachEvent?document.detachEvent("ontouchstart",this.handleTouchOutside):document.removeEventListener("touchstart",this.handleTouchOutside)}},{key:"handleTouchOutside",value:function(e){this.wrapper&&!this.wrapper.contains(e.target)&&this.closeMenu()}},{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"blurInput",value:function(){this.input&&this.input.blur()}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"handleTouchEnd",value:function(e){this.dragging||this.handleMouseDown(e)}},{key:"handleTouchEndClearValue",value:function(e){this.dragging||this.clearValue(e)}},{key:"handleMouseDown",value:function(e){if(!(this.props.disabled||"mousedown"===e.type&&0!==e.button))if("INPUT"!==e.target.tagName){if(e.preventDefault(),!this.props.searchable)return this.focus(),this.setState({isOpen:!this.state.isOpen});if(this.state.isFocused){this.focus();var t=this.input,n=!0;"function"==typeof t.getInput&&(t=t.getInput()),t.value="",this._focusAfterClear&&(n=!1,this._focusAfterClear=!1),this.setState({isOpen:n,isPseudoFocused:!1,focusedOption:null})}else this._openAfterFocus=this.props.openOnClick,this.focus(),this.setState({focusedOption:null})}else this.state.isFocused?this.state.isOpen||this.setState({isOpen:!0,isPseudoFocused:!1}):(this._openAfterFocus=this.props.openOnClick,this.focus())}},{key:"handleMouseDownOnArrow",value:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||(this.state.isOpen?(e.stopPropagation(),e.preventDefault(),this.closeMenu()):this.setState({isOpen:!0}))}},{key:"handleMouseDownOnMenu",value:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this._openAfterFocus=!0,this.focus())}},{key:"closeMenu",value:function(){this.props.onCloseResetsInput?this.setState({inputValue:this.handleInputValueChange(""),isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi}):this.setState({isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi}),this.hasScrolledToOption=!1}},{key:"handleInputFocus",value:function(e){if(!this.props.disabled){var t=this.state.isOpen||this._openAfterFocus||this.props.openOnFocus;t=!this._focusAfterClear&&t,this.props.onFocus&&this.props.onFocus(e),this.setState({isFocused:!0,isOpen:!!t}),this._focusAfterClear=!1,this._openAfterFocus=!1}}},{key:"handleInputBlur",value:function(e){if(!this.menu||this.menu!==document.activeElement&&!this.menu.contains(document.activeElement)){this.props.onBlur&&this.props.onBlur(e);var t={isFocused:!1,isOpen:!1,isPseudoFocused:!1};this.props.onBlurResetsInput&&(t.inputValue=this.handleInputValueChange("")),this.setState(t)}else this.focus()}},{key:"handleInputChange",value:function(e){var t=e.target.value;this.state.inputValue!==e.target.value&&(t=this.handleInputValueChange(t)),this.setState({inputValue:t,isOpen:!0,isPseudoFocused:!1})}},{key:"setInputValue",value:function(e){if(this.props.onInputChange){var t=this.props.onInputChange(e);null!=t&&"object"!==(void 0===t?"undefined":_(t))&&(e=""+t)}this.setState({inputValue:e})}},{key:"handleInputValueChange",value:function(e){if(this.props.onInputChange){var t=this.props.onInputChange(e);null!=t&&"object"!==(void 0===t?"undefined":_(t))&&(e=""+t)}return e}},{key:"handleKeyDown",value:function(e){if(!(this.props.disabled||"function"==typeof this.props.onInputKeyDown&&(this.props.onInputKeyDown(e),e.defaultPrevented)))switch(e.keyCode){case 8:!this.state.inputValue&&this.props.backspaceRemoves&&(e.preventDefault(),this.popValue());break;case 9:if(e.shiftKey||!this.state.isOpen||!this.props.tabSelectsValue)break;e.preventDefault(),this.selectFocusedOption();break;case 13:e.preventDefault(),e.stopPropagation(),this.state.isOpen?this.selectFocusedOption():this.focusNextOption();break;case 27:e.preventDefault(),this.state.isOpen?(this.closeMenu(),e.stopPropagation()):this.props.clearable&&this.props.escapeClearsValue&&(this.clearValue(e),e.stopPropagation());break;case 32:if(this.props.searchable)break;if(e.preventDefault(),!this.state.isOpen){this.focusNextOption();break}e.stopPropagation(),this.selectFocusedOption();break;case 38:e.preventDefault(),this.focusPreviousOption();break;case 40:e.preventDefault(),this.focusNextOption();break;case 33:e.preventDefault(),this.focusPageUpOption();break;case 34:e.preventDefault(),this.focusPageDownOption();break;case 35:if(e.shiftKey)break;e.preventDefault(),this.focusEndOption();break;case 36:if(e.shiftKey)break;e.preventDefault(),this.focusStartOption();break;case 46:!this.state.inputValue&&this.props.deleteRemoves&&(e.preventDefault(),this.popValue())}}},{key:"handleValueClick",value:function(e,t){this.props.onValueClick&&this.props.onValueClick(e,t)}},{key:"handleMenuScroll",value:function(e){if(this.props.onMenuScrollToBottom){var t=e.target;t.scrollHeight>t.offsetHeight&&t.scrollHeight-t.offsetHeight-t.scrollTop<=0&&this.props.onMenuScrollToBottom()}}},{key:"getOptionLabel",value:function(e){return e[this.props.labelKey]}},{key:"getValueArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n="object"===(void 0===t?"undefined":_(t))?t:this.props;if(n.multi){if("string"==typeof e&&(e=e.split(n.delimiter)),!Array.isArray(e)){if(null===e||void 0===e)return[];e=[e]}return e.map(function(e){return A(e,n)}).filter(function(e){return e})}var r=A(e,n);return r?[r]:[]}},{key:"setValue",value:function(e){var t=this;if(this.props.autoBlur&&this.blurInput(),this.props.required){var n=R(e,this.props.multi);this.setState({required:n})}this.props.simpleValue&&e&&(e=this.props.multi?e.map(function(e){return e[t.props.valueKey]}).join(this.props.delimiter):e[this.props.valueKey]),this.props.onChange&&this.props.onChange(e)}},{key:"selectValue",value:function(e){var t=this;this.props.closeOnSelect&&(this.hasScrolledToOption=!1);var n=this.props.onSelectResetsInput?"":this.state.inputValue;this.props.multi?this.setState({focusedIndex:null,inputValue:this.handleInputValueChange(n),isOpen:!this.props.closeOnSelect},function(){t.getValueArray(t.props.value).some(function(n){return n[t.props.valueKey]===e[t.props.valueKey]})?t.removeValue(e):t.addValue(e)}):this.setState({inputValue:this.handleInputValueChange(n),isOpen:!this.props.closeOnSelect,isPseudoFocused:this.state.isFocused},function(){t.setValue(e)})}},{key:"addValue",value:function(e){var t=this.getValueArray(this.props.value),n=this._visibleOptions.filter(function(e){return!e.disabled}),r=n.indexOf(e);this.setValue(t.concat(e)),n.length-1===r?this.focusOption(n[r-1]):n.length>r&&this.focusOption(n[r+1])}},{key:"popValue",value:function(){var e=this.getValueArray(this.props.value);e.length&&!1!==e[e.length-1].clearableValue&&this.setValue(this.props.multi?e.slice(0,e.length-1):null)}},{key:"removeValue",value:function(e){var t=this,n=this.getValueArray(this.props.value);this.setValue(n.filter(function(n){return n[t.props.valueKey]!==e[t.props.valueKey]})),this.focus()}},{key:"clearValue",value:function(e){e&&"mousedown"===e.type&&0!==e.button||(e.preventDefault(),this.setValue(this.getResetValue()),this.setState({inputValue:this.handleInputValueChange(""),isOpen:!1},this.focus),this._focusAfterClear=!0)}},{key:"getResetValue",value:function(){return void 0!==this.props.resetValue?this.props.resetValue:this.props.multi?[]:null}},{key:"focusOption",value:function(e){this.setState({focusedOption:e})}},{key:"focusNextOption",value:function(){this.focusAdjacentOption("next")}},{key:"focusPreviousOption",value:function(){this.focusAdjacentOption("previous")}},{key:"focusPageUpOption",value:function(){this.focusAdjacentOption("page_up")}},{key:"focusPageDownOption",value:function(){this.focusAdjacentOption("page_down")}},{key:"focusStartOption",value:function(){this.focusAdjacentOption("start")}},{key:"focusEndOption",value:function(){this.focusAdjacentOption("end")}},{key:"focusAdjacentOption",value:function(e){var t=this._visibleOptions.map(function(e,t){return{option:e,index:t}}).filter(function(e){return!e.option.disabled});if(this._scrollToFocusedOptionOnUpdate=!0,!this.state.isOpen){var n={focusedOption:this._focusedOption||(t.length?t["next"===e?0:t.length-1].option:null),isOpen:!0};return this.props.onSelectResetsInput&&(n.inputValue=""),void this.setState(n)}if(t.length){for(var r=-1,a=0;a<t.length;a++)if(this._focusedOption===t[a].option){r=a;break}if("next"===e&&-1!==r)r=(r+1)%t.length;else if("previous"===e)r>0?r-=1:r=t.length-1;else if("start"===e)r=0;else if("end"===e)r=t.length-1;else if("page_up"===e){var o=r-this.props.pageSize;r=o<0?0:o}else if("page_down"===e){var i=r+this.props.pageSize;r=i>t.length-1?t.length-1:i}-1===r&&(r=0),this.setState({focusedIndex:t[r].index,focusedOption:t[r].option})}}},{key:"getFocusedOption",value:function(){return this._focusedOption}},{key:"selectFocusedOption",value:function(){if(this._focusedOption)return this.selectValue(this._focusedOption)}},{key:"renderLoading",value:function(){if(this.props.isLoading)return c.a.createElement("span",{className:"Select-loading-zone","aria-hidden":"true"},c.a.createElement("span",{className:"Select-loading"}))}},{key:"renderValue",value:function(e,t){var n=this,r=this.props.valueRenderer||this.getOptionLabel,a=this.props.valueComponent;if(!e.length)return function(e,t,n){var r=e.inputValue,a=e.isPseudoFocused,o=e.isFocused,i=t.onSelectResetsInput;return!r||!i&&!n&&!a&&!o}(this.state,this.props,t)?c.a.createElement("div",{className:"Select-placeholder"},this.props.placeholder):null;var o,i,s,u,l,d,f=this.props.onValueClick?this.handleValueClick:null;return this.props.multi?e.map(function(e,t){return c.a.createElement(a,{disabled:n.props.disabled||!1===e.clearableValue,id:n._instancePrefix+"-value-"+t,instancePrefix:n._instancePrefix,key:"value-"+t+"-"+e[n.props.valueKey],onClick:f,onRemove:n.removeValue,placeholder:n.props.placeholder,value:e},r(e,t),c.a.createElement("span",{className:"Select-aria-only"}," "))}):(o=this.state,i=this.props,s=o.inputValue,u=o.isPseudoFocused,l=o.isFocused,d=i.onSelectResetsInput,s&&(d||!l&&u||l&&!u)?void 0:(t&&(f=null),c.a.createElement(a,{disabled:this.props.disabled,id:this._instancePrefix+"-value-item",instancePrefix:this._instancePrefix,onClick:f,placeholder:this.props.placeholder,value:e[0]},r(e[0]))))}},{key:"renderInput",value:function(e,t){var n,r=this,o=i()("Select-input",this.props.inputProps.className),s=this.state.isOpen,u=i()((k(n={},this._instancePrefix+"-list",s),k(n,this._instancePrefix+"-backspace-remove-message",this.props.multi&&!this.props.disabled&&this.state.isFocused&&!this.state.inputValue),n)),l=this.state.inputValue;!l||this.props.onSelectResetsInput||this.state.isFocused||(l="");var d=S({},this.props.inputProps,{"aria-activedescendant":s?this._instancePrefix+"-option-"+t:this._instancePrefix+"-value","aria-describedby":this.props["aria-describedby"],"aria-expanded":""+s,"aria-haspopup":""+s,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-owns":u,className:o,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,ref:function(e){return r.input=e},role:"combobox",required:this.state.required,tabIndex:this.props.tabIndex,value:l});if(this.props.inputRenderer)return this.props.inputRenderer(d);if(this.props.disabled||!this.props.searchable){var f=C(this.props.inputProps,[]),p=i()(k({},this._instancePrefix+"-list",s));return c.a.createElement("div",S({},f,{"aria-expanded":s,"aria-owns":p,"aria-activedescendant":s?this._instancePrefix+"-option-"+t:this._instancePrefix+"-value","aria-disabled":""+this.props.disabled,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],className:o,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,ref:function(e){return r.input=e},role:"combobox",style:{border:0,width:1,display:"inline-block"},tabIndex:this.props.tabIndex||0}))}return this.props.autosize?c.a.createElement(a.a,S({id:this.props.id},d,{minWidth:"5"})):c.a.createElement("div",{className:o,key:"input-wrap",style:{display:"inline-block"}},c.a.createElement("input",S({id:this.props.id},d)))}},{key:"renderClear",value:function(){var e=this.getValueArray(this.props.value);if(this.props.clearable&&e.length&&!this.props.disabled&&!this.props.isLoading){var t=this.props.multi?this.props.clearAllText:this.props.clearValueText,n=this.props.clearRenderer();return c.a.createElement("span",{"aria-label":t,className:"Select-clear-zone",onMouseDown:this.clearValue,onTouchEnd:this.handleTouchEndClearValue,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,title:t},n)}}},{key:"renderArrow",value:function(){if(this.props.arrowRenderer){var e=this.handleMouseDownOnArrow,t=this.state.isOpen,n=this.props.arrowRenderer({onMouseDown:e,isOpen:t});return n?c.a.createElement("span",{className:"Select-arrow-zone",onMouseDown:e},n):null}}},{key:"filterOptions",value:function(e){var t=this.state.inputValue,n=this.props.options||[];if(this.props.filterOptions){var r="function"==typeof this.props.filterOptions?this.props.filterOptions:y;return r(n,t,e,{filterOption:this.props.filterOption,ignoreAccents:this.props.ignoreAccents,ignoreCase:this.props.ignoreCase,labelKey:this.props.labelKey,matchPos:this.props.matchPos,matchProp:this.props.matchProp,trimFilter:this.props.trimFilter,valueKey:this.props.valueKey})}return n}},{key:"onOptionRef",value:function(e,t){t&&(this.focused=e)}},{key:"renderMenu",value:function(e,t,n){return e&&e.length?this.props.menuRenderer({focusedOption:n,focusOption:this.focusOption,inputValue:this.state.inputValue,instancePrefix:this._instancePrefix,labelKey:this.props.labelKey,onFocus:this.focusOption,onOptionRef:this.onOptionRef,onSelect:this.selectValue,optionClassName:this.props.optionClassName,optionComponent:this.props.optionComponent,optionRenderer:this.props.optionRenderer||this.getOptionLabel,options:e,removeValue:this.removeValue,selectValue:this.selectValue,valueArray:t,valueKey:this.props.valueKey}):this.props.noResultsText?c.a.createElement("div",{className:"Select-noresults"},this.props.noResultsText):null}},{key:"renderHiddenField",value:function(e){var t=this;if(this.props.name){if(this.props.joinValues){var n=e.map(function(e){return P(e[t.props.valueKey])}).join(this.props.delimiter);return c.a.createElement("input",{disabled:this.props.disabled,name:this.props.name,ref:function(e){return t.value=e},type:"hidden",value:n})}return e.map(function(e,n){return c.a.createElement("input",{disabled:t.props.disabled,key:"hidden."+n,name:t.props.name,ref:"value"+n,type:"hidden",value:P(e[t.props.valueKey])})})}}},{key:"getFocusableOptionIndex",value:function(e){var t=this._visibleOptions;if(!t.length)return null;var n=this.props.valueKey,r=this.state.focusedOption||e;if(r&&!r.disabled){var a=-1;if(t.some(function(e,t){var o=e[n]===r[n];return o&&(a=t),o}),-1!==a)return a}for(var o=0;o<t.length;o++)if(!t[o].disabled)return o;return null}},{key:"renderOuter",value:function(e,t,n){var r=this,a=this.renderMenu(e,t,n);return a?c.a.createElement("div",{ref:function(e){return r.menuContainer=e},className:"Select-menu-outer",style:this.props.menuContainerStyle},c.a.createElement("div",{className:"Select-menu",id:this._instancePrefix+"-list",onMouseDown:this.handleMouseDownOnMenu,onScroll:this.handleMenuScroll,ref:function(e){return r.menu=e},role:"listbox",style:this.props.menuStyle,tabIndex:-1},a)):null}},{key:"render",value:function(){var e=this,t=this.getValueArray(this.props.value),n=this._visibleOptions=this.filterOptions(this.props.multi&&this.props.removeSelected?t:null),r=this.state.isOpen;this.props.multi&&!n.length&&t.length&&!this.state.inputValue&&(r=!1);var a=this.getFocusableOptionIndex(t[0]),o=null;o=this._focusedOption=null!==a?n[a]:null;var s=i()("Select",this.props.className,{"has-value":t.length,"is-clearable":this.props.clearable,"is-disabled":this.props.disabled,"is-focused":this.state.isFocused,"is-loading":this.props.isLoading,"is-open":r,"is-pseudo-focused":this.state.isPseudoFocused,"is-searchable":this.props.searchable,"Select--multi":this.props.multi,"Select--rtl":this.props.rtl,"Select--single":!this.props.multi}),u=null;return this.props.multi&&!this.props.disabled&&t.length&&!this.state.inputValue&&this.state.isFocused&&this.props.backspaceRemoves&&(u=c.a.createElement("span",{id:this._instancePrefix+"-backspace-remove-message",className:"Select-aria-only","aria-live":"assertive"},this.props.backspaceToRemoveMessage.replace("{label}",t[t.length-1][this.props.labelKey]))),c.a.createElement("div",{ref:function(t){return e.wrapper=t},className:s,style:this.props.wrapperStyle},this.renderHiddenField(t),c.a.createElement("div",{ref:function(t){return e.control=t},className:"Select-control",onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleTouchEnd,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,style:this.props.style},c.a.createElement("span",{className:"Select-multi-value-wrapper",id:this._instancePrefix+"-value"},this.renderValue(t,r),this.renderInput(t,a)),u,this.renderLoading(),this.renderClear(),this.renderArrow()),r?this.renderOuter(n,t,o):null)}}]),t}(c.a.Component);L.propTypes={"aria-describedby":u.a.string,"aria-label":u.a.string,"aria-labelledby":u.a.string,arrowRenderer:u.a.func,autoBlur:u.a.bool,autoFocus:u.a.bool,autofocus:u.a.bool,autosize:u.a.bool,backspaceRemoves:u.a.bool,backspaceToRemoveMessage:u.a.string,className:u.a.string,clearAllText:x,clearRenderer:u.a.func,clearValueText:x,clearable:u.a.bool,closeOnSelect:u.a.bool,deleteRemoves:u.a.bool,delimiter:u.a.string,disabled:u.a.bool,escapeClearsValue:u.a.bool,filterOption:u.a.func,filterOptions:u.a.any,id:u.a.string,ignoreAccents:u.a.bool,ignoreCase:u.a.bool,inputProps:u.a.object,inputRenderer:u.a.func,instanceId:u.a.string,isLoading:u.a.bool,joinValues:u.a.bool,labelKey:u.a.string,matchPos:u.a.string,matchProp:u.a.string,menuBuffer:u.a.number,menuContainerStyle:u.a.object,menuRenderer:u.a.func,menuStyle:u.a.object,multi:u.a.bool,name:u.a.string,noResultsText:x,onBlur:u.a.func,onBlurResetsInput:u.a.bool,onChange:u.a.func,onClose:u.a.func,onCloseResetsInput:u.a.bool,onFocus:u.a.func,onInputChange:u.a.func,onInputKeyDown:u.a.func,onMenuScrollToBottom:u.a.func,onOpen:u.a.func,onSelectResetsInput:u.a.bool,onValueClick:u.a.func,openOnClick:u.a.bool,openOnFocus:u.a.bool,optionClassName:u.a.string,optionComponent:u.a.func,optionRenderer:u.a.func,options:u.a.array,pageSize:u.a.number,placeholder:x,removeSelected:u.a.bool,required:u.a.bool,resetValue:u.a.any,rtl:u.a.bool,scrollMenuIntoView:u.a.bool,searchable:u.a.bool,simpleValue:u.a.bool,style:u.a.object,tabIndex:j,tabSelectsValue:u.a.bool,trimFilter:u.a.bool,value:u.a.any,valueComponent:u.a.func,valueKey:u.a.string,valueRenderer:u.a.func,wrapperStyle:u.a.object},L.defaultProps={arrowRenderer:f,autosize:!0,backspaceRemoves:!0,backspaceToRemoveMessage:"Press backspace to remove {label}",clearable:!0,clearAllText:"Clear all",clearRenderer:p,clearValueText:"Clear value",closeOnSelect:!0,deleteRemoves:!0,delimiter:",",disabled:!1,escapeClearsValue:!0,filterOptions:y,ignoreAccents:!0,ignoreCase:!0,inputProps:{},isLoading:!1,joinValues:!1,labelKey:"label",matchPos:"any",matchProp:"any",menuBuffer:0,menuRenderer:g,multi:!1,noResultsText:"No results found",onBlurResetsInput:!0,onCloseResetsInput:!0,onSelectResetsInput:!0,openOnClick:!0,optionComponent:T,pageSize:5,placeholder:"Select...",removeSelected:!0,required:!1,rtl:!1,scrollMenuIntoView:!0,searchable:!0,simpleValue:!1,tabSelectsValue:!0,trimFilter:!0,valueComponent:M,valueKey:"value"};var I={autoload:u.a.bool.isRequired,cache:u.a.any,children:u.a.func.isRequired,ignoreAccents:u.a.bool,ignoreCase:u.a.bool,loadOptions:u.a.func.isRequired,loadingPlaceholder:u.a.oneOfType([u.a.string,u.a.node]),multi:u.a.bool,noResultsText:u.a.oneOfType([u.a.string,u.a.node]),onChange:u.a.func,onInputChange:u.a.func,options:u.a.array.isRequired,placeholder:u.a.oneOfType([u.a.string,u.a.node]),searchPromptText:u.a.oneOfType([u.a.string,u.a.node]),value:u.a.any},F={},Y={autoload:!0,cache:F,children:function(e){return c.a.createElement(L,e)},ignoreAccents:!0,ignoreCase:!0,loadingPlaceholder:"Loading...",options:[],searchPromptText:"Type to search"},U=function(e){function t(e,n){w(this,t);var r=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._cache=e.cache===F?{}:e.cache,r.state={inputValue:"",isLoading:!1,options:e.options},r.onInputChange=r.onInputChange.bind(r),r}return O(t,e),E(t,[{key:"componentDidMount",value:function(){this.props.autoload&&this.loadOptions("")}},{key:"componentWillReceiveProps",value:function(e){e.options!==this.props.options&&this.setState({options:e.options})}},{key:"componentWillUnmount",value:function(){this._callback=null}},{key:"loadOptions",value:function(e){var t=this,n=this.props.loadOptions,r=this._cache;if(r&&Object.prototype.hasOwnProperty.call(r,e))return this._callback=null,void this.setState({isLoading:!1,options:r[e]});var a=function n(a,o){var i=o&&o.options||[];r&&(r[e]=i),n===t._callback&&(t._callback=null,t.setState({isLoading:!1,options:i}))};this._callback=a;var o=n(e,a);o&&o.then(function(e){return a(0,e)},function(e){return a()}),this._callback&&!this.state.isLoading&&this.setState({isLoading:!0})}},{key:"onInputChange",value:function(e){var t=this.props,n=t.ignoreAccents,r=t.ignoreCase,a=t.onInputChange,o=e;if(a){var i=a(o);null!=i&&"object"!==(void 0===i?"undefined":_(i))&&(o=""+i)}var s=o;return n&&(s=m(s)),r&&(s=s.toLowerCase()),this.setState({inputValue:o}),this.loadOptions(s),o}},{key:"noResultsText",value:function(){var e=this.props,t=e.loadingPlaceholder,n=e.noResultsText,r=e.searchPromptText,a=this.state,o=a.inputValue;return a.isLoading?t:o&&n?n:r}},{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.loadingPlaceholder,a=t.placeholder,o=this.state,i=o.isLoading,s=o.options,u={noResultsText:this.noResultsText(),placeholder:i?r:a,options:i&&r?[]:s,ref:function(t){return e.select=t}};return n(S({},this.props,u,{isLoading:i,onInputChange:this.onInputChange}))}}]),t}(l.Component);U.propTypes=I,U.defaultProps=Y;var H=function(e){function t(e,n){w(this,t);var r=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.filterOptions=r.filterOptions.bind(r),r.menuRenderer=r.menuRenderer.bind(r),r.onInputKeyDown=r.onInputKeyDown.bind(r),r.onInputChange=r.onInputChange.bind(r),r.onOptionSelect=r.onOptionSelect.bind(r),r}return O(t,e),E(t,[{key:"createNewOption",value:function(){var e=this.props,t=e.isValidNewOption,n=e.newOptionCreator,r=e.onNewOptionClick,a=e.options,o=void 0===a?[]:a;if(t({label:this.inputValue})){var i=n({label:this.inputValue,labelKey:this.labelKey,valueKey:this.valueKey});this.isOptionUnique({option:i,options:o})&&(r?r(i):(o.unshift(i),this.select.selectValue(i)))}}},{key:"filterOptions",value:function(){var e=this.props,t=e.filterOptions,n=e.isValidNewOption,r=e.promptTextCreator,a=(arguments.length<=2?void 0:arguments[2])||[],o=t.apply(void 0,arguments)||[];if(n({label:this.inputValue})){var i=this.props.newOptionCreator,s=i({label:this.inputValue,labelKey:this.labelKey,valueKey:this.valueKey});if(this.isOptionUnique({option:s,options:a.concat(o)})){var u=r(this.inputValue);this._createPlaceholderOption=i({label:u,labelKey:this.labelKey,valueKey:this.valueKey}),o.unshift(this._createPlaceholderOption)}}return o}},{key:"isOptionUnique",value:function(e){var t=e.option,n=e.options,r=this.props.isOptionUnique;return n=n||this.props.options,r({labelKey:this.labelKey,option:t,options:n,valueKey:this.valueKey})}},{key:"menuRenderer",value:function(e){var t=this.props.menuRenderer;return t(S({},e,{onSelect:this.onOptionSelect,selectValue:this.onOptionSelect}))}},{key:"onInputChange",value:function(e){var t=this.props.onInputChange;return this.inputValue=e,t&&(this.inputValue=t(e)),this.inputValue}},{key:"onInputKeyDown",value:function(e){var t=this.props,n=t.shouldKeyDownEventCreateNewOption,r=t.onInputKeyDown,a=this.select.getFocusedOption();a&&a===this._createPlaceholderOption&&n({keyCode:e.keyCode})?(this.createNewOption(),e.preventDefault()):r&&r(e)}},{key:"onOptionSelect",value:function(e){e===this._createPlaceholderOption?this.createNewOption():this.select.selectValue(e)}},{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.ref,r=C(t,["ref"]),a=this.props.children;return a||(a=V),a(S({},r,{allowCreate:!0,filterOptions:this.filterOptions,menuRenderer:this.menuRenderer,onInputChange:this.onInputChange,onInputKeyDown:this.onInputKeyDown,ref:function(t){e.select=t,t&&(e.labelKey=t.props.labelKey,e.valueKey=t.props.valueKey),n&&n(t)}}))}}]),t}(c.a.Component),V=function(e){return c.a.createElement(L,e)},B=function(e){var t=e.option,n=e.options,r=e.labelKey,a=e.valueKey;return!n||!n.length||0===n.filter(function(e){return e[r]===t[r]||e[a]===t[a]}).length},W=function(e){return!!e.label},z=function(e){var t=e.label,n=e.labelKey,r={};return r[e.valueKey]=t,r[n]=t,r.className="Select-create-option-placeholder",r},G=function(e){return'Create option "'+e+'"'},q=function(e){switch(e.keyCode){case 9:case 13:case 188:return!0;default:return!1}};H.isOptionUnique=B,H.isValidNewOption=W,H.newOptionCreator=z,H.promptTextCreator=G,H.shouldKeyDownEventCreateNewOption=q,H.defaultProps={filterOptions:y,isOptionUnique:B,isValidNewOption:W,menuRenderer:g,newOptionCreator:z,promptTextCreator:G,shouldKeyDownEventCreateNewOption:q},H.propTypes={children:u.a.func,filterOptions:u.a.any,isOptionUnique:u.a.func,isValidNewOption:u.a.func,menuRenderer:u.a.any,newOptionCreator:u.a.func,onInputChange:u.a.func,onInputKeyDown:u.a.func,onNewOptionClick:u.a.func,options:u.a.array,promptTextCreator:u.a.func,ref:u.a.func,shouldKeyDownEventCreateNewOption:u.a.func};var K=function(e){function t(){return w(this,t),D(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,e),E(t,[{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var e=this;return c.a.createElement(U,this.props,function(t){var n=t.ref,r=C(t,["ref"]),a=n;return c.a.createElement(H,r,function(t){var n=t.ref,r=C(t,["ref"]),o=n;return e.props.children(S({},r,{ref:function(t){o(t),a(t),e.select=t}}))})})}}]),t}(c.a.Component);K.propTypes={children:u.a.func.isRequired},K.defaultProps={children:function(e){return c.a.createElement(L,e)}},L.Async=U,L.AsyncCreatable=K,L.Creatable=H,L.Value=M,L.Option=T,t.default=L},function(e,t,n){var r=n(92);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&!1!==a(s[i],i,s););return n}}},function(e,t){e.exports=function(e){return function(t,n,r){for(var a=-1,o=Object(t),i=r(t),s=i.length;s--;){var u=i[e?s:++a];if(!1===n(o[u],u,o))break}return t}}},function(e,t,n){var r=n(949)();e.exports=r},function(e,t,n){var r=n(950),a=n(134);e.exports=function(e,t){return e&&r(e,t,a)}},function(e,t,n){var r=n(728);e.exports=function(e,t){var n=[];return r(e,function(e,r,a){t(e,r,a)&&n.push(e)}),n}},function(e,t,n){var r=n(351),a=n(952),o=n(649),i=n(50);e.exports=function(e,t){return(i(e)?r:a)(e,o(t,3))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(650)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=m(n(1)),i=m(n(10)),s=m(n(59)),u=m(n(91)),l=m(n(729)),c=m(n(216)),d=m(n(726)),f=m(n(6)),p=m(n(674)),h=m(n(56));function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.reset=function(e){n.calendarPicker&&n.calendarPicker.clear(),n.text&&n.text.setValue(""),Object.keys(n.custom).forEach(function(e){return n.custom[e]&&n.custom[e].clear()}),n.onChange(),e.preventDefault()},n.openShareLink=function(){window.open(l.default.buildAppStateUrl(),"_blank")},n.onChange=function(){(n.calendarPicker||n.text)&&c.default.filterEvents(n.getTextValue(),n.getCalValue(),n.getCustomValues())},n.custom={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["default"].Component),a(t,[{key:"componentDidMount",value:function(){((this.props.defaultCalValue||[]).length>0||(this.props.defaultTextValue||"").length>0||Object.keys(this.props.defaultCustomValues).length>0)&&this.onChange()}},{key:"getCalValue",value:function(){return this.calendarPicker?this.calendarPicker.getValue():[]}},{key:"getTextValue",value:function(){return this.text?this.text.getValue():""}},{key:"getCustomValues",value:function(){var e=this,t={};return Object.keys(this.custom).forEach(function(n){t[n]=e.custom[n].getValue()}),t}},{key:"render",value:function(){var e=this,t=(0,r.default)(this.onChange,300),n=void 0;return((this.props.defaultTextValue||"").length>0||(this.props.defaultCalValue||[]).length>0)&&(n=!1),o.default.createElement(p.default,{className:"filter-widget",stateId:"filter",defaultCollapsed:!0,collapsed:n,title:"calendar:calendar_filtering.title"},o.default.createElement(s.default,{defaultValue:this.props.defaultTextValue,name:"keywords_filter",placeholder:i.default.translate("calendar","calendar_filtering.by_keyword"),ref:function(t){e.text=t},onChange:t,onKeyUp:t}),this.props.oneToManyEnabled&&o.default.createElement(d.default,{ref:function(t){e.calendarPicker=t},resources:u.default.getState().resources,defaultValue:this.props.defaultCalValue||[],multi:!0,editable:!0,onChange:function(){setTimeout(t,10)},placeholderSection:"calendar",placeholderMessage:"calendar_filtering.by_calendar",clearable:!1,showAll:!0,searchPromptText:i.default.translate("core_js","calendar_picker.no_result")}),h.default.getState().fields.definitions.map(function(n){var r="filter-custom-"+n.id;if(n.active)return"choices"===n.type?o.default.createElement(d.default,{key:r,ref:function(t){e.custom[n.id]=t},resources:n.type_data.options.filter(function(e){return!e.hidden}).map(function(e){return{id:e.id,name:e.name,color:e.color,readonly:!1,visible:!0}}),defaultValue:e.props.defaultCustomValues&&e.props.defaultCustomValues[n.id]||[],multi:!0,editable:!0,onChange:function(){setTimeout(t,10)},placeholderSection:"calendar",placeholderMessage:"calendar_filtering.by_custom_field_choice",placeholderParams:{name:n.name},clearable:!1,searchPromptText:i.default.translate("core_js","custom_field_picker.no_result"),className:"choicepicker"}):void 0}),o.default.createElement("div",{className:"filter-panel-footer"},o.default.createElement(f.default,{component:"a",message:"calendar:calendar_filtering.share",onClick:this.openShareLink,className:"share-button"}),o.default.createElement(f.default,{component:"a",message:"calendar:calendar_filtering.clear",onClick:this.reset,className:"clear-button"}),o.default.createElement("a",{href:"http://calendar.teamup.com/kb/filter-events/",target:"_blank",className:"button-help"},o.default.createElement("i",{className:"sprite-icon-help"}))))}}]),t}();t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(97)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(1)),i=f(n(954)),s=f(n(944)),u=f(n(943)),l=f(n(725)),c=f(n(56)),d=f(n(182));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.root=null,n.content=null,n.handleStoreUpdate=function(){var e=c.default.getState(),t=e.sidebar.expanded;t!==n.state.expanded&&(n.setState({expanded:t}),n.updateVisibility());var a=e.datetime.currentDate;a.isSame(n.state.currentDate)||n.setState({currentDate:a});var o=e.datetime.highlightedDates;(0,r.default)(o,n.state.highlightedDates)||n.setState({highlightedDates:o})},n.onResize=function(e){var t=n.isMobile();t&&!n.lastResizeMobile&&d.default.toggleSidebar(!1),!t&&n.lastResizeMobile&&(d.default.toggleSidebar(!0),n.updateVisibility()),n.lastResizeMobile=t},n.onTouchStart=function(e){n.state.expanded&&n.content&&n.isMobile()&&((e.clientX||e.touches&&e.touches[0].pageX)>n.content.getBoundingClientRect().width&&(d.default.toggleSidebar(!1),e.preventDefault()))};var a=c.default.getState();return n.state={expanded:a.sidebar.expanded,currentDate:a.datetime.currentDate,highlightedDates:a.datetime.highlightedDates},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["default"].Component),a(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize),window.addEventListener("click",this.onTouchStart),window.addEventListener("touchstart",this.onTouchStart),this.lastResizeMobile=this.isMobile(),c.default.listen(this.handleStoreUpdate),this.isMobile()&&d.default.toggleSidebar(!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize),window.removeEventListener("click",this.onTouchStart),window.removeEventListener("touchstart",this.onTouchStart),c.default.unlisten(this.handleStoreUpdate)}},{key:"isMobile",value:function(){return!(!this.root||"absolute"!=getComputedStyle(this.root).position)}},{key:"updateVisibility",value:function(){if(this.root){var e=this.root.className;e=e.replace(/ (hidden|visible)/,""),this.state.expanded?e+=" visible":e+=" hidden",e!==this.root.className&&(this.root.className=e)}}},{key:"render",value:function(){var e=this;return o.default.createElement("div",{className:"sidebar-content",ref:function(t){t&&(e.root=t.parentNode,e.content=t,e.updateVisibility())}},o.default.createElement("div",{className:"sidebar-section sidebar-datepicker"},o.default.createElement("div",{className:"sidebar-section-content"},o.default.createElement(l.default,{highlightedDates:this.state.highlightedDates,currentDate:this.state.currentDate,onChange:d.default.setCurrentDate,mini:!0,nextArrow:'<i class="sprite-arrow-forward" />',prevArrow:'<i class="sprite-arrow-back" />'}))),o.default.createElement(u.default,Object.assign({},this.props.calendarListWidget)),this.props.enableFilterWidget&&o.default.createElement(i.default,Object.assign({},this.props.filterWidget)),this.props.enableAboutWidget&&o.default.createElement(s.default,Object.assign({},this.props.aboutWidget)))}}]),t}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(1)),o=i(n(182));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["default"].Component),r(t,[{key:"doSearch",value:function(){o.default.doSearch("")}},{key:"render",value:function(){return a.default.createElement("a",{className:"search-button",onClick:this.doSearch},a.default.createElement("i",{className:"sprite-mini-search search-icon"}))}}]),t}();t.default=s},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n(341),n(337),n(336),n(332),n(331),n(330),n(329),n(328),n(327),n(326),n(325),n(164),n(161),n(160),n(320),n(319),n(318),n(315),n(314),n(313),n(312),n(311),n(310),n(309),n(308),n(306),n(305),n(304),n(303),n(300),n(297),n(296),n(295),n(294),n(293),n(292),n(291),n(290),n(289),n(288),n(287),n(286),n(285),n(284),n(283),n(282),n(281),n(280),n(279),n(278),n(277),n(151),n(276),n(275),n(274),n(273),n(272),n(271),n(270),n(269),n(268),n(267),n(127),n(266),n(265),n(263),n(262),n(261),n(260),n(259),n(258),n(256),n(255),n(254),n(253),n(252),n(251),n(250),n(248),n(247),n(246),n(245),n(244),n(243),n(242),n(241),n(240),n(239),n(238),n(236),n(235),n(234),n(232),n(231),n(230),n(229),n(574),n(205),n(573);var a=S(n(195)),o=S(n(1)),i=S(n(17)),s=S(n(32)),u=S(n(697)),l=S(n(956)),c=S(n(955)),d=S(n(942)),f=S(n(940)),p=S(n(938)),h=S(n(667)),m=S(n(56)),v=n(94),y=S(n(216)),g=S(n(675)),b=n(915),_=S(n(18)),w=S(n(4)),E=S(n(643)),k=S(n(427));function S(e){return e&&e.__esModule?e:{default:e}}var O=0;a.default.loadSections(window.APP_LANGUAGE_SECTIONS,window.APP_DATETIME_LOCALE,function(){if(++O==window.APP_LANGUAGE_SECTIONS.length){var e=m.default.getState();s.default.render(b.Router,document.getElementById("modal-application"));var t=window.CALENDAR_SETTINGS,n=i.default.getInitialQueryParams(),a=[];m.default.getState().fields.definitions.forEach(function(e){e.active&&"choices"===e.type&&void 0!==r(n["filterby_"+e.id])&&(a[e.id]=n["filterby_"+e.id])});var S={enableAboutWidget:t.enableAbout,aboutWidget:{title:t.aboutTitle,content:t.aboutContent,enableConfiguration:t.enableConfiguration},enableFilterWidget:!0,filterWidget:{oneToManyEnabled:e.oneToMany.enabled,defaultCalValue:[],defaultTextValue:n.keywords||"",defaultCustomValues:a},calendarListWidget:{enableConfiguration:t.enableConfiguration}};"string"==typeof n.filterby&&(S.filterWidget.defaultCalValue=n.filterby.split(",").map(function(e){return parseInt(e)}));var C={menu:{enableConfiguration:t.enableConfiguration,userSignupEnabled:!!t.userSignupEnabled,icsFeedsEnabled:!!t.icsFeedsEnabled},mobile:t.mobile};t.loggedUser&&(C.user={email:t.loggedUser.email,isAdmin:t.loggedUser.isAdmin});try{s.default.render(o.default.createElement(v.TranslationContext,{section:"calendar"},o.default.createElement(p.default,null)),document.querySelector(".calendar-body-content")),D=S,s.default.render(o.default.createElement(v.TranslationContext,{section:"calendar"},o.default.createElement(c.default,{enableFilterWidget:D.enableFilterWidget,filterWidget:D.filterWidget,enableAboutWidget:D.enableAboutWidget,aboutWidget:D.aboutWidget,calendarListWidget:D.calendarListWidget})),document.querySelector(".calendar-sidebar")),function(e){s.default.render(o.default.createElement(v.TranslationContext,{section:"calendar"},o.default.createElement(d.default,{menu:e.menu,mobile:e.mobile,user:e.user||void 0})),document.querySelector(".calendar-toolbar"))}(C),s.default.render(o.default.createElement(v.TranslationContext,{section:"calendar"},o.default.createElement(f.default,null)),document.getElementById("calendar_footer")),s.default.render(o.default.createElement(v.TranslationContext,{section:"calendar"},o.default.createElement(h.default,null)),document.getElementById("react-app-msg-ct")),function(){var e=document.getElementById("news_ticker");if(!e)return;s.default.render(o.default.createElement(v.TranslationContext,{section:"calendar"},o.default.createElement(u.default,{news:JSON.parse(e.getAttribute("data-news"))})),e)}(),function(){var e=document.getElementById("header-search");if(!e)return;s.default.render(o.default.createElement(v.TranslationContext,{section:"calendar"},o.default.createElement(l.default,null)),e)}(),function(){var e=document.getElementById("add-to-dashboard"),t=window.CALENDAR_SETTINGS,n=t.loggedUser&&!t.loggedUser.isKeyAddedToDashboard;if(!e||!n)return;s.default.render(o.default.createElement(v.TranslationContext,{section:"core_js"},o.default.createElement(E.default,null)),e)}(),function(){var e=document.getElementById("user-avatar");if(!e)return;s.default.render(o.default.createElement(v.TranslationContext,{section:"core_js"},o.default.createElement(k.default,{user:window.CALENDAR_SETTINGS.loggedUser||null})),e)}()}catch(e){console.error&&console.error(e)}g.default.hide(),"new_event"===n.action&&_.default.openEventEditor(n),!0===window.CALENDAR_SETTINGS.licenseFeatures.refresh_param&&function(){var e=parseFloat(n.refresh);if(!(isNaN(e)||!Number.isFinite(e)||e<=0)){var t=60*e*1e3,r=(0,w.default)();setInterval(function(){(0,w.default)().isSame(r,"day")?y.default.refresh():window.location.reload(!0)},t)}}()}var D}),window.teamup={history:b.History},window.moment=w.default}]);